angular.module("dist.ui",["dist.ui.tpls","dist.ui.position","dist.ui.transition","dist.ui.bindHtml","dist.ui.popup","dist.ui.resizelistener","dist.ui.dialog","dist.ui.collapse","dist.ui.alert","dist.ui.menu","dist.ui.imageview","dist.ui.progress","dist.ui.common","dist.ui.pagination","dist.ui.combobox","dist.ui.messagetip","dist.ui.my97datepicker","dist.ui.camerascanner","dist.ui.panel","dist.ui.datagrid","dist.ui.popupbutton","dist.ui.carousel","dist.ui.dividedbox","dist.ui.fileupload","dist.ui.searchinput","dist.ui.tabset","dist.ui.tilelist","dist.ui.tooltip","dist.ui.accordion","dist.ui.tree","dist.ui.chart","dist.ui.grid","dist.ui.formElement","dist.ui.wiTab"]),angular.module("dist.ui.tpls",["template/accordion/wi-accordion-group.html","template/accordion/wi-accordion.html","template/camerascanner/camerascannerTemplate.html","template/imageview/imageviewTemplate.html","template/carousel/carousel.html","template/carousel/slide.html","template/combobox/comboboxTemplate.html","template/datagrid/datagridTemplate.html","template/dividedbox/wi-dividedbox-group.html","template/dividedbox/wi-dividedbox.html","template/fileupload/wi-fileupload.html","template/imageview/imageviewTemplate.html","template/menu/wi-menu.html","template/pagination/wi-pagination.html","template/panel/wi-panel.html","template/popupbutton/popupbuttonTemplate.html","template/tree/treeTemplate.html","template/progress/wi-progress.html","template/searchinput/wi-searchinput.html","template/tebset/tabsetTemplate.html","template/tebset/tabTemplate.html","template/tilelist/tilelistTemplate.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tree/treeTemplate.html","template/wiTab/wiPageTab-template-tab.html"]),angular.module("dist.ui.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(e,t,i){t.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),e.$watch(i.bindHtmlUnsafe,function(e){e&&("string"==typeof e?t.html(e||""):t.empty().append(e))})}}),angular.module("dist.ui.accordion",["dist.ui.collapse","dist.ui.resizelistener"]).constant("accordionConfig",{emptyHeight:2,headHeight:32}).controller("AccordionController",["$scope","$attrs","$element","$log","accordionConfig",function(e,t,i,n,r){var o=this,a=void 0;!function(){var i=function(t){if(t){var i;return i=/^(?:[1-9]\d*|0)(?:.\d+)?/.test(t)?t:e.$eval(t),Number(i)&&(i+="px"),i}};e.ac_width=i(t.width,'warn: accordion 的 width="'+t.width+'"定义不合法!'),a=e.ac_height=i(t.height,'warn: accordion 的 height="'+t.height+'"定义不合法!'),a&&a.indexOf("%")>0&&(e.ac_hIsPCT=!0)}(),o.headHeight=e.$eval(t.headheight),!angular.isNumber(o.headHeight)&&(o.headHeight=r.headHeight);var l=a?!0:e.$eval(t.oneopen)||!1;o.groups=[],o.panelStyle={};var s=[];o.closeOthers=function(e){l&&1!=e.byOther&&angular.forEach(o.groups,function(t){t!==e&&t.isOpen&&(t.isOpen=!1,t.byOther=!0)})},o.adjust=function(e){if(a){var t=o.groups.indexOf(e);t==o.groups.length-1?o.groups[t-1].isOpen||(o.groups[t-1].isOpen=!0,o.groups[t-1].byOther=!0):o.groups[t+1].isOpen||(o.groups[t+1].isOpen=!0,o.groups[t+1].byOther=!0)}},o.addGroup=function(e,t){e.panelStyle=o.panelStyle,angular.isDefined(t)?o.groups.splice(t,0,e):o.groups.push(e),e.isOpen&&s.push(e),l&&s.length>1&&(s[0].isOpen&&(s[0].isOpen=!1,s[0].byOther=!0),s.shift()),a&&0==s.length&&(o.groups[0].isOpen||(o.groups[0].isOpen=!0,o.groups.length>1&&(o.groups[0].byOther=!0)),s.push(o.groups[0])),d()},o.removeGroup=function(e){var t=o.groups.indexOf(e);-1!==t&&o.groups.splice(t,1),d()};var d=a?function(){var t=o.groups.length;if(e.ac_hIsPCT){var n=.01*parseInt(a)*i[0].parentElement.clientHeight;o.panelStyle.cheight=n-(t*o.headHeight+r.emptyHeight)+"px"}else o.panelStyle.cheight="calc("+a+" - "+(t*o.headHeight+r.emptyHeight)+"px)"}:angular.noop;o.resizeH=function(){d(),o.groups.map(function(e){e.panelStyle.cheight=o.panelStyle.cheight})}}]).directive("wiAccordion",["wiResizeListener","$timeout",function(e,t){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!0,scope:{wiid:"=",onselect:"&",onunselect:"&"},templateUrl:"template/accordion/wi-accordion.html",link:function(i,n,r,o){o.onSelect=i.onselect(),o.onUnselect=i.onunselect(),i.ac_width&&n.css("width",i.ac_width),t(o.resizeH,0);var a=function(){e.addResizeListener(n[0].parentElement,function(){i.$evalAsync(o.resizeH)})};i.ac_hIsPCT&&a(),r.wiid&&angular.isObject(i.wiid)&&angular.extend(i.wiid,{element:function(){return n},options:function(){return{width:i.ac_width,height:i.ac_height}},panels:function(){return o.groups},getSelect:function(){for(var e=o.groups,t=0;t<e.length;t++)if(e[t].isOpen)return e[t]},getGroup:function(e){var t=o.groups;if(angular.isNumber(e))return t[e];for(var i=0;i<t.length;i++)if(t[i].heading==e)return t[i]},toggle:function(e){var t=o.groups;if(angular.isNumber(e))return t[e].isOpen=!t[e].isOpen,void 0;for(var i=0;i<t.length;i++)if(t[i].heading==e)return t[i].isOpen=!t[i].isOpen,void 0},reCompute:i.ac_hIsPCT?function(){a()}:angular.noop}),o.acLinked=!0}}}]).directive("wiAccordionGroup",function(){return{require:"^wiAccordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/wi-accordion-group.html",scope:{heading:"@",isOpen:"=?"},controller:function(){var e=this;e.setHeading=function(t){e.heading=t}},link:function(e,t,i,n){angular.isUndefined(e.isOpen)&&(e.isOpen=!1),e.byOther=!1,e.style={headheight:n.headHeight?n.headHeight+"px":void 0};var r=void 0;n.acLinked&&angular.forEach(t[0].parentElement.children,function(e,i){e==t[0]&&(r=i)}),n.addGroup(e,r),e.$watch("isOpen",function(t,i){var r=n.groups.indexOf(e);t?n.onSelect&&n.onSelect(r,e):n.onUnselect&&n.onUnselect(r,e),e.byOther?e.byOther=!1:t!==i&&(t?n.closeOthers(e):n.adjust(e))}),e.toggleOpen=function(){e.isOpen=!e.isOpen},e.$on("$destroy",function(){n.removeGroup(e)})}}}).directive("wiAccordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^wiAccordionGroup",link:function(e,t,i,n,r){n.setHeading(r(e,function(){}))}}}).directive("wiAccordionTransclude",function(){return{require:"^wiAccordionGroup",link:function(e,t,i,n){e.$watch(function(){return n[i.wiAccordionTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("dist.ui.alert",["dist.ui.dialog"]).factory("wiAlert",["$q","wiDialog",function(e,t){var i={showAlert:function(i,n){var r,o,a;r=angular.isString(i)?i:i.content,o={info:"icon-info-sign",error:"icon-remove-sign",warn:"icon-exclamation-sign",success:"icon-ok-sign",confirm:"icon-question-sign"},a={info:"提示",warn:"警告",error:"失败",success:"成功",confirm:"提示"};var l=['<div class="wi-clearf">','<div class="wi-alert-icon" ><span class="'+(i.iconClass||o[n])+'"></span></div>','<div class="wi-alert-simple-cont" >'+r+"</div></div>",'<div class="wi-alert-toolbar">','<input type="button" value='+(i.yesLabel||"确定")+' ng-click=confirm("YES") class="wi-btn" /></div>'];"confirm"===n&&l.splice(4,0,'<input type="button" value='+(i.noLabel||"取消")+' ng-click=confirm("NO") class="wi-btn wi-dialog-okClose" />');var s={closeByEscape:!1,closeByDocument:!1,overlay:!0,dialogInIframe:!1,plain:!0,title:i.title||a[n],withoutHead:!1,width:i.width||300,template:l.join("")},d=e.defer(),c=angular.noop,u=angular.noop;return d.promise=t.openConfirm(s),d.promise.yes=function(e){return c=e,d.promise},d.promise.no=function(e){return u=e,d.promise},d.promise.then(function(e){"YES"===e?c():"NO"===e?u():angular.noop()}),d.promise}},n={info:function(e){return i.showAlert(e,"info")},warn:function(e){return i.showAlert(e,"warn")},error:function(e){return i.showAlert(e,"error")},success:function(e){return i.showAlert(e,"success")},confirm:function(e){return i.showAlert(e,"confirm")}};return n}]),angular.module("dist.ui.camerascanner",["dist.ui.alert","dist.ui.dialog","dist.ui.imageview"]).directive("wiCamerascanner",["wiAlert","wiDialog",function(e,t){return{restrict:"E",transclude:!0,templateUrl:"template/camerascanner/camerascannerTemplate.html",replace:!0,scope:{url:"@",uploadcomplete:"&",topdf:"@"},link:function(i,n){function r(e){h=document.createElement("select");for(var t=e.length-1;t>=0;t--){var i=e[t];i=i.substring(0,i.indexOf(" ("));var n=new Option(i,t);h.add(n)}h.onchange=function(){var e=h.options[h.options.selectedIndex].value;s.selectCamera(e)},g.appendChild(h),g.style.visibility="visible"}function o(){if(20===v)e.warn("不能超过20张，请分批操作");else{var t=s.prepareCapture();p.style.width="222px",p.style.height=220/t[0]*t[1]+2+"px",u.insertBefore(p,u.firstChild),setTimeout(function(){a(s.capture(null,null,100))},0)}}function a(e){u.removeChild(p);var t=document.createElement("div");t.setAttribute("class","wi-camerascanner-photo"),t.setAttribute("index",v+""),t.setAttribute("id","_cam_list_div_"+v),t.setAttribute("_width",e[1]),t.setAttribute("_height",e[2]);var n=document.createElement("canvas"),r=n.getContext("2d");n.setAttribute("width",e[1]),n.setAttribute("height",e[2]);var o=new Image;o.onload=function(){r.drawImage(o,0,0,e[1],e[2]),n.style.width="220px",n.style.height=220/e[1]*e[2]+"px",t.style.width="222px",t.style.height=220/e[1]*e[2]+2+"px",r.drawImage(r.canvas,0,0),n.onclick=function(){i.$apply(function(){m=Number(t.getAttribute("index")),l(e[1],e[2]),s.style.visibility="hidden"})},t.appendChild(n);var a=document.createElement("a");a.setAttribute("href","javascript:void(0);"),a.setAttribute("class","icon-remove"),a.onclick=function(){i.$apply(function(){var e=Number(t.getAttribute("index"));s.removeImg(e),u.removeChild(t);for(var i=u.children[e];i;)i.setAttribute("index",e),i.setAttribute("id","_cam_list_div_"+e),i=u.children[++e];v--})},t.appendChild(a);var d=document.createElement("div");d.innerHTML="img"+v,d.setAttribute("contenteditable",!0),t.appendChild(d),t.onmouseover=function(){d.style.display="block"},t.onmouseout=function(){d.style.display="none"},u.insertBefore(t,u.firstChild),v++},o.src="data:image/jpg;base64,"+e[0]}function l(){var e=document.getElementById("_cam_list_div_"+m),t=Number(e.getAttribute("_width")),n=Number(e.getAttribute("_height"));i.imagedata=u.children[m].children[0].getContext("2d").getImageData(0,0,t,n)}var s=n.find("OBJECT")[0],d=document.querySelector(".wi-camerascanner-main"),c=angular.element(document.querySelector(".wi-camerascanner")),u=document.querySelector(".wi-camerascanner-list"),g=document.querySelector(".wi-camerascanner-head-select"),p=document.createElement("div");p.setAttribute("class","wi-camerascanner-photo wi-camerascanner-wait");var f=document.querySelector(".wi-camerascanner-btn");window._webcam_={debug:function(e,t){"cams"===e?r(t):i.debug(e,t)}};var h;i.debug=function(t,n){switch(t){case 1:e.error(n);break;case 2:e.error(n);break;case 3:e.error(n);break;case 4:break;case 5:i.close(),e.success("上传成功").yes(function(){i.uploadcomplete()&&i.uploadcomplete()(n)});break;case 6:break;default:console.log(t+": "+n)}},i.open=function(){var e=document.documentElement.clientHeight;d.style["margin-top"]=(e>592?(e-592)/2:2)+"px",c.removeClass("wi-camerascanner-hide");var t;h&&(t=h.options[h.options.selectedIndex].value),s.openCamera(t)},i.close=function(){for(s.closeCamera&&s.closeCamera();u.hasChildNodes();)u.removeChild(u.lastChild);c.addClass("wi-camerascanner-hide"),v=0},i.rotate=function(e){s.rotate(e)},i.resetCut=function(){s.resetCut()},i.camResolution="1200*1600",i.resolution=function(){var e=i.camResolution.split("*");s.resolution(e[0],e[1])},f.addEventListener("click",o,!1);var m,v=0;i.previous=function(){m>0?m--:m=v-1,l()},i.next=function(){v-1>m?m++:m=0,l()},i.viewClose=function(){s.style.visibility="visible"},i.upload=function(){s.style.visibility="hidden",t.openConfirm({template:"cameraScannerConfirm",width:300,title:"请输入文件名"}).then(function(e){e?s.upload&&s.upload(i.url,e,!i.topdf||"false"!=i.topdf):s.style.visibility="visible"},function(){s.style.visibility="visible"})}}}}]),angular.module("dist.ui.carousel",["dist.ui.transition"]).controller("CarouselController",["$scope","$timeout","$transition",function(e,t,i){function n(){r();var i=+e.interval;!isNaN(i)&&i>=0&&(a=t(o,i))}function r(){a&&(t.cancel(a),a=null)}function o(){l?(e.next(),n()):e.pause()}var a,l,s=this,d=s.slides=e.slides=[],c=-1;s.currentSlide=null;var u=!1;s.select=e.select=function(r,o){function a(){if(!u){if(s.currentSlide&&angular.isString(o)&&!e.noTransition&&r.$element){r.$element.addClass("wi-slide-"+o);{r.$element[0].offsetWidth}angular.forEach(d,function(e){angular.extend(e,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(r,{direction:o,active:!0,entering:!0}),angular.extend(s.currentSlide||{},{direction:o,leaving:!0}),e.$currentTransition=i(r.$element,{}),function(t,i){e.$currentTransition.then(function(){l(t,i)},function(){l(t,i)})}(r,s.currentSlide)}else l(r,s.currentSlide);s.currentSlide=r,c=g,n()}}function l(t,i){angular.extend(t,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(i||{},{direction:"",active:!1,leaving:!1,entering:!1}),e.$currentTransition=null}var g=d.indexOf(r);void 0===o&&(o=g>c?"next":"prev"),r&&r!==s.currentSlide&&(e.$currentTransition?(e.$currentTransition.cancel(),t(a)):a())},e.$on("$destroy",function(){u=!0}),s.indexOfSlide=function(e){return d.indexOf(e)},e.next=function(){var t=(c+1)%d.length;return e.$currentTransition?void 0:s.select(d[t],"next")},e.prev=function(){var t=0>c-1?d.length-1:c-1;return e.$currentTransition?void 0:s.select(d[t],"prev")},e.isActive=function(e){return s.currentSlide===e},e.$watch("interval",n),e.$on("$destroy",r),e.play=function(){l||(l=!0,n())},e.pause=function(){e.noPause||(l=!1,r())},s.addSlide=function(t,i){t.$element=i,d.push(t),1===d.length||t.active?(s.select(d[d.length-1]),1==d.length&&e.play()):t.active=!1},s.removeSlide=function(e){var t=d.indexOf(e);d.splice(t,1),d.length>0&&e.active?t>=d.length?s.select(d[t-1]):s.select(d[t]):c>t&&c--}}]).directive("wiCarousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"wiCarousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("wiSlide",function(){return{require:"^wiCarousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(e,t,i,n){n.addSlide(e,t),e.$on("$destroy",function(){n.removeSlide(e)}),e.$watch("active",function(t){t&&n.select(e)})}}}),angular.module("dist.ui.collapse",["dist.ui.transition"]).directive("wiCollapse",["$transition",function(e){return{link:function(t,i,n){function r(t){function n(){c===r&&(c=void 0)}var r=e(i,t);return c&&c.cancel(),c=r,r.then(n,n),r}function o(){var e=i[0].style.height;return(""==e||"0px"==e)&&(e="auto"),e}function a(){!u&&(u=o()),g||u.indexOf("calc")>=0?(g=!1,l()):(i.removeClass("wi-collapse").addClass("wi-collapsing"),r({height:"auto"==u?i[0].scrollHeight+"px":u}).then(l))}function l(){i.removeClass("wi-collapsing wi-collapse"),i.css({height:u})}function s(){if(!u&&(u=o()),g||u.indexOf("calc")>=0)g=!1,d();else{"auto"==u&&i.css({height:i[0].scrollHeight+"px"});{i[0].offsetWidth}i.addClass("wi-collapsing"),r({height:0}).then(d)}}function d(){i.removeClass("wi-collapsing").addClass("wi-collapse"),i.css({height:0})}var c,u,g=!0;t.$watch(n.wiCollapse,function(e){e?s():a()})}}}]),angular.module("dist.ui.combobox",["dist.ui.popup"]).constant("comboboxConfig",{liHeight:18,emptyMenuHeight:12}).filter("comboboxFilter",["comboboxService",function(e){return function(t,i,n,r){var o;return i&&0!==i.length?(o=[],angular.forEach(t,function(e){0===e[n].toLowerCase().indexOf(i.toLowerCase())&&o.push(e)})):o=t,r&&(o=e.initData(o,n,r)),o}}]).factory("comboboxService",function(){var e={};return e.initData=function(e,t,i){var n=[],r={};return angular.forEach(e,function(e){if(e[i]&&!r[e[i]]){var o={};o[t]=e[i],o.isGroup=!0,n.push(o),n.push(e),r[e[i]]=o}else n.push(e)}),n},e}).directive("wiCombobox",["$filter","$timeout","comboboxService","comboboxConfig",function(e,t,i,n){return{restrict:"E",templateUrl:"template/combobox/comboboxTemplate.html",replace:!0,scope:{dataprovider:"=",itemrenderer:"@",labelfield:"@",valuefield:"@",groupfield:"@",wimodel:"=",labelfunction:"&",prompt:"@",rowcount:"@",rowheight:"@",selecteditem:"=",editable:"@",multiselect:"@",enable:"@",itemchange:"&"},require:"wiPopup",link:function(r,o,a,l){function s(e){u.isopen||r.$apply(function(){u.isopen=!0,f=!0}),e.stopPropagation()}function d(e){f&&u.isopen&&(f=!1,e.stopPropagation())}var c=r.$parent,u=r.vm={},g=o.find("INPUT");u.labelfield=r.labelfield||"name",u.valuefield=r.valuefield||"value",u.prompt=r.prompt||"--请选择--",u.editable="false"!==r.editable,u.enable=r.enable,u.selecteditem=r.selecteditem||null,u.dataprovider=r.groupfield?i.initData(r.dataprovider,u.labelfield,r.groupfield):r.dataprovider,u.rowcount=Math.min(u.dataprovider.length,r.rowcount||5),r.multiselect&&g.attr("readOnly","true"),!u.editable&&g.attr("readOnly","true"),u.selectedindex=u.selecteditem?u.dataprovider.indexOf(u.selecteditem):-1;var p=c.$eval(a.dropdownwidth);!angular.isNumber(p)&&(p=void 0),function(e){if(e){var t;t=/^(?:[1-9]\d*|0)(?:.\d+)?/.test(e)?e:c.$eval(e),Number(t)?(o.css("width",t+"px"),!p&&(p=t)):o.css("width",t)}}(a.width),l.popupOptions.height=n.emptyMenuHeight+n.liHeight*u.rowcount,l.popupOptions.width=p,u.selecteditem&&(u._text=u.selecteditem[u.labelfield]),void 0!=r.wimodel&&angular.forEach(u.dataprovider,function(e,t){e[u.valuefield]==r.wimodel&&(u._text=e[u.labelfield],u.selectedindex=t)}),a.hasOwnProperty("enable")&&r.$watch("enable",function(e,t){e!==t&&(u.enable="false"===e)});var f=!1;g[0].addEventListener("focus",s),o[0].addEventListener("blur",function(){f=!1}),g[0].addEventListener("click",d),u.itemClickHandler=function(e,t){if(e.isGroup)return t.stopPropagation(),void 0;if(r.multiselect){t.stopPropagation(),e._checked=!e._checked;var i=[],n=[];angular.forEach(r.dataprovider,function(e){e._checked&&(i.push(e[u.labelfield]),n.push(e))}),u.selecteditem=n,u._text=i.join("; ")}else e!=u.selecteditem&&r.itemchange()&&r.itemchange()(e),u.selecteditem=e,u.selectedindex=u.dataprovider.indexOf(u.selecteditem),u._text=e[u.labelfield],r.wimodel=e[u.valuefield]},u.inputChange=function(){t(function(){for(u.dataprovider=e("comboboxFilter")(r.dataprovider,u._text,u.labelfield,r.groupfield),u.isopen||(u.isopen=!0),u.selectedindex=u.dataprovider.length>0&&u._text.length>0?0:-1;u.dataprovider[u.selectedindex]&&u.dataprovider[u.selectedindex].isGroup&&u.selectedindex<u.dataprovider.length;)u.selectedindex++},0)},u.keydownHandler=function(i){var o=i.keyCode;if(38===o){do 0!==u.selectedindex&&-1!==u.selectedindex?u.selectedindex--:u.selectedindex=u.dataprovider.length-1;while(u.dataprovider[u.selectedindex].isGroup&&u.selectedindex>=0)}else if(40===o){do u.selectedindex<u.dataprovider.length-1?u.selectedindex++:u.selectedindex=0;while(u.dataprovider[u.selectedindex].isGroup&&u.selectedindex<u.dataprovider.length)}else{if(13!==o)return;if(u.isopen)u.dataprovider=e("comboboxFilter")(r.dataprovider,"",u.labelfield,r.groupfield),u.selectedindex=u.dataprovider.indexOf(u.selecteditem);else{var a=u.dataprovider[u.selectedindex];u.selecteditem!=a&&r.itemchange()&&r.itemchange()(a),u.selecteditem=a,u.selecteditem&&(u._text=u.selecteditem[u.labelfield])&&(r.wimodel=u.selecteditem[u.valuefield])}}t(function(){l.popupOptions.elem[0].scrollTop=n.liHeight*u.selectedindex})},u.clickHandler=function(){l.popupOptions.elem[0].scrollTop=n.liHeight*u.selectedindex,u.isopen&&(u.dataprovider=e("comboboxFilter")(r.dataprovider,"",u.labelfield,r.groupfield))}}}}]);var wiResetHttpProvider=["$httpProvider",function(e){e.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8";var t=function(e){var i,n,r,o,a,l,s,d="";for(i in e)if(n=e[i],n instanceof Array)for(s=0;s<n.length;++s)a=n[s],r=i+"["+s+"]",l={},l[r]=a,d+=t(l)+"&";else if(n instanceof Object)for(o in n)a=n[o],r=i+"["+o+"]",l={},l[r]=a,d+=t(l)+"&";else void 0!==n&&null!==n&&(d+=encodeURIComponent(i)+"="+encodeURIComponent(n)+"&");return d.length?d.substr(0,d.length-1):d};e.defaults.transformRequest=[function(e){return angular.isObject(e)&&"[object File]"!==String(e)?t(e):e}]}];angular.module("dist.ui.common",[]).config(wiResetHttpProvider).factory("wiCommonSev",[function(){return{getSizeFromAttr:function(e,t){if(e){var i;return/^(?:[1-9]\d*|0)(?:.\d+)?/.test(e)?i=e:t&&(i=t.$eval(e)),Number(i)&&(i+="px"),i}}}}]),angular.module("dist.ui.datagrid",["dist.ui.bindHtml","dist.ui.resizelistener"]).constant("dgConf",{defaultColWidth:120,miniColWidth:60,pageBarHeight:30,headerHeight:50,rowHeight:40,scrollBarSize:17,leftColWidth:30,dragDivWidth:3,dgBorder:1,treeIndent:16}).value("excelTemplate",{worksheet_template:'<?xml version="1.0"?><?mso-application progid="Excel.Sheet"?><Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40"><Styles><Style ss:ID="Default" ss:Name="Normal"><Alignment ss:Vertical="Center"/><Borders/><Font ss:FontName="宋体" x:CharSet="134" ss:Size="11" ss:Color="#000000"/><Interior/><NumberFormat/><Protection/></Style><Style ss:ID="s62"><NumberFormat ss:Format="Short Date"/></Style><Style ss:ID="s63"><Font ss:FontName="宋体" x:CharSet="134" ss:Size="11" ss:Color="#000000" ss:Bold="1"/></Style></Styles><Worksheet ss:Name="Sheet1"><Table>{{COLUMNS}}{{ROWS}}</Table><WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel"><PageSetup><Header x:Margin="0.3"/><Footer x:Margin="0.3"/><PageMargins x:Bottom="0.75" x:Left="0.7" x:Right="0.7" x:Top="0.75"/></PageSetup><Unsynced/><Selected/><FreezePanes/><FrozenNoSplit/><SplitHorizontal>1</SplitHorizontal><TopRowBottomPane>1</TopRowBottomPane><ActivePane>2</ActivePane><Panes><Pane><Number>3</Number><ActiveRow>2</ActiveRow><ActiveCol>1</ActiveCol></Pane></Panes><ProtectObjects>False</ProtectObjects><ProtectScenarios>False</ProtectScenarios></WorksheetOptions></Worksheet></Workbook>',column_template:'<Column ss:Width="{{WIDTH}}"/>',head_template:'<Row ss:Height="14.25" ss:StyleID="s63">{{CELL}}</Row>',row_template:'<Row ss:AutoFitHeight="0">{{CELL}}</Row>',cell_template:'<Cell><Data ss:Type="String">{{NAME}}</Data></Cell>',cell_template_date:'<Cell ss:StyleID="s62"><Data ss:Type="DateTime">{{NAME}}</Data></Cell>',cell_template_number:'<Cell><Data ss:Type="Number">{{NAME}}</Data></Cell>'}).factory("dgService",["excelTemplate",function(e){return{isEmptyRow:function(e){for(var t in e)return!1;return!0},allChecked:function(e){if(e&&e.length>0)for(var t,i=0;i<e.length;i++)if(t=e[i],!this.isEmptyRow(t)&&!t.__ischecked)return!1;return!0},uncheckAll:function(e){angular.forEach(e,function(e){e.__ischecked=!1})},base64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},isDate:function(e){var t=e+"",i=t.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/);if(null==i)return!1;var n=new Date(i[1],i[3]-1,i[4]);return n.getFullYear()==i[1]&&n.getMonth()+1==i[3]&&n.getDate()==i[4]},table2excel:function(t,i){var n="",r="";angular.forEach(i,function(t){n+=e.column_template.replace("{{WIDTH}}",3*t/4)});for(var o=0,a=t.length;a>o;o++){for(var l=t[o],s="",d=0,c=l.length;c>d;d++)s+=this.isDate(l[d])?e.cell_template_date.replace("{{NAME}}",l[d]+"T00:00:00.000"):angular.isNumber(l[d])?e.cell_template_number.replace("{{NAME}}",l[d]):e.cell_template.replace("{{NAME}}",l[d]);r+=0===o?e.head_template.replace("{{CELL}}",s):e.row_template.replace("{{CELL}}",s)}return e.worksheet_template.replace("{{COLUMNS}}",n).replace("{{ROWS}}",r)},table2excelByIE:function(e,t){var i=null;try{i=new ActiveXObject("Excel.Application")}catch(n){i=new ActiveXObject("ET.Application")}try{var r=i.Workbooks.Add(),o=r.ActiveSheet;angular.forEach(t,function(e,t){o.Columns(t+1).ColumnWidth=e/8});for(var a=0,l=e.length;l>a;a++)for(var s=0,d=e[a].length;d>s;s++)0===a&&(o.Cells(a+1,s+1).Font.Bold=!0,o.Cells(a+1,s+1).Font.Size=11),this.isDate(e[a][s])||angular.isNumber(e[a][s])||(o.Cells(a+1,s+1).NumberFormatLocal="@"),o.Cells(a+1,s+1).value=e[a][s];i.Visible=!0,i.UserControl=!0}catch(n){i.Application.Quit(),console.error(n)}finally{i=null}}}}]).directive("wiDatagrid",["$compile","$templateCache","$http","$timeout","$q","$parse","wiResizeListener","dgService","dgConf",function(e,t,i,n,r,o,a,l,s){return{restrict:"E",transclude:!0,replace:!0,scope:{wiid:"=",columns:"=",itemclick:"&",itemdoubleclick:"&",treefield:"@",itemopen:"&",rowheight:"@",hscrollpolicy:"@",vscrollpolicy:"@",rowcolorfunction:"&",pageselect:"=",dataurl:"@",params:"=",success:"&",error:"&",showexcel:"@",excelexport:"&",showrefresh:"@",pagemode:"@",pagebarrenderer:"@"},templateUrl:"template/datagrid/datagridTemplate.html",controller:["$scope",function(e){e.maxLevel=0,e.heads=[],e.columnDefs=[],this.addColumnDef=function(t){e.columnDefs.push(t)};var t=[];this.addChildCol=function(e){t.push(e)},this.getChildCol=function(){return t.shift()},this.addHeadDef=function(t,i){e.heads.push(t),i>e.maxLevel&&(e.maxLevel=i)}}],link:function(t,d,c,u){var g=d.children(),p=g.eq(0),f=g.eq(1),h=g.eq(2),m=g.eq(3),v=g.eq(4),w=g.eq(5),b=g.eq(6),C=g.eq(7),y=t.columnDefs,x=s.defaultColWidth,S=window.document,E=d[0].parentElement,A=t.params||{},T=[],R=[],P=void 0,$=t.pagedata=[],k=c.width,D=c.height;angular.isNumber(k)||(Number(k)?k=Number(k):angular.isString(k)&&-1!=k.indexOf("%")||(k="100%")),angular.isNumber(D)||(Number(D)?D=Number(D):angular.isString(D)&&-1!=D.indexOf("%")||(D="100%")),d.css({width:k+(angular.isNumber(k)?"px":""),height:D+(angular.isNumber(D)?"px":"")});var _={topHeight:t.$eval(c.headerheight)||s.headerHeight,pagebarHeight:t.$eval(c.pagebarHeight)||s.pageBarHeight,leftWidth:0,rightWidth:0},F=angular.isNumber(k)&&angular.isNumber(D),G=l.isEmptyRow,L=function(){if(t.columns){var e,i=function(t,n){angular.forEach(t,function(t){var r;t.children?(r={level:n.level+1,parent:n,type:"childGroup",text:t.headtext||"",colspan:0,children:[]},i(t.children,r),0==r.colspan&&(r.colspan=1),n.colspan+=r.colspan):(r={level:n.level+1,parent:n,type:"childColumn",text:t.headtext||"",colspan:1,datafield:t.datafield,itemrenderer:t.itemrenderer,headrenderer:t.headrenderer,width:t.width,sortable:t.sortable,align:t.align||"center"},n.colspan++,u.addColumnDef(r)),r.level>e&&(e=r.level),n.children.push(r)})};angular.forEach(t.columns,function(t){var n;t.children?(e=1,n={level:1,type:"topGroup",text:t.headtext||"",colspan:0,children:[]},i(t.children,n),n.maxLevel=e,0==n.colspan&&(n.colspan=1)):(n={level:1,type:"topColumn",text:t.headtext||"",colspan:1,datafield:t.datafield,itemrenderer:t.itemrenderer,headrenderer:t.headrenderer,width:t.width,sortable:t.sortable,align:t.align||"center"},u.addColumnDef(n),e=1),u.addHeadDef(n,e)})}},N=function(){if(t.rightW=0,t.lockcolumns=Math.min(t.$eval(c.lockcolumns)||0,y.length),t._wordwrap=t.lockcolumns>0?!1:t.$eval(c.wordwrap),t.isCheckAll=!1,t.showno=t.$eval(c.showno)||!1,t.multiselect=t.$eval(c.multiselect)||!1,t.selectedPageSize=t.pageselect?t.pageselect[0]:20,t.pageNum=1,t.pageStart=(t.pageNum-1)*t.selectedPageSize+1,t.pageCount=1,t.dataCount=0,t.$watch("selectedPageSize",function(e,t){e!=t&&n(function(){W()})}),t.collapse="false"!=c.collapse,t._rowheight=t.rowheight||s.rowHeight,t.lblFuns=function(){var e={};return angular.forEach(y,function(t){t.labfunction&&(e[t.datafield]=t.labfunction())}),e}(),t.dataurl)t.dataprovider=void 0;else{var e,i=t.$parent;if(c.dataprovider){var r=o(c.dataprovider);e=r.assign,t.dataprovider=r(i),e&&i.$watch(r,function(e,i){e!==i&&(t.dataprovider=e)})}else t.dataprovider=[];t.$watchCollection("dataprovider",function(n,r){n!=r&&(t.dataprovider||(t.dataprovider=[]),0==t.dataprovider.length?(t.isclear=!0,$.length=0):(W(),t.isclear?t.dataCount=0:null,t.isclear=!1),e&&e(i,n))})}},O=function(){for(var e=[],i=0;i<t.maxLevel;)e[i++]=[];return e},I=function(e,i){angular.forEach(e,function(e){switch(e.type){case"topColumn":e.datafield==t.treefield&&(e.align="left"),e.colindex=Y++,e.rowspan=t.maxLevel;break;case"topGroup":e.colindex=Y,e.rowspan=t.maxLevel-e.maxLevel+1,I(e.children,i+e.rowspan);break;case"childColumn":e.datafield==t.treefield&&(e.align="left"),e.colindex=Y++,e.rowspan=t.maxLevel-i;break;case"childGroup":e.colindex=Y,e.rowspan=1,I(e.children,i+e.rowspan)}X[i].push(e)})},M=function(){var i,n,r=t.treefield,o=s.treeIndent,a=0,l=function(e,t){for(var a="",l=e;t>l;l++)i=y[l],a+='<td style="text-align:'+i.align+'">',i.itemrenderer?a+="<span ng-include src=\"'"+i.itemrenderer+"'\"></span></td>":(r&&i.datafield==r&&(a+='<span ng-if="pdata[\'__level\']" style="display:inline-block;" ng-style="{width:('+o+"*pdata['__level'])+'px'}\"></span>",a+="<span ng-if=\"!!pdata['children']\" class=\"treespan icon-{{pdata['__close']?'plus':'minus'}}\"></span>",a+='<span ng-if="pdata[\'__loading\']" class="wi-datagrid-tree-loading"></span>'),i.labfunction?(n=i.datafield+"_lblFun",a+='<span bind-html-unsafe=lblFuns["'+i.datafield+'"](pdata)></span></td>'):a+="<span>{{pdata['"+i.datafield+"']}}</span></td>");return a},c=function(){var e="";return t.showno&&(a++,e+='<td class="wi-datagrid-keycol"><span ng-if="pdata">{{pdata["__index"]}}</span></td>'),t.multiselect&&(a++,e+='<td class="wi-datagrid-keycol"><input ng-if="pdata[\'__level\']==0" type="checkbox" class="wi-checkbox" ng-checked="pdata.__ischecked" /></td>'),a+=t.lockcolumns,e+=l(0,t.lockcolumns)},u=function(){var e="",i=0;return t.lockcolumns?i=t.lockcolumns:(t.showno&&(e+='<td class="wi-datagrid-keycol"><span ng-if="pdata">{{pdata["__index"]}}</span></td>'),t.multiselect&&(e+='<td class="wi-datagrid-keycol"><input ng-if="pdata[\'__level\']==0" type="checkbox" class="wi-checkbox" ng-checked="pdata.__ischecked" /></td>')),e+=l(i,y.length)};t.lockcolumns>0&&(h.find("tr").eq(0).attr("ng-repeat","pdata in pagedata track by $index").attr("ng-if",'!pdata["__hide"]').attr("data-dg-pindex","{{::$index}}").html(c()),h.find("tr").eq(1).find("td").attr("colspan",a)),m.find("tr").eq(0).attr("ng-repeat","pdata in pagedata track by $index").attr("ng-if",'!pdata["__hide"]').attr("data-dg-pindex","{{::$index}}").html(u()),C.remove(),e(d)(t)},H=function(e){if(e!==!0&&(e=!1),e||!F){var i=function(){var i,n,r=0,o=0,a=0;if(angular.forEach(y,function(i,n){if(e){var o=i.width;angular.isNumber(o)?T.push(o):angular.isString(o)?/^\s*\d+\.?\d*%\s*$/.test(o)?T.push(o):/^\s*\d+\.?\d*\s*$/.test(o)?(o=Number(o),T.push(o)):(o=void 0,T.push(o),R.push(n)):(o=void 0,T.push(o),R.push(n))}var a=T[n];angular.isString(a)&&(a=Math.round(t._width*Number(a.replace("%",""))/100)),angular.isDefined(a)&&(i.width=a,r+=a)}),t.multiselect&&(o+=s.leftColWidth),t.showno&&(o+=s.leftColWidth),r+=o,n=t._width-s.scrollBarSize-r,i=Math.floor(n/R.length),x>i?angular.forEach(R,function(e){y[e].width=x,r+=x,n-=x}):angular.forEach(R,function(e,t){t==R.length-1?(y[e].width=n,r+=n,n=0):(y[e].width=i,r+=i,n-=i)}),t.lockcolumns){a+=o;for(var l=t.lockcolumns-1;l>-1;l--)a+=Number(y[l].width)}_.leftWidth=a,_.rightWidth=t._width-a,t.rightW=r-a};e?(t._width=(angular.isString(k)?Math.round(E.clientWidth*Number(k.replace("%",""))/100):k)-2*s.dgBorder,t._height=(angular.isString(D)?Math.round(E.clientHeight*Number(D.replace("%",""))/100):D)-2*s.dgBorder,i(),m.css("overflow-x",t.hscrollpolicy||"auto")):(angular.isString(k)&&(t._width=Math.round(E.clientWidth*Number(k.replace("%",""))/100)-2*s.dgBorder,i()),angular.isString(D)&&(t._height=Math.round(E.clientHeight*Number(D.replace("%",""))/100)-2*s.dgBorder));var n=_.topHeight,r=_.leftWidth,o=_.pagebarHeight,a=t._height-n-o;p.css({width:r+"px",height:n+"px"}),f.css({width:_.rightWidth+"px",height:n+"px",left:r+"px"}),h.css({width:r+"px",height:a+"px",top:n+"px"}),m.css({width:_.rightWidth+"px",height:a+"px",top:n+"px",left:r+"px"}),v.css({height:o+"px",lineHeight:o-5+"px",top:t._height-o+"px"})}},z=function(){m[0].scrollLeft=0,m[0].scrollTop=0},V=function(e){var i=t.pageNum,n=t.selectedPageSize;t.pageStart=(i-1)*n+1;var r=[];if($.length=0,"none"===t.pagemode||"server"===t.pagemode)r=P;else{var o=(i-1)*n;
r=P.slice(o,o+n)}if(t.treefield?!function s(e,i){for(var n=0;n<e.length;n++){var r=e[n];if(G(r))return;i?(r.__hide=t.collapse,r.__level=i):(r.__index=t.pageStart+n,r.__level=0),$.push(r),r.children&&(r.__close=t.collapse,s(r.children,r.__level+1))}}(r):angular.forEach(r,function(e,i){G(e)||(e.__index=t.pageStart+i,e.__level=0,$.push(e))}),t.isCheckAll=l.allChecked($),c.rowcolorfunction){var a=t.rowcolorfunction();angular.forEach($,function(e){G(e)?null:e.__rowcolor=a(e)})}e&&e.resolve("success")},B=function(e,n){var r=t.selectedPageSize;angular.extend(A,{start:r*(e-1),limit:"server"===t.pagemode?r:-1}),i.post(t.dataurl,A).success(function(e){e.success?(0==A.start&&(t.dataCount=e.data.total,t.pageCount=Math.max(Math.ceil(e.data.total/r),1)),P=e.data.rows,n.resolve("success")):console.error("wiDataGrid",e.msg)})},W=function(){b.css("visibility","visible");var e=r.defer(),i=1;P=void 0,t.pageNum=i,t.dataurl?B(i,e):(P=t.dataprovider,!P&&(P=[]),t.dataCount=P.length,t.pageCount=Math.max(Math.ceil(t.dataCount/t.selectedPageSize),1),e.resolve("success")),e.promise.then(function(){V(),z(),b.css("visibility","hidden")})};t.dorefresh=function(){W()},t.doPage=function(e){if(e=Math.min(e,t.pageCount),e=Math.max(e,1),e!=t.pageNum){b.css("visibility","visible"),t.pageNum=e;var i=r.defer();"server"===t.pagemode?B(e,i):i.resolve("success"),i.promise.then(function(){V(),z(),b.css("visibility","hidden")})}},t.gotoPage=function(e){13==e.keyCode&&t.doPage(parseInt(angular.element(e.target).val()))},t.sortcolumn={datafield:void 0,direction:void 0},t.sort=function(e){var i=t.columnDefs[e];if(i.sortable){var n=i.datafield;t.sortcolumn.datafield==n?t.sortcolumn.direction=-t.sortcolumn.direction:(t.sortcolumn.datafield=n,t.sortcolumn.direction=1),P.sort(function(e,i){var r=e[n],o=i[n],a=t.sortcolumn.direction;return o>r?-a:r>o?a:0}),V()}},t.checkAll=function(){for(var e=t.isCheckAll=!t.isCheckAll,i=$.length-1;i>-1;i--)G($[i])?null:$[i].__ischecked=e};var j=function(){t.wiid&&angular.isObject(t.wiid)&&(t.wiid.getSelectedItems=function(){var e=[];return angular.forEach($,function(t){t.__ischecked?e.push(t):null}),e},t.wiid.getSelectedItem=function(){for(var e=0;e<$.length;e++)if($[e].__ischecked)return $[e]},t.wiid.refresh=function(){t.dorefresh()},t.wiid.reCompute=F?angular.noop:function(){J()})},U=function(){var e,i,n,r=s.miniColWidth,o=null,a=0,l=function(i){if(o&&e){var l=i.clientX-a,d=o.getBoundingClientRect(),c=Math.max(d.right+l,d.left+r)-Math.ceil(s.dragDivWidth/2)-n;c>t._width||w.css("left",c+"px")}},c=function(n){if(o&&e){var s,u=e.colindex,g=y[u].width;s=Math.max(g+n.clientX-a,r);var v=R.indexOf(u);v>=0&&R.splice(v,1),T[u]=s;var b=s-g;y[e.colindex].width=s,i?(_.leftWidth+=b,_.rightWidth-=b,p.css({width:_.leftWidth+"px"}),f.css({width:_.rightWidth+"px",left:_.leftWidth+"px"}),h.css({width:_.leftWidth+"px"}),m.css({width:_.rightWidth+"px",left:_.leftWidth+"px"})):t.rightW+=b,t.$digest(),o=e=void 0,w.css("display","none"),d.removeClass("wi-resizing wi-unselectable"),d[0].removeEventListener("mousemove",l),S.removeEventListener("mouseup",c)}};t.startColumnDrag=function(r,u,g){o&&(i=g,n=d[0].getBoundingClientRect().left+s.dgBorder,a=r.clientX,w.css({left:o.getBoundingClientRect().right-n-Math.ceil(s.dragDivWidth/2)+"px",display:"block",height:t._height-_.pagebarHeight+"px"}),d.addClass("wi-resizing wi-unselectable"),e=u,S.addEventListener("mousemove",l),S.addEventListener("mouseup",c))},t.headMousemove=function(t){if(!e){for(var i=t.target,n=t.clientX;"TD"!=i.tagName;){if("BODY"==i.tagName)return d.removeClass("wi-resizing"),o=void 0,void 0;i=i.parentNode}var r=i.getBoundingClientRect();n>r.right-s.dragDivWidth&&n<=r.right?(d.addClass("wi-resizing"),o=i):(d.removeClass("wi-resizing"),o=void 0)}},t.headMouseleave=function(){o&&e||d.removeClass("wi-resizing")}},q=function(){var e={currentTop:0,currentleft:0};m[0].addEventListener("scroll",function(t){var i=t.target;i.scrollTop!=e.currentTop&&(e.currentTop=h[0].scrollTop=i.scrollTop),i.scrollLeft!=e.currentleft&&(e.currentleft=f[0].scrollLeft=i.scrollLeft)})},K=function(){var e=function(e,i){if(e.__loading=!1,angular.isArray(i)){var n=$.indexOf(e);angular.forEach(i,function(t){t.children&&(t.__close=!0),t.__hide=!1,t.__level=e.__level?e.__level+1:1,$.splice(n+1,0,t),n++}),e.children=i}t.$digest()},i=function(i){i.__close=!i.__close,i.children&&0==i.children.length&&!i.__close&&t.itemopen()?(i.__loading=!0,t.itemopen()(i,e)):!function n(e,t){angular.forEach(e,function(e){e.__hide=t||!e.__hide,i.__close&&e.children&&!e.children.__close&&(e.__close=!0,n(e.children,!0))})}(i.children)},n=function(e){var n=e.target;if(n){for(var r=(" "+n.className+" ").indexOf("treespan")>=0;"TR"!=n.tagName&&n.parentElement;)n=n.parentElement;if("TR"==n.tagName&&null!=n.getAttribute("data-dg-pindex")){var o=Number(n.getAttribute("data-dg-pindex")),a=$[o];G(a)||(r?(e.stopPropagation(),i(a),t.$digest()):(a.__ischecked||t.multiselect||l.uncheckAll($),a.__ischecked=!a.__ischecked,t.isCheckAll=l.allChecked($),t.$digest(),c.itemclick&&t.itemclick()(a,e)))}}},r=function(e){var i=e.target;if(i){for(;"TR"!=i.tagName&&i.parentElement;)i=i.parentElement;if("TR"==i.tagName&&null!=i.getAttribute("data-dg-pindex")){var n=Number(i.getAttribute("data-dg-pindex")),r=$[n];G(r)||c.itemdoubleclick&&t.itemdoubleclick()(r)}}};c.itemdoubleclick&&(h[0].addEventListener("dblclick",r),m[0].addEventListener("dblclick",r)),h[0].addEventListener("click",n),m[0].addEventListener("click",n)};t.export2excel=function(e){var i=[],n=[],r=[];if(angular.forEach(t.columnDefs,function(e){n.push(e.text),r.push(e.width)}),i.push(n),angular.forEach($,function(e){n=[],angular.forEach(t.columnDefs,function(t){t.labfunction?n.push(t.labfunction()(e)):n.push(e[t.datafield])}),i.push(n)}),navigator.userAgent.indexOf("MSIE")>0)l.table2excelByIE(i,r);else{var o="data:application/vnd.ms-excel;base64,";e.currentTarget.href=o+l.base64(l.table2excel(i,r))}};var J=function(){a.addResizeListener(E,function(){t.$evalAsync(H)})};L(),_.topHeight*=t.maxLevel,N();var X=t.headarray=O(),Y=0;I(t.heads,0),M(),n(function(){H(!0)},0),W(),j(),U(),q(),K(),!F&&J()}}}]).directive("wiDatagridColumn",function(){return{restrict:"E",scope:{labfunction:"&"},require:"^wiDatagrid",link:function(e,t,i,n){var r={text:i.headtext,colspan:1,datafield:i.datafield,itemrenderer:i.itemrenderer,headrenderer:i.headrenderer,width:i.width,sortable:i.sortable,align:i.align||"center"};i.labfunction?r.labfunction=e.labfunction:null,"WI-DATAGRID-COLUMN-GROUP"!=t[0].parentElement.tagName?(r.type="topColumn",r.level=1,n.addHeadDef(r,1)):(r.type="childColumn",n.addChildCol(r)),n.addColumnDef(r)}}}).directive("wiDatagridColumnGroup",function(){return{restrict:"E",require:"^wiDatagrid",link:function(e,t,i,n){if("WI-DATAGRID-COLUMN-GROUP"!=t[0].parentElement.tagName){var r={level:1,type:"topGroup",text:i.text||"",colspan:t.find("wi-datagrid-column").length,children:[]},o=1,a=function(e,t){angular.forEach(e,function(e){var i;"WI-DATAGRID-COLUMN-GROUP"==e.tagName?(i={level:t.level+1,type:"childGroup",text:e.getAttribute("TEXT")||"",colspan:angular.element(e).find("wi-datagrid-column").length,children:[]},e.children&&a(e.children,i)):"WI-DATAGRID-COLUMN"==e.tagName&&(i=n.getChildCol(),i.level=t.level+1),i.parent=t,o=Math.max(o,i.level),t.children.push(i)})};a(t[0].children,r),r.maxLevel=o,n.addHeadDef(r,o)}}}}),angular.module("dist.ui.dividedbox",["dist.ui.transition"]).constant("dividedboxConf",{boxMinSize:100,collapseSize:28,barSize:4}).factory("dividedboxService",["dividedboxConf","$compile",function(e,t){return{dividedboxProductor:function(i){var n,r;return"h"==i?(n="clientX",r="<span class=\"wi-dividedbox-followbar\" ng-style=\"{left: 'calc(' + resizeConf.preSizes + ' + ' + resizeConf.preResizes + 'px)'}\"></span>"):(n="clientY",r="<span class=\"wi-dividedbox-followbar\" ng-style=\"{top : 'calc(' + resizeConf.preSizes + ' + ' + resizeConf.preResizes + 'px)'}\"></span>"),{restrict:"E",templateUrl:function(){return"template/dividedbox/wi-dividedbox.html"},transclude:!0,replace:!0,scope:{},controller:["dividedboxConf","$scope","$transition",function(e,t,n){function r(i){var n=d[i],r="left"==n.dividedboxG.collapseto||"up"==n.dividedboxG.collapseto?1:-1,o=d[i+r];if(1!=o.dividedboxG.collapsed){var a=d[i-r];if(!a||1!=a.dividedboxG.collapsed||a.dividedboxG.collapseto!=n.dividedboxG.collapseto){var l=" + "+n.dividedboxG.user,s=i==t.boxes.length-1?e.collapseSize-e.barSize:e.collapseSize;n.dividedboxG.size="0px",n.dividedboxG.resize=s,o.dividedboxG.size+=l,o.dividedboxG.resize=0-s,n.dividedboxG.collapsed=!n.dividedboxG.collapsed}}}function o(e,t){function i(){p--,e.removeClass("wi-dividedbox-collapsing")}if(!(window.ActiveXObject||"ActiveXObject"in window)){e.addClass("wi-dividedbox-collapsing");var r=n(e,t);return r.then(i,i),r}t(),p--}var a=this;t.type=i;var l="h"==i?"left":"up",s="h"==i?"right":"down",d=t.boxes=[],c=[],u="100%",g=!1;a.addBox=function(e){var i=t.boxes.length;e.initBox(i),d.push(e),""===e.dividedboxG.user?c.push(i):u+=" - "+e.dividedboxG.user;var n="("+u+") / "+c.length.toString();angular.forEach(c,function(e){d[e].dividedboxG.user=d[e].dividedboxG.size=n}),0==i?(g=e.dividedboxG.collapseto?!0:!1,e.dividedboxG.collapseto=void 0,e.dividedboxG.collapsed=!1):(g&&(d[i-1].dividedboxG.collapseto=l,g=!1),e.dividedboxG.collapseto==l&&(e.dividedboxG.collapseto=s,g=!0),angular.forEach(d,function(e){e.dividedboxG.collapsed=!1,e.dividedboxG.resize=0,e.dividedboxG.user&&(e.dividedboxG.size=e.dividedboxG.user)}),angular.forEach(d,function(e,t){e.dividedboxG.collapseto&&e.dividedboxG._collapsed&&r(t)}))},a.removeBox=function(e){if(-1!==e){d.splice(e,1);for(var t=e;t<d.length;t++)d[t].index--}},a.startResize=function(e){if(t.resizeConf.resizable&&0==t.resizeConf.resizing){if(t.boxes[e].dividedboxG.collapsed===!0||t.boxes[e+1].dividedboxG.collapsed===!0)return;t.resizeConf.resizing=!0,t.resizeConf.index=e}};var p=0;a.doCollapse=function(i){if(0==p){var n=d[i],r="left"==n.dividedboxG.collapseto||"up"==n.dividedboxG.collapseto?1:-1,a=d[i+r];if(1!=a.dividedboxG.collapsed){var l=d[i-r];if(!l||1!=l.dividedboxG.collapsed||l.dividedboxG.collapseto!=n.dividedboxG.collapseto){var s=" + "+n.dividedboxG.user,c=i==t.boxes.length-1?e.collapseSize-e.barSize:e.collapseSize;n.dividedboxG.preResize=n.dividedboxG.resize,p+=2,o(n.getElem(),function(){n.dividedboxG.size="0px",n.dividedboxG.resize=c,n.dividedboxG.collapsed=!n.dividedboxG.collapsed}),o(a.getElem(),function(){a.dividedboxG.size=a.dividedboxG.size+s,a.dividedboxG.resize=a.dividedboxG.resize+n.dividedboxG.preResize-c})}}}},a.doExpand=function(i){if(0==p){var n=d[i],r="left"==n.dividedboxG.collapseto||"up"==n.dividedboxG.collapseto?1:-1,a=" + "+n.dividedboxG.user,l=d[i+r],s=i==t.boxes.length-1?e.collapseSize-e.barSize:e.collapseSize;p+=2,n.dividedboxG.collapsed=!n.dividedboxG.collapsed,o(n.getElem(),function(){n.dividedboxG.size=n.dividedboxG.user,n.dividedboxG.resize=n.dividedboxG.preResize}),o(l.getElem(),function(){var e=l.dividedboxG.size.indexOf(a);l.dividedboxG.size=l.dividedboxG.size.slice(0,e).concat(l.dividedboxG.size.slice(e+a.length)),l.dividedboxG.resize=l.dividedboxG.resize-n.dividedboxG.preResize+s})}}}],link:function(o,a,l){function s(e){var t=e[n];t>=h&&m>=t&&(o.resizeConf.preResizes+=t-f,f=t,o.$digest())}function d(){var t=f-p,i=o.resizeConf.index;o.boxes[i].dividedboxG.resize+=t,o.boxes[i+1].dividedboxG.resize-=t,o.resizeConf.resizing=!1,o.resizeConf.preSizes="0px",o.resizeConf.preResizes=-1*e.barSize,o.$digest(),o.boxes[i].$digest(),o.boxes[i+1].$digest(),a.unbind("mousemove",s).unbind("mouseup",d).unbind("mouseleave",d)}var c=o.$parent,u=function(e){if(e){var t;return t=/^(?:[1-9]\d*|0)(?:.\d+)?/.test(e)?e:c.$eval(e),Number(t)&&(t+="px"),t}},g=t(r)(o);if(a.prepend(g),a.addClass("wi-"+i+"dividedbox"),a.css({width:u(l.width)||"",height:u(l.height)||""}),o.$on("$destroy",function(){g&&g.remove()}),o.resizeConf={resizable:"false"!=l.resizable,resizing:!1,index:-1,preSizes:"0px",preResizes:-1*e.barSize},o.resizeConf.resizable){var p,f,h,m;a.on("mousedown",function(t){if(o.resizeConf.resizing===!0){var i=o.resizeConf.index;f=p=t[n],h=p-o.boxes[i].chargeDiff(e.boxMinSize),m=p+o.boxes[i+1].chargeDiff(e.boxMinSize);for(var r=0;r<=o.resizeConf.index;r++)o.resizeConf.preSizes+=" + "+o.boxes[r].dividedboxG.size,o.resizeConf.preResizes+=o.boxes[r].dividedboxG.resize;a.on("mousemove",s).on("mouseup",d).on("mouseleave",d)}})}}}},dividedboxGroupProductor:function(e){var t,i,n,r;return"h"==e?(t="^wiHdividedbox",i="width",n=new RegExp("left|right"),r="clientWidth"):(t="^wiVdividedbox",i="height",n=new RegExp("up|down"),r="clientHeight"),{restrict:"E",templateUrl:function(){return"template/dividedbox/wi-dividedbox-group.html"},transclude:!0,replace:!0,scope:{},require:t,link:function(t,o,a,l){var s=function(e){if(e&&/^(?:[1-9]\d*|0)(?:.\d+)?/.test(e)){var t=e;return Number(t)&&(t+="px"),t}}(a[i])||"";t.initBox=function(i){t.dividedboxG={index:i,type:e,user:s,size:s,resize:0,preResize:0,title:a.wiTitle,icon:a.wiIcon||"",collapseto:a.collapseto&&n.test(a.collapseto)?a.collapseto.match(n)[0]:void 0,collapsed:"true"==a.collapsed,_collapsed:"true"==a.collapsed},o.addClass("wi-"+e+"dividedbox-group"+(t.dividedboxG.collapseto||void 0!==t.dividedboxG.title?" wi-dividedbox-showhead":""))},l.addBox(t),t.$on("$destroy",function(){l.removeBox(t.dividedboxG.index)}),t.startResize=function(){l.startResize(t.dividedboxG.index)},t.doCollapse=function(){1==t.dividedboxG.collapsed?l.doExpand(t.dividedboxG.index):l.doCollapse(t.dividedboxG.index)},t.chargeDiff=function(e){return Math.max(o[0][r]-e,0)},t.getElem=function(){return o}}}}}}]).directive("wiHdividedbox",["dividedboxService",function(e){return e.dividedboxProductor("h")}]).directive("wiVdividedbox",["dividedboxService",function(e){return e.dividedboxProductor("v")}]).directive("wiHdividedboxGroup",["dividedboxService",function(e){return e.dividedboxGroupProductor("h")}]).directive("wiVdividedboxGroup",["dividedboxService",function(e){return e.dividedboxGroupProductor("v")}]),angular.module("dist.ui.dialog",["dist.ui.position"]).provider("wiDialog",function(){var e=angular.element,t=angular.isDefined,i=(document.body||document.documentElement).style,n=t(i.animation)||t(i.WebkitAnimation)||t(i.MozAnimation)||t(i.MsAnimation)||t(i.OAnimation),r="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",o=!1,a=this.defaults={plain:!1,showClose:!0,closeByDocument:!1,closeByEscape:!0,overlay:!0};this.setForceBodyReload=function(e){o=e||!1};var l,s=0,d=0,c={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$position",function(t,i,u,g,p,f,h,m,v,w){var b=t.find("body");o&&f.$on("$locationChangeSuccess",function(){b=t.find("body")});var C,y,x,S={onDocumentKeydown:function(e){27===e.keyCode&&E.closeOne("$escape")},setBodyPadding:function(e){var t=parseInt(b.css("padding-right")||0,10);b.css("padding-right",t+e+"px"),b.data("ng-dialog-original-padding",t)},resetBodyPadding:function(){var e=b.data("ng-dialog-original-padding");e?b.css("padding-right",e+"px"):b.css("padding-right","")},closeDialog:function(e,t){var i=e.attr("id");"undefined"!=typeof window.Hammer?window.Hammer(e[0]).off("tap",l):e.unbind("click"),1===d&&b.unbind("keydown"),e.hasClass("wi-dialog-closing")||(d-=1),n?e.unbind(r).bind(r,function(){e.scope().$destroy(),e.remove(),e.css({visiblity:"hidden"}),0===d&&(b.removeClass("wi-dialog-open"),S.resetBodyPadding()),f.$broadcast("wiDialog.closed",e)}).addClass("wi-dialog-closing"):(e.scope().$destroy(),e.remove(),0===d&&(b.removeClass("wi-dialog-open"),S.resetBodyPadding()),f.$broadcast("wiDialog.closed",e)),c[i]&&(c[i].resolve({id:i,value:t,$dialog:e,remainingDialogs:d}),delete c[i])}},E={open:function(t){function n(e){return e?angular.isString(e)&&o.plain?e:i.get(e)||p.get(e,{cache:!0}):"Empty template"}var r=this,o=angular.copy(a);t=t||{},angular.extend(o,t),s+=1,r.latestID="widialog"+s;var A;c[r.latestID]=A=g.defer();var T,R,P=angular.isObject(o.scope)?o.scope.$new():f.$new();return g.when(n(o.template)).then(function(t){t=angular.isString(t)?t:t.data&&angular.isString(t.data)?t.data:"",i.put(o.template,t),r.$result=T=e('<div id="widialog'+s+'" class="wi-dialog" style="z-index:'+w.getZIndex()+'" ></div>');var n=['<div dialog-draggable="wi-dialog-head" id="wiDialogMain'+s+'" class="wi-dialog-main">','<div class="wi-dialog-head">'+(o.title||"")+'<span class="wi-dialog-close icon-remove"></span></div>','<div class="wi-dialog-content">'+t+"</div></div>"];if(o.withoutHead&&(n=['<div id="wiDialogMain'+s+'" class="wi-dialog-main">','<div class="wi-dialog-content">'+t+'<span class="wi-dialog-close icon-remove"></span></div></div>']),T.html(n.join("")),o.overlay===!0&&T.prepend('<div class="wi-dialog-overlay"></div>'),o.controller&&(angular.isString(o.controller)||angular.isFunction(o.controller))){var a=v(o.controller,{$scope:P,$element:T});T.data("$ngDialogControllerController",a)}if(o.data&&angular.isString(o.data)){var c=o.data.replace(/^\s*/,"")[0];P.wiDialogData="{"===c||"["===c?angular.fromJson(o.data):o.data}else o.data&&angular.isObject(o.data)&&(P.wiDialogData=angular.fromJson(angular.toJson(o.data)));return o.dialogInIframe?(R=angular.element(document.body),C=document,y=m,x=b):(R=angular.element(window.top.document.body),C=window.top.document,y=m.top,x=angular.element(C.body)),o.appendTo&&angular.isString(o.appendTo)&&(R=angular.element(C.querySelector(o.appendTo))),P.closeThisDialog=function(e){S.closeDialog(T,e)},h(function(){u(T)(P);var e=y.innerWidth-b.prop("clientWidth"),t=e-(y.innerWidth-b.prop("clientWidth"));t>0&&S.setBodyPadding(t),R.append(T);var i=angular.element(C.querySelector("#wiDialogMain"+s)),n=(angular.element(C.querySelector("#widialog"+s)),{"margin-left":-i.prop("clientWidth")/2+"px","margin-top":-i.prop("clientHeight")/2+"px",visibility:"hidden"});angular.isNumber(o.width)&&(n.width=o.width+"px",n["margin-left"]=-o.width/2+"px"),angular.isNumber(o.height)&&(n.height=o.height+"px",n["margin-top"]=-o.height/2+"px"),i.css(n),h(function(){i.css({"margin-top":-i.prop("clientHeight")/2+"px",visibility:"visible"});var e=i.prop("offsetTop");0>e&&i.css({"margin-top":"0",top:"0",height:i.prop("clientHeight")+2*e+"px"})}),f.$broadcast("wiDialog.opened",T)}),o.closeByEscape&&x.bind("keydown",S.onDocumentKeydown),l=function(t){var i=o.closeByDocument?e(t.target).hasClass("wi-dialog-overlay"):!1,n=e(t.target).hasClass("wi-dialog-close");(i||n)&&E.closeOne(T.attr("id"),n?"$closeButton":"$document")},"undefined"!=typeof window.Hammer?window.Hammer(T[0]).on("tap",l):T.bind("click",l),d+=1,E}),{id:"widialog"+s,closePromise:A.promise,close:function(e){S.closeDialog(T,e)}}},openConfirm:function(e){var t=g.defer(),i={closeByEscape:!1,closeByDocument:!1};angular.extend(i,e),i.scope=angular.isObject(i.scope)?i.scope.$new():f.$new(),i.scope.confirm=function(e){t.resolve(e),n.close(e)};var n=E.open(i);return n.closePromise.then(function(e){return e?t.reject(e.value):t.reject()}),t.promise},closeOne:function(t,i){var n=e(C.getElementById(t));return n.length?S.closeDialog(n,i):E.closeAll(i),E},closeAll:function(t){var i=C.querySelectorAll(".wi-dialog");angular.forEach(i,function(i){S.closeDialog(e(i),t)})}};return E}]}).directive("dialogDraggable",["$document",function(){return function(e,t,i){function n(e){t.css({top:c+e.screenY-s+"px",left:d+e.screenX-l+"px"})}function r(){t.css({cursor:"default"}),u.removeEventListener("mousemove",n),u.removeEventListener("mouseup",r)}var o,a=i.dialogDraggable;a&&angular.forEach(t.children(),function(e){void 0===o&&(" "+e.className+" ").indexOf(a)>=0&&(o=angular.element(e))}),o||(o=t);var l=0,s=0,d=0,c=0,u=window.top.document;o.on("mousedown",function(e){window.getComputedStyle&&(d=window.getComputedStyle(t[0]).left,c=window.getComputedStyle(t[0]).top),d=Number(d.replace("px",""))||0,c=Number(c.replace("px",""))||0,e.preventDefault(),l=e.screenX,s=e.screenY,t.css({cursor:"move"}),u.addEventListener("mousemove",n),u.addEventListener("mouseup",r)})}}]),angular.module("dist.ui.fileupload",["dist.ui.position","dist.ui.progress"]).constant("fileuploadConf",{STARTED:1,STOPED:2,queued:1,uploading:2,completed:3,failed:4}).service("fileuploadSev",function(){var e=0;return{formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(void 0===e||/\D/.test(e))return"NaN";var i=Math.pow(1024,4);return e>i?t(e/i,1)+" tb":e>(i/=1024)?t(e/i,1)+" gb":e>(i/=1024)?t(e/i,1)+" mb":e>1024?Math.round(e/1024)+" kb":e+" b"},parseSize:function(e){if("string"!=typeof e)return e;var t,i={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],i.hasOwnProperty(t)&&(e*=i[t]),e},formatMimetype:function(e){var t,i="",n={"3g2":"video/3gpp2","3gp":"video/3gpp","3gpp":"video/3gpp",aac:"audio/aac",ac3:"audio/ac3",ai:"application/postscript",aif:"audio/aiff",aiff:"audio/aiff",asc:"text/plain",avi:"video/avi",bmp:"image/bmp",css:"text/css",csv:"text/csv",diff:"text/plain",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",eps:"application/postscript",exe:"application/octet-stream",flac:"audio/flac",flv:"video/x-flv",gif:"image/gif",htm:"text/html",html:"text/html",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",js:"application/x-javascript",json:"application/json",log:"text/plain",m2v:"video/mpeg",m4a:"audio/x-m4a",m4v:"video/x-m4v",mkv:"video/x-matroska",mov:"video/quicktime",mp2:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mpe:"video/mpeg",mpeg:"video/mpeg",mpega:"audio/mpeg",mpg:"video/mpeg",mpga:"audio/mpeg",oga:"audio/ogg",ogg:"audio/ogg",ogv:"video/ogg",otf:"application/vnd.oasis.opendocument.formula-template",pdf:"application/pdf",pgp:"application/pgp-signature",png:"image/png",pot:"application/vnd.ms-powerpoint",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",pps:"application/vnd.ms-powerpoint",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",ps:"application/postscript",psd:"image/photoshop",qt:"video/quicktime",rtf:"text/rtf",rv:"video/vnd.rn-realvideo",svg:"image/svg+xml",svgz:"image/svg+xml",swf:"application/x-shockwave-flash",swfl:"application/x-shockwave-flash",text:"text/plain",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/x-wav",webm:"video/webm",wma:"audio/x-ms-wma",wmv:"video/x-ms-wmv",xhtml:"text/html",xlb:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",zip:"application/zip"};return e&&angular.forEach(e,function(e){t=e.extensions.replace(" ","").split(","),angular.forEach(t,function(e){i+=n[e]+","})}),i.length?' accept="'+i.slice(0,-1)+'"':""},getUid:function(t){var i,n=(new Date).getTime().toString(32);for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)},getType:function(e){return 0==e.indexOf("image")?"picture":0==e.indexOf("video")?"film":0==e.indexOf("audio")?"music":"file"}}}).directive("wiFileupload",["$position","fileuploadSev","fileuploadConf","$timeout","$parse","$document","wiDialog",function(e,t,i,n,r,o,a){return{restrict:"E",templateUrl:"template/fileupload/wi-fileupload.html",scope:{},replace:!0,link:function(n,o,l){function s(){for(var e=0;e<f.length&&(C=n.files[e],C.stat!=i.uploading);e++)if(C.stat==i.queued){x==i.STOPPED&&(x=i.STARTED),C.stat=i.uploading,n.$digest(),y=new FormData,y.append("file",f[e]),b.wiId=C.id,b.open("post",c.url),b.send(y);break}e==n.files.length&&(x=i.STOPPED)}function d(e){if(!(u&&u.indexOf(e.name.slice(e.name.lastIndexOf(".")+1,e.name.length))<0||c.max_file_size&&e.size>c.max_file_size)){var r={id:t.getUid("wif_"),name:e.name,type:t.getType(e.type),size:t.formatSize(e.size),percent:0,progressLabel:"0%",stat:i.queued};e.wiId=r.id,n.files.push(r),f.push(e)}}var c=n.fileULOptions={url:l.wiUrl||"",multi_selection:l.hasOwnProperty("wiMultisel")&&"false"!=l.wiMultisel,browse_button:document.getElementById(l.wiTrigger),modal:!!l.hasOwnProperty("wiModal")};if(n.files=[],c.browse_button&&c.url){var u;l.wiMimeTypes&&(c.mime_types=new Function("return "+l.wiMimeTypes)()),c.mime_types&&(u=[])&&angular.forEach(c.mime_types,function(e){u=u.concat(e.extensions.split(","))}),l.wiMaxSize&&(c.max_file_size=t.parseSize(l.wiMaxSize)),l.wiSwf&&(c.flash_swf_url=l.wiSwf),n.removeFun=l.removefun&&n.$parent?r(l.removefun)(n.$parent):angular.noop;var g,p,f=[],h=e.position(angular.element(c.browse_button)),m={pos:"top:"+h.top+"px; left:"+h.left+"px; width:"+h.width+"px; height:"+h.height+"px;",multiple:c.multi_selection?" multiple":"",accept:t.formatMimetype(c.mime_types)},v=angular.element('<input type="file" class="wi-fileupload-btn"'+m.multiple+m.accept+" />"),w=angular.element('<div class="wi-fileupload-btndiv" style="'+m.pos+'"></div>');v.on("change",function A(){if(b){this.files&&angular.forEach(this.files,function(e){d(e)});try{this.files=[],this.value=""}catch(e){var t=v.clone(!0);t.on("change",A),v.replaceWith(t),v=t}n.$digest(),c.modal&&n.files.length>0&&(g=a.open({template:'<ul class="wi-fileupload" ng-if="files.length>0">                                    <li ng-repeat="file in files track by file.id">                                        <span class="wi-fileupload-info" ng-style="{cursor: file.stat==3 ? \'pointer\': \'\'}" ng-click="getResponse(file)">                                            <span class="wi-fileupload-icon icon-{{file.type}}"></span>                        {{file.name}}                                            <span class="wi-fileupload-tip">({{file.size}})</span>                                        </span>                                        <span class="wi-fileupload-completed" ng-style="{display: file.stat==3 ? \'\' : \'none\'}">完成</span>                                        <span class="wi-fileupload-queued" ng-style="{display: file.stat==1 ? \'\' : \'none\'}">等待上传</span>                                        <wi-progress ng-style="{display: file.stat==2 ? \'\' : \'none\'}" label="file.progressLabel" value="file.percent"></wi-progress>                                        <span class="wi-fileupload-error" ng-style="{display: file.stat==4 ? \'\' : \'none\'}">上传失败</span>                                        <span class="wi-fileupload-del" ng-click="removeFile(file)">删除</span>                                    </li>                                </ul>',plain:!0,title:"上传进度",scope:n,width:380}).id,p||(p=n.$watch("files.length",function(e){0>=e&&g&&(a.closeOne(g),p(),g=void 0,p=void 0)}))),s()}}),w.append(v),c.browse_button.parentNode.appendChild(w[0]),n.$on("$destroy",function(){b&&(b.readyState!=XMLHttpRequest.UNSENT&&b.abort(),b=null),v.remove(),w.remove(),v=null,w=null});var b,C,y,x=i.STOPPED;if(window.XMLHttpRequest&&(b=new XMLHttpRequest),b&&(b.addEventListener("loadend",function(){b.status>399?C.stat=i.failed:C.stat==i.uploading&&(C.stat=i.completed,C.responseText=b.responseText),n.$digest(),C=null,s()}),b.upload&&b.upload.addEventListener("progress",function(e){e.lengthComputable&&(C.percent=parseInt(e.loaded/e.total*100),C.progressLabel=C.percent+"%",n.$digest())},!1),b.addEventListener("error",function(){C&&(C.stat=i.failed)&&n.$digest()})),n.removeFile=function(e){var t=e.id;b.wiId==t&&b.abort(),n.files.splice(n.files.indexOf(e),1);for(var i=0;i<f.length;i++)f[i].wiId==e.id&&f.splice(i,1);n.removeFun(e)},l.hasOwnProperty("wiResponse")){var S=l.wiResponse,E=n.$parent;E.hasOwnProperty(S)&&(n.getResponse=function(e){e.stat==i.completed&&(E[S]=e.responseText)})}}}}}]),angular.module("dist.ui.imageview",[]).directive("wiImageview",function(){return{restrict:"E",templateUrl:function(){return"template/imageview/imageviewTemplate.html"},transclude:!0,replace:!0,scope:{width:"@",height:"@",adaptive:"@",imageurls:"=",imagedata:"=",openindex:"=",onPrevious:"&previous",onNext:"&next",onClose:"&close"},controller:["$scope",function(){}],link:function(e,t){function i(){x=new Image,x.onload=n,x.onerror=r}function n(){e.img_exclass=null,e.$apply("img_exclass"),d(),s()}function r(){e.img_exclass="wi-imageview-pic-error",e.$apply("img_exclass"),o(),x=new Image,x.onload=n,x.onerror=r}function o(){S.save(),S.clearRect(0,0,e._width,e._height),S.restore()}function a(){p=0,f=1,h=e._width/2,m=e._height/2}function l(){a(),e.img_exclass="wi-imageview-pic-loading",g?x.src=e._imageurls[e._openindex]:o()}function s(){S.save(),S.clearRect(0,0,e._width,e._height),S.translate(h,m),S.rotate(p),S.scale(f,f),S.drawImage(x,-x.width/2,-x.height/2),S.restore()}function d(){if(e._adaptive&&(x.width>e._width||x.height>e._height)){var t=e._width/x.width,i=e._height/x.height;f=Math.floor(10*Math.min(t,i))/10}}function c(){return document.onmousemove=null,document.onmouseup=null,!1}function u(e){return h+=e.clientX-R,m+=e.clientY-P,R=e.clientX,P=e.clientY,s(),!1}e._width=e.width,e._height=e.height,e._imageurls=void 0==e.imageurls?[]:e.imageurls,e._openindex=void 0==e.openindex?0:e.openindex,e._adaptive=void 0==e.adaptive?!1:e.adaptive,e.isopen=!1,e.isfull=!1,e._show_save=!0,e._show_previous=!0,e._show_next=!0;var g=0==e._imageurls.length?!1:!0,p=0,f=1,h=e._width/2,m=e._height/2,v=e._width,w=e._height,b=0,C=0,y=document.createElement("canvas");y.width=e._width,y.height=e._height;var x,S=y.getContext("2d");g?(i(),1==e._imageurls.length&&(e._show_previous=!1,e._show_next=!1)):(e._show_save=!1,void 0==e.onPrevious&&(e._show_previous=!1),void 0==e.onNext&&(e._show_next=!1)),e.$watch("openindex",function(t){void 0!=t&&-1!=t&&(e._openindex=e.openindex,e.open())},!1),e.$watch("imageurls",function(t){void 0!=t&&(e._imageurls=e.imageurls)},!1),e.$watch("imagedata",function(t,i){if(void 0!=t&&null!=t&&t!=i)if(e.isopen=!0,void 0==e.imagedata||null==e.imagedata)e.img_exclass="wi-imageview-pic-error";else{x=document.createElement("canvas"),x.width=e.imagedata.width,x.height=e.imagedata.height;var n=x.getContext("2d");n.putImageData(e.imagedata,0,0),e.open()}},!1),e.open=function(){document.documentElement.style.overflow="hidden",C=e.left=(document.documentElement.clientWidth-e._width)/2+"px",b=e.top=(document.documentElement.clientHeight-e._height)/2+"px",e.isopen=!0,g?(i(),x.src=e._imageurls[e._openindex],e.img_exclass="wi-imageview-pic-loading"):(a(),d(),s())};for(var E,A=t.find("div"),T=0;T<A.length;T++)if("wi-imageview-pic"==A[T].className){E=A[T],E.appendChild(y);break}e.close=function(){g&&(e._openindex=e.openindex=-1),e.isfull=!1,e.isopen=!1,e.img_exclass=null,e.top=b,e.left=C,e._width=v,e._height=w,a(),o(),document.documentElement.style.overflow="auto",e.onClose&&e.onClose()},e.previous=function(){g&&(0==e._openindex?e._openindex=e._imageurls.length-1:e._openindex-=1),l(),e.onPrevious&&e.onPrevious()},e.next=function(){g&&(e._openindex==e._imageurls.length-1?e._openindex=0:e._openindex+=1),l(),e.onNext&&e.onNext()},e.toleft=function(){p+=Math.PI/2,s()},e.toright=function(){p-=Math.PI/2,s()},e.zoomin=function(){f>.2&&(f-=.1,s())},e.zoomout=function(){f+=.1,s()},e.reset=function(){a(),s()},e.full=function(){e.top=0,e.left=0,e._width=y.width=document.documentElement.clientWidth,e._height=y.height=document.documentElement.clientHeight,h=e._width/2,m=e._height/2,s(),e.isfull=!0},e.origin=function(){e.top=b,e.left=C,e._width=v,e._height=w,h=e._width/2,m=e._height/2,E.removeChild(y),y=document.createElement("canvas"),y.width=e._width,y.height=e._height,S=y.getContext("2d"),E.appendChild(y),e.reset(),e.isfull=!1},e.mouseenter=function(){t.bind("mousewheel",function(e){if(e.wheelDelta>0||void 0!=e.originalEvent&&e.originalEvent.wheelDelta>0)f+=.1;else{if(!(f>.2))return;f-=.1}s(),e.preventDefault()})},e.mouseleave=function(){t.unbind("mousewheel")};var R,P;e.mousedown=function(e){R=e.clientX,P=e.clientY,document.onmousemove=u,document.onmouseup=c
}}}}),angular.module("dist.ui.menu",["dist.ui.position","dist.ui.popup"]).constant("menuConf",{divBorderSize:1,emptyUlHeight:6,toolbarHeight:29,liHeight:25,liWidth:160,subOffset:5,scollbarSize:17}).directive("wiMenu",["$compile","popupService","$document","$window","$timeout","menuConf","$filter","$position",function($compile,popupService,$document,$window,$timeout,menuConf,$filter,$position){return{restrict:"E",templateUrl:"template/menu/wi-menu.html",replace:!0,transclude:!0,scope:{dataprovider:"=",selectitem:"=",onselect:"&"},require:"wiMenu",controller:["$scope","$attrs",function(e,t){var i=this;i.select=t.hasOwnProperty("selectitem")?function(t){e.selectitem=t}:angular.noop}],compile:function(telem,tattrs,transclude){var compiledContents,contents=telem.contents().remove();return{post:function(scope,elem,attrs,ctrl){function manageSubs(e,t){var i=data.length,n=1,r=Math.floor((e-2*menuConf.divBorderSize+1)/(menuConf.liWidth+1));for(scope.datagroups.length=0,scope.groupsBackward.length=0,scope.groupsForward.length=0,0>=r&&(r=1);targetElHeight>t;)n++,i=Math.ceil(data.length/n),targetElHeight=menuConf.emptyUlHeight+2*menuConf.divBorderSize+i*menuConf.liHeight,!conf.filterable&&r>=n||(targetElHeight+=menuConf.toolbarHeight);targetElWidth=Math.min(n,r)*(menuConf.liWidth+1)+2*menuConf.divBorderSize-1;for(var o=0;n>o;o++){var a,l=o*i;a=o==n?data.length:l+i,r>o?scope.datagroups.push(data.slice(l,a)):scope.groupsForward.push(data.slice(l,a))}}compiledContents||(compiledContents=$compile(contents)),compiledContents(scope,function(e){elem.append(e)});var conf=scope.conf={adaptable:"false"!=attrs.adaptable,filterable:"true"==attrs.filterable};scope.menutype=scope.$parent.menutype?"sub":attrs.hasOwnProperty("wiRightMenu")&&"false"!=attrs.wiRightMenu?"right":"static",scope.isOpen=!1;var data=scope.dataprovider||[];scope.datagroups=data.length?[data]:[],scope.groupsBackward=[],scope.groupsForward=[];var referElem,rePosition=angular.noop,targetElWidth,targetElHeight;if("sub"==scope.menutype){var className="";referElem=elem.parent(),attrs.$observe("isOpen",function(){scope.isOpen="true"==attrs.isOpen}),rePosition=function(){elem.removeClass(className);var e,t="right",i="top",n=$window.innerWidth-menuConf.scollbarSize,r=$window.innerHeight-menuConf.scollbarSize;targetElWidth=menuConf.liWidth+2*menuConf.divBorderSize,targetElHeight=menuConf.emptyUlHeight+2*menuConf.divBorderSize+data.length*menuConf.liHeight,conf.filterable&&(targetElHeight+=menuConf.toolbarHeight),e=referElem[0].getBoundingClientRect(),0!=conf.adaptable&&manageSubs(Math.max(e.left,n-e.right)+menuConf.subOffset,r);var o=$position.adaptElements(referElem,targetElWidth,targetElHeight,t+"-"+i,conf.adaptable,!1);className="wi-menu-"+o[1],elem.addClass(className).css(angular.extend(o[0],{width:targetElWidth+"px",height:targetElHeight+"px"}))},scope.ctrl=scope.$parent.ctrl}else"static"==scope.menutype?(conf.position=attrs.position?attrs.position:"bottom-left",angular.forEach(transclude(scope),function(e){1==e.nodeType&&(referElem=angular.element(e))}),referElem||(referElem=angular.element('<input type="button" class="wi-btn" value="弹出菜单" />')),referElem.on("click",function(e){1==scope.isOpen?(scope.isOpen=!1,popupService.close(scope)):(scope.isOpen=!0,popupService.open(scope,!0),elem.css("zIndex",$position.getZIndex())),scope.$digest(),e.stopPropagation()}),elem.parent().prepend(referElem),attrs.$observe("position",function(){conf.position=attrs.position}),rePosition=function(){var e,t,i,n=$window.innerWidth-menuConf.scollbarSize,r=$window.innerHeight-menuConf.scollbarSize;targetElWidth=menuConf.liWidth+2*menuConf.divBorderSize,targetElHeight=menuConf.emptyUlHeight+2*menuConf.divBorderSize+data.length*menuConf.liHeight,conf.filterable&&(targetElHeight+=menuConf.toolbarHeight),e=referElem[0].getBoundingClientRect();var o=angular.isString(conf.position)?conf.position.split("-"):[];t=o[0]||"bottom",0!=conf.adaptable&&(["left","right"].indexOf(t)>=0?manageSubs(Math.max(e.left,n-e.right),r):manageSubs(n,Math.max(e.top,r-e.bottom))),i=$position.adaptElements(referElem,targetElWidth,targetElHeight,conf.position,conf.adaptable,!0)[0],elem.css(angular.extend(i,{width:targetElWidth+"px",height:targetElHeight+"px"}))}):"right"==scope.menutype&&(conf.position={},referElem=elem.parent(),referElem.on("contextmenu",function(e){popupService.closeAll(!0);var t,i,n=referElem[0].getBoundingClientRect();t=e.clientX,i=e.clientY,t>=n.left&&t<=n.right&&i>=n.top&&i<=n.bottom&&(e.preventDefault(),conf.position.x=e.clientX,conf.position.y=e.clientY,function(){for(var e,t=$window.top,i=$window,n=0,r=0,o=!1,a=0,l=0;i!=t;)o||(l-=i.pageXOffset||i.document.documentElement.scrollLeft,a-=i.pageYOffset||i.document.documentElement.scrollTop,o=!0),o&&(e=i.frameElement.getBoundingClientRect(),n+=e.top,r+=e.left),i=i.parent;var s=t.document.body.getBoundingClientRect();o?"static"!=$position.getStyle(t.document.body,"position")?(l-=s.left,a-=s.top):(l+=t.pageXOffset||t.document.documentElement.scrollLeft,a+=t.pageYOffset||t.document.documentElement.scrollTop):"static"!=$position.getStyle(t.document.body,"position")&&(l-=(t.pageXOffset||t.document.documentElement.scrollLeft)+s.left,a-=(t.pageYOffset||t.document.documentElement.scrollTop)+s.top),conf.position.x+=r+l,conf.position.y+=n+a}(),scope.$digest())}),scope.$watch("conf.position",function(e){e&&e.x&&!scope.isOpen&&(scope.isOpen=!0,popupService.open(scope,!1),elem.css("zIndex",$position.getZIndex()))},!0),rePosition=function(){var e,t,i={},n=$window.innerWidth-menuConf.scollbarSize,r=$window.innerHeight-menuConf.scollbarSize;targetElWidth=menuConf.liWidth+2*menuConf.divBorderSize,targetElHeight=menuConf.emptyUlHeight+2*menuConf.divBorderSize+data.length*menuConf.liHeight,conf.filterable&&(targetElHeight+=menuConf.toolbarHeight),e=referElem[0].getBoundingClientRect(),t=$position.offset(referElem),i.left=conf.position.x+t.left-e.left+"px",i.top=conf.position.y+t.top-e.top+"px",0!=conf.adaptable&&(manageSubs(n,r),n-conf.position.x<targetElWidth&&(i.left=n-targetElWidth+t.left-e.left+"px"),r-conf.position.y<targetElHeight&&(i.top=r-targetElHeight+t.top-e.top+"px")),elem.css({top:i.top?i.top:"",bottom:i.bottom?i.bottom:"",left:i.left?i.left:"",right:i.right?i.right:"",width:targetElWidth+"px",height:targetElHeight+"px"})}),ctrl.onSelect=scope.onselect()||angular.noop,scope.ctrl=ctrl,angular.element($window.top.document.body).append(elem),scope.$on("$destroy",function(){elem.remove(),elem=null});conf.filterable&&(scope.filterval="",$filter("showFilter")(scope.dataprovider,scope.filterval),scope.$watch("filterval",function(e,t){e!==t&&$filter("showFilter")(scope.dataprovider,e)})),scope.$watch("isOpen",function(e){1==e?rePosition():angular.forEach(scope.dataprovider,function(e){e.childopen=!1})}),scope.$watch("dataprovider",function(e){data=e||[],scope.datagroups=[data],scope.groupsBackward=[],scope.groupsForward=[],scope.isOpen&&rePosition()},!1),scope.clickLi=function(event,item){if(0!=item.enabled){if(item.event)return eval(item.event),popupService.closeAll(),scope.ctrl.onSelect(item),void 0;if(!item.children)return scope.ctrl.select(item),popupService.closeAll(),scope.ctrl.onSelect(item),void 0}event.stopPropagation()},scope.backwardClick=function(e){scope.groupsBackward.length>0&&(scope.datagroups.unshift(scope.groupsBackward.pop()),scope.groupsForward.unshift(scope.datagroups.pop())),e.stopPropagation()},scope.forwardClick=function(e){scope.groupsForward.length>0&&(scope.datagroups.push(scope.groupsForward.shift()),scope.groupsBackward.push(scope.datagroups.shift())),e.stopPropagation()};var hoverItem;scope.mouseenter=function(e){0!=e.enabled&&(hoverItem=e,$timeout(function(){hoverItem==e&&(e.childopen||(angular.forEach(scope.dataprovider,function(e){e.childopen=!1}),e.childopen=!e.childopen))},500))},scope.mouseleave=function(e){hoverItem==e&&(hoverItem=void 0)}}}}}}]).filter("showFilter",function(){function e(t,i){var n=0;return i&&""!=i?angular.forEach(t,function(e){0!=e.enabled&&(e.highlight=e.label.indexOf(i)>=0,e.highlight&&n++)}):angular.forEach(t,function(t){t.highlight=!1,n++,t.children&&e(t.children)}),n}return function(t,i){return e(t,i),t}}),angular.module("dist.ui.messagetip",[]).service("wiMessageTip",["$document","$timeout","$injector",function(e,t,i){function n(e){var t=angular.element(e.target).hasClass("wi-messagetip-close");t?r(d.data("$id")):null!=a.click&&(a.click.$inject=["e"],i.invoke(a.click,{},{e:e}))}function r(e){d.unbind("click",n),"bottom"==a.position?d.css("bottom",-d[0].clientHeight+"px"):"right"==a.position&&d.css("right",-d[0].clientWidth+"px"),t(function(){for(var t=0;t<s.length;t++)if(e==s[t].data("$id")){s.splice(t,1);break}d.remove(),d=null,s.length>0&&(d=s[s.length-1])},1e3)}function o(){var e=angular.isNumber(a.width)?a.width+"px":a.width,i=angular.isNumber(a.height)?a.height+"px":a.height,n=['<div class="wi-messagetip-box" style="width:'+e+";height:"+i+';">','<div class="wi-messagetip-head">'+a.title+'<span class="wi-messagetip-close icon-remove"></span></div>','<div class="wi-messagetip-content">'+a.content+"</div>","</div>"];return a.delay>0&&t(function(){r()},1e3*a.delay),n.join("")}var a,l=angular.element(window.parent.document.body),s=[],d=null,c=1;this.open=function(e){var i={width:"auto",height:"auto",title:"消息",position:"bottom",isshake:!1,delay:0,click:null};return angular.extend(i,e),a=i,d=angular.element(o()),d.bind("click",n),d.data("$id","wiMessageTip_"+c++),l.append(d),d.css("bottom","-500px"),d.css("right","-500px"),"bottom"==e.position?(d.css("right","5px"),d.css("bottom",d[0].clientHeight+"px"),d.css("transition","bottom 1s"),d.css("bottom","5px")):"right"==e.position&&(d.css("bottom","5px"),d.css("right",d[0].clientWidth+"px"),d.css("transition","right 1s"),d.css("right","5px")),a.isshake&&t(function(){d.css("animation","shake-hard 1s"),d.css("-webkit-animation","shake-hard 1s")},1e3),s.push(d),d.data("$id")},this.closeOne=function(e){r(e)}}]),angular.module("dist.ui.my97datepicker",[]).directive("wiDatepicker",function(){return{restrict:"E",require:"ngModel",template:'<input class="wi-datepicker"/>',replace:!0,scope:{isshowweek:"@",readonly:"@",highlineweekday:"@",isshowclear:"@",isshowtoday:"@",firstdayofweek:"@",startdate:"@",alwaysusestartdate:"@",datefmt:"@",vel:"@",skin:"@",mindate:"@",maxdate:"@",disableddays:"@",onpicked:"&",oncleared:"&",qsenabled:"@",quicksel:"@"},link:function(e,t,i,n){function r(){WdatePicker(s)}function o(){l(),e.onpicked()&&e.onpicked()(t[0].value)}function a(){l(),e.oncleared()&&e.oncleared()(t[0].value)}function l(){e.$apply(n.$setViewValue(t[0].value))}if(n){var s={};s.el=t[0],s.onpicked=o,s.oncleared=a,s.isShowWeek="true"==e.isshowweek?!0:!1,s.readOnly="true"==e.readonly?!0:!1,s.highLineWeekDay="true"==e.highlineweekday?!0:!1,s.isShowClear="false"==e.isshowclear?!1:!0,s.isShowToday="false"==e.isshowtoday?!1:!0,s.firstDayOfWeek=e.firstdayofweek?e.firstdayofweek:0,s.startDate=e.startdate,s.alwaysUseStartDate="true"==e.alwaysusestartdate?!0:!1,s.dateFmt=e.datefmt,s.vel=e.vel,s.skin=e.skin,s.minDate=e.mindate,s.maxDate=e.maxdate,s.disabledDays=e.disableddays,s.qsEnabled="false"==e.qsenabled?!1:!0,s.quickSel=(e.quicksel+"").split(","),t[0].onfocus=r,t[0].onclick=r}}}}),angular.module("dist.ui.pagination",[]).factory("distPaging",["$parse",function(e){return{create:function(t,i,n){t.setNumPages=n.numPages?e(n.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},n.itemsPerPage?t._watchers.push(i.$parent.$watch(n.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),i.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,i.$watch("totalItems",function(e,n){(angular.isDefined(e)||e!==n)&&(i.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(i.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){i.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},i.selectPage=function(e,n){n&&n.preventDefault();var r=!i.ngDisabled||!n;r&&i.page!==e&&e>0&&e<=i.totalPages&&(n&&n.target&&n.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},i.getText=function(e){return i[e+"Text"]||t.config[e+"Text"]},i.noPrevious=function(){return 1===i.page},i.noNext=function(){return i.page===i.totalPages},t.updatePage=function(){t.setNumPages(i.$parent,i.totalPages),i.page>i.totalPages?i.selectPage(i.totalPages):t.ngModelCtrl.$render()},i.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,i){i.$observe("disabled",function(e){i.$set("tabindex",e?-1:null)})}}}).controller("WiPaginationController",["$scope","$attrs","$parse","distPaging","distPaginationConfig",function(e,t,i,n,r){function o(e,t,i){return{number:e,text:t,active:i}}function a(e,t){var i=[],n=1,r=t,a=angular.isDefined(s)&&t>s;a&&(d?(n=Math.max(e-Math.floor(s/2),1),r=n+s-1,r>t&&(r=t,n=r-s+1)):(n=(Math.ceil(e/s)-1)*s+1,r=Math.min(n+s-1,t)));for(var l=n;r>=l;l++){var p=o(l,g(l),l===e);i.push(p)}if(a&&s>0&&(!d||c||u)){if(n>1){if(!u||n>3){var f=o(n-1,"...",!1);i.unshift(f)}if(u){if(3===n){var h=o(2,"2",!1);i.unshift(h)}var m=o(1,"1",!1);i.unshift(m)}}if(t>r){if(!u||t-2>r){var v=o(r+1,"...",!1);i.push(v)}if(u){if(r===t-2){var w=o(t-1,t-1,!1);i.push(w)}var b=o(t,t,!1);i.push(b)}}}return i}var l=this,s=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,d=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,u=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,g=angular.isDefined(t.pageLabel)?function(i){return e.$parent.$eval(t.pageLabel,{$page:i})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,n.create(this,e,t),t.maxSize&&l._watchers.push(e.$parent.$watch(i(t.maxSize),function(e){s=parseInt(e,10),l.render()}));var p=this.render;this.render=function(){p(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("distPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("wiPagination",["$parse","distPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["wiPagination","?ngModel"],restrict:"A",controller:"WiPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/wi-pagination.html"},link:function(e,i,n,r){i.addClass("pagination");var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("dist.ui.panel",["dist.ui.collapse"]).constant("panelConf",{headHeight:30}).directive("wiPanel",["panelConf",function(e){return{restrict:"E",transclude:!0,replace:!0,templateUrl:"template/panel/wi-panel.html",scope:{wiid:"=",heading:"@",isOpen:"=?",onopened:"&",onclosed:"&",oncollapse:"&",onexpand:"&"},controller:function(){this.setHeading=function(e){this.headingEl=e}},link:function(t,i,n){var r=t.onopened(),o=t.onclosed(),a=t.oncollapse(),l=t.onexpand(),s=t.$parent;!function(){var r=function(e){if(e){var t;return t=/^(?:[1-9]\d*|0)(?:.\d+)?/.test(e)?e:s.$eval(e),Number(t)&&(t+="px"),t}};t.width=r(n.width)||"";var o=r(n.height);o&&(i.addClass("wi-panel-h").css("height",o),o.indexOf("px")>0?angular.element(i.children()[1]).css("height",parseInt(o)-e.headHeight+"px"):angular.element(i.children()[1]).css("height","calc("+o+" - "+e.headHeight+"px)"))}(),function(){if(t.headicon=n.headIcon,n.hasOwnProperty("center")&&"false"!=n.center&&angular.element(angular.element(i.children()[0]).children()[0]).css("text-align","center"),t.collbyHead=n.hasOwnProperty("collapsible")?function(){d()}:angular.noop,t.headTools={},n.headTools)try{var e=s.$eval(n.headTools);if(angular.isString(e)&&(e=e.replace(/\s*/g,"").split(",")),angular.isArray(e)){var r=function(i){var n=e.indexOf(i);n>=0&&(e.splice(n,1),t.headTools[i]=!0)};r("collapse"),r("close"),e.length>0&&(t.headTools.custom=e)}Object.getOwnPropertyNames(t.headTools).length>0&&(t.headTools.visible=!0)}catch(o){console.warn("wi-panel 的 headTools 属性定义不合法!")}t.collbyTool=function(e){d(),e.stopPropagation()}}(),t.collapsed=n.hasOwnProperty("collapsed")&&"false"!=n.collapsed,t.collapsed?a&&a():l&&l();var d=function(){t.collapsed=!t.collapsed,t.collapsed?a&&a():l&&l()};t.isOpen=0!=t.isOpen,t.closebyTool=function(e){t.isOpen=!1,e.stopPropagation()},(r||o)&&t.$watch("isOpen",function(e){e?r&&r():o&&o()}),n.wiid&&angular.isObject(t.wiid)&&(t.wiid.options=function(){return{heading:t.heading,isOpen:t.isOpen,isCollapse:t.collapsed}},t.wiid.element=function(){return i},t.wiid.toggle=function(){return d(),t.collapsed})}}}]).directive("wiPanelHeading",function(){return{restrict:"E",transclude:!0,template:"",replace:!0,require:"^wiPanel",link:function(e,t,i,n,r){n.setHeading(r(e,function(){}))}}}).directive("wiPanelTransclude",function(){return{require:"^wiPanel",link:function(e,t,i,n){e.$watch(function(){return n[i.wiPanelTransclude]},function(e){e&&(t.html(""),t.append(e))})}}}),angular.module("dist.ui.popup",["dist.ui.position"]).constant("popupConfig",{openClass:"wi-popup-open"}).service("popupService",["$document","$window",function(e,t){var i,n=angular.element(t.top.document);this.open=function(e,t){i||(n.bind("click",r),n.bind("keydown",o)),i&&i!==e&&(i.isOpen=!1,t&&i.$digest()),i=e},this.close=function(e){i===e&&(i=null,n.unbind("click",r),n.unbind("keydown",o))},this.closeAll=function(e){r(e)};var r=function(e){i&&(e?i.$apply(function(){i.isOpen=!1}):i.isOpen=!1,i=null)},o=function(e){27===e.which&&(i.focusToggleElement&&i.focusToggleElement(),r())}}]).controller("PopupController",["$scope","$attrs","$parse","$timeout","$position","popupService","popupConfig",function(e,t,i,n,r,o,a){var l,s=this,d=e.$new(),c=a.openClass,u=angular.noop,g=t.onToggle?i(t.onToggle):angular.noop;s.popupOptions={},this.init=function(n){s.$element=n,t.isOpen&&(l=i(t.isOpen),u=l.assign,e.$watch(l,function(e){d.isOpen=!!e}))},this.toggle=function(e){return d.isOpen=arguments.length?!!e:!d.isOpen},this.isOpen=function(){return d.isOpen},d.getToggleElement=function(){return s.$element},d.focusToggleElement=function(){s.$element[0].focus()},d.$watch("isOpen",function(t,i){if(s.popupOptions&&s.popupOptions.elem){var a=s.$element,l=s.popupOptions,p=l.elem;t?(d.focusToggleElement(),a.addClass(c),o.open(d),p.addClass("wi-popup-menu-open"),p.css({top:0,left:0}),n(function(){var e=p[0].getBoundingClientRect(),t=l.width||e.width,i=l.height||e.height,n={visibility:"visible",zIndex:r.getZIndex(),width:t+"px",height:i+"px"};n=angular.extend(n,r.adaptElements(a,t,i,"bottom-left",!0,!0)[0]),p.css(n)})):(a.removeClass(c),p.removeClass("wi-popup-menu-open").css({visibility:"",zIndex:"",width:"",height:""}),o.close(d)),u(e,t),angular.isDefined(t)&&t!==i&&g(e,{open:!!t})}}),e.$on("$locationChangeSuccess",function(){d.isOpen=!1}),e.$on("$destroy",function(){d.$destroy()})}]).directive("wiPopup",["$window",function(e){return{restrict:"CA",controller:"PopupController",link:function(t,i,n,r){var o;angular.forEach(i.children(),function(t){void 0===o&&(" "+t.className+" ").indexOf("wi-popup-menu")>=0&&(o=angular.element(t),e.top.document.body.appendChild(t),r.popupOptions.elem=o)});var a=function(e){("keydown"!==e.type||13===e.keyCode)&&(e.preventDefault(),e.stopPropagation(),i.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()}))};i.bind("click",a),i.bind("keydown",a),t.$on("$destroy",function(){void 0!==o&&(o.remove(),o=null),i.unbind("click",a),i.unbind("keydown",a)}),i.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(e){i.attr("aria-expanded",!!e)}),r.init(i)}}}]),angular.module("dist.ui.popupbutton",["dist.ui.popup"]).directive("wiPopupbutton",[function(){return{restrict:"E",templateUrl:"template/popupbutton/popupbuttonTemplate.html",replace:!0,transclude:!0,scope:{label:"@",isopen:"="},require:"wiPopup",link:function(e,t,i,n){var r=e.$parent,o=function(e){if(e){var t;return t=/^(?:[1-9]\d*|0)(?:.\d+)?/.test(e)?e:r.$eval(e),Number(t)&&(t+="px"),t}}(i.width);o&&t.css("width",o),n.popupOptions.elem.on("click",function(e){e.stopPropagation()})}}}]),angular.module("dist.ui.position",[]).factory("$position",["$document","$window",function(e,t){function i(e,i){return e.currentStyle?e.currentStyle[i]:t.getComputedStyle?t.getComputedStyle(e)[i]:e.style[i]}function n(e){return"static"===(i(e,"position")||"static")}var r=17,o=5e3,a=function(t){for(var i=e[0],r=t.offsetParent||i;r&&r!==i&&n(r);)r=r.offsetParent;return r||i},l=function(e,t,i){return i>e&&t>=i};return{getZIndex:function(){return o++},position:function(i){var n,r,o=a(i[0]),l=i[0].getBoundingClientRect(),s=l.width||i.prop("offsetWidth"),d=l.height||i.prop("offsetHeight");if(o!=e[0]){var c=angular.element(o)[0].getBoundingClientRect();n=l.top-c.top+o.scrollTop-o.clientTop,r=l.left-c.left+o.scrollLeft-o.clientLeft}else n=l.top+(t.pageYOffset||e[0].documentElement.scrollTop),r=l.left+(t.pageXOffset||e[0].documentElement.scrollLeft);return{width:s,height:d,top:n,left:r,bottom:n+d,right:r+s}},offset:function(i){var n=i[0].getBoundingClientRect(),r=n.width||i.prop("offsetWidth"),o=n.height||i.prop("offsetHeight"),a=n.top+(t.pageYOffset||e[0].documentElement.scrollTop),l=n.left+(t.pageXOffset||e[0].documentElement.scrollLeft);return{width:r,height:o,top:a,left:l,bottom:a+o,right:l+r}},offsetTop:function(e){for(var n,r,o,a=t.top,l=t,s=0,d=0,c=!1,u=e[0].getBoundingClientRect(),g=e[0].ownerDocument;l!=a;)c||g!=l.document||(c=!0),c&&(o=l.frameElement.getBoundingClientRect(),s+=o.top,d+=o.left),l=l.parent;n={top:u.top+s,bottom:u.bottom+s,left:u.left+d,right:u.right+d,width:u.width,height:u.height};var p=0,f=0;if("static"!=i(a.document.body,"position")){var h=a.document.body.getBoundingClientRect();f-=h.left,p-=h.top}else f+=a.pageXOffset||a.document.documentElement.scrollLeft,p+=a.pageYOffset||a.document.documentElement.scrollTop;return r={top:n.top+p,bottom:n.bottom+p,left:n.left+f,right:n.right+f,width:n.width,height:n.height},[n,r]},getStyle:i,positionTooltip:function(e,t,i,n){var r,o,a=angular.isString(n)?n.split("-"):[],l=a[0]||"bottom",s=a[1]||"left";r=this.position(e);var d={center:function(){return r.left+r.width/2-t/2},left:function(){return r.left},right:function(){return r.left+r.width-t}},c={center:function(){return r.top+r.height/2-i/2},top:function(){return r.top},bottom:function(){return r.top+r.height-i}};switch(l){case"right":o={top:c[s]()+"px",left:r.right+"px"};break;case"left":o={top:c[s]()+"px",left:r.left-t+"px"};break;case"bottom":o={top:r.bottom+"px",left:d[s]()+"px"};break;default:o={top:r.top-i+"px",left:d[s]()+"px"}}return o},adaptElements:function(e,i,n,o,a,s){var d,c,u,g,p,f={},h=angular.isString(o)?o.split("-"):[];if(c=h[0]||"bottom",u=h[1]||"left",s){var m=t.top,v=this.offsetTop(e);g=m.innerWidth-r,p=m.innerHeight-r,d=v[0];var w=v[1]}else g=t.innerWidth-r,p=t.innerHeight-r,d=e[0].getBoundingClientRect();if(a){switch(c){case"left":l(d.left,g-d.right,i)&&(c="right");break;case"right":l(g-d.right,d.left,i)&&(c="left");break;case"top":l(d.top,p-d.bottom,n)&&(c="bottom");break;default:c="bottom",l(p-d.bottom,d.top,n)&&(c="top")}switch(u){case"center":break;case"top":l(p-d.top,d.bottom,n)&&(u="bottom");break;case"bottom":l(d.bottom,p-d.top,n)&&(u="top");break;case"right":l(d.right,g-d.left,i)&&(u="left");break;default:u="left",l(g-d.left,d.right,i)&&(u="right")}}if(s){switch(c){case"left":f.left=w.left-i+"px";break;case"right":f.left=w.right+"px";break;case"top":f.top=w.top-n+"px";break;default:c="bottom",f.top=w.bottom+"px"}switch(u){case"center":["left","right"].indexOf(c)>=0?f.top=w.top+Math.floor((d.height-n)/2)+"px":f.left=w.left+Math.floor((d.width-i)/2)+"px";break;case"top":f.top=0!=a&&p-d.top<n?w.top-d.top+p-n+"px":w.top+"px";break;case"bottom":f.top=0!=a&&d.bottom<n?w.top-d.top+p-n+"px":w.bottom-n+"px";break;case"right":f.left=0!=a&&d.right<i?w.left-d.left+g-i+"px":w.right-i+"px";break;default:u="left",f.left=0!=a&&g-d.left<i?w.left-d.left+g-i+"px":w.left+"px"}}else switch(u){case"center":["left","right"].indexOf(c)>=0?f.top=Math.floor((d.height-n)/2)+"px":f.left=Math.floor((d.width-i)/2)+"px";break;case"top":0!=a&&p-d.top<n&&(f.top=p-d.top-n+"px");break;case"bottom":0!=a&&d.bottom<n&&(f.bottom=d.bottom-p+"px");break;case"right":0!=a&&d.right<i&&(f.right=d.right-g+"px");break;default:u="left",0!=a&&g-d.left<i&&(f.left=g-d.left-i+"px")}return[{top:f.top?f.top:"",bottom:f.bottom?f.bottom:"",left:f.left?f.left:"",right:f.right?f.right:""},c+"-"+u]}}}]),angular.module("dist.ui.progress",["dist.ui.bindHtml"]).constant("progressConf",{initH:9}).directive("wiProgress",["progressConf","$parse","$compile","$interval",function(e,t,i,n){return{restrict:"E",templateUrl:"template/progress/wi-progress.html",replace:!0,scope:{},link:function(r,o,a){var l=r.$parent,s=angular.element(o.children()[0]),d={},c=l.$eval(a.width);angular.isNumber(c)&&(d.width=c+"px");var u=l.$eval(a.height);angular.isNumber(u)&&(d.height=u+"px"),s.css(d);var g=l.$eval(a.type);g&&"normal"!=g&&s.addClass("wi-progress-bar-"+g);var p,f=0;if("stage"==g){var h=angular.element(s.children()[1]);h.css("display","block"),p=n(function(){f>100-r.percent?(f=0,h.css("width",f+"%")):(f+=5,h.css("width",f+"%"))},40)}r.animation="normal"==g;var m,v=l.$eval(a.labelplacement);if(a.labelelem)r.labelelem=l.$eval(a.labelelem),m=i('<div bind-html-unsafe="labelelem"></div>')(r);else if(a.label){var w,b=t(a.label);w=b.assign,r.label=b(l),w&&l.$watch(b,function(e,t){e!==t&&(r.label=e)}),m=i('<div ng-bind="label"></div>')(r)}m&&("top"==v||"left"==v?(m.addClass("wi-progress-"+v),o.prepend(m)):("center"==v?m.css("line-height",d.height||e.initH+"px"):"bottom"!=v&&(v="right"),m.addClass("wi-progress-"+v),o.append(m)));var C=100/(l.$eval(a.maxvalue)||100);if(a.value){var y,x=t(a.value);y=x.assign,r.percent=x(l)*C,y&&l.$watch(x,function(e,t){e!==t&&(r.percent=e*C)})}r.$on("$destroy",function(){m&&m.remove(),p&&n.cancel(p),p=void 0})}}}]),angular.module("dist.ui.resizelistener",[]).factory("wiResizeListener",[function(){var e={},t=document.attachEvent;if(!t)var i=function(){var e=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(e){return window.setTimeout(e,20)};return function(t){return e(t)}}(),n=function(){var e=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(t){return e(t)}}(),r=function(e){var t=e.__resizeTriggers__,i=t.firstElementChild,n=t.lastElementChild,r=i.firstElementChild;n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight,r.style.width=i.offsetWidth+1+"px",r.style.height=i.offsetHeight+1+"px",i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight},o=function(e){return e.offsetWidth!=e.__resizeLast__.width||e.offsetHeight!=e.__resizeLast__.height},a=function(e){var t=this;r(this),this.__resizeRAF__&&n(this.__resizeRAF__),this.__resizeRAF__=i(function(){o(t)&&(t.__resizeLast__.width=t.offsetWidth,t.__resizeLast__.height=t.offsetHeight,t.__resizeListeners__.forEach(function(i){i.call(t,e)}))})};return e.addResizeListener=function(e,i){e.beListened?t?i():getComputedStyle(e)&&r(e):(e.beListened=!0,t?e.attachEvent("onresize",i):getComputedStyle(e)&&(e.__resizeTriggers__||("static"==getComputedStyle(e).position&&(e.style.position="relative"),e.__resizeLast__={},e.__resizeListeners__=[],(e.__resizeTriggers__=document.createElement("div")).className="resize-triggers",e.__resizeTriggers__.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',e.appendChild(e.__resizeTriggers__),r(e),e.addEventListener("scroll",a,!0),e.__resizeListeners__.push(i))))},e.removeResizeListener=function(e,i){t?e.detachEvent("onresize",i):(e.__resizeListeners__.splice(e.__resizeListeners__.indexOf(i),1),e.__resizeListeners__.length||(e.removeEventListener("scroll",a),e.__resizeTriggers__=!e.removeChild(e.__resizeTriggers__)))},e}]),angular.module("dist.ui.searchinput",[]).directive("wiSearchinput",[function(){return{restrict:"E",templateUrl:"template/searchinput/wi-searchinput.html",replace:!0,transclude:!0,scope:{onsearch:"&"},link:function(e,t,i){var n=e.onsearch()||angular.noop;e.value="",e.tips=i.wiTips||"",e.search=function(){n(e.value)},t.on("keydown",function(t){13===t.keyCode&&e.$apply(function(){n(e.value)})})}}}]),angular.module("dist.ui.tabset",["dist.ui.resizelistener","dist.ui.common","dist.ui.menu"]).constant("tabsetConf",{liBefore:2}).controller("TabsetController",["$scope","$attrs","$timeout","tabsetConf",function(e,t,i,n){var r=e.conf={vertical:t.hasOwnProperty("vertical")&&"false"!=t.vertical,closeable:!t.hasOwnProperty("closeable")||"false"!=t.closeable},o=this,a=o.attrNames=r.vertical?{offset:"offsetHeight",pos:"top",size:"height"}:{offset:"offsetWidth",pos:"left",size:"width"},l=e.tabs=[],s=o.tabSizes=[];o.sumSize=0,o.rightClickTab=void 0,o.deselectOthers=function(e){angular.forEach(l,function(t){t.active&&t!==e&&(t.active=!1)})},o.addTab=function(t,d){var c=l.length>0?n.liBefore:0,u=l.length;if(o.acLinked)for(var g=d[0].parentElement.children;u<g.length&&g[u++]!=d[0];);l.splice(u,0,t),r.closeable&&(t.disable=!1),t.active&&!t.disable&&o.deselectOthers(t),i(function(){e.$apply(e.ulStyle[a.size]="auto");var t=d[0].getBoundingClientRect()[a.size];s.splice(u,0,t),o.sumSize+=c+t,e.scrollChange&&e.scrollChange()})},o.removeTab=function(t){var r=l.indexOf(t);return t.active&&l.length>1&&(l[r==l.length-1?r-1:r+1].active=!0),t.active=!1,l.splice(r,1),l.length&&(o.sumSize-=n.liBefore),o.sumSize-=s[r],s.splice(r,1),t.$destroy(),e.scrollable=!1,i(function(){e.scrollChange&&e.scrollChange()}),!0},o.closeAllTab=function(){for(var e=0;e<l.length;)l[e]._closeable?o.removeTab(l[e]):e++},o.closeOtherTab=function(e){for(var t=0;t<l.length;)l[t]!=e&&l[t]._closeable?o.removeTab(l[t]):t++},o.calcUlOffset=function(){e.calcUlOffset()}}]).directive("wiTabset",["wiResizeListener","wiCommonSev","$timeout","tabsetConf",function(e,t,i,n){return{restrict:"E",transclude:!0,replace:!0,scope:{wid:"=",onselect:"&",onbeforeclose:"&",onclose:"&"},controller:"TabsetController",templateUrl:"template/tebset/tabsetTemplate.html",link:function(r,o,a,l){var s=r.$parent,d=r.conf,c=l.attrNames,u=l.tabSizes;r.scrollable=!1;var g,p=[{id:1,label:"关闭当前页"},{id:2,label:"关闭其他"},{id:3,label:"关闭所有"}],f=[{id:1,label:"关闭当前页",enabled:!1},{id:2,label:"关闭其他"},{id:3,label:"关闭所有"}],h=[{id:3,label:"关闭所有"}],m=0;l.selectFun=r.onselect()||angular.noop,l.beforeCloseFun=r.onbeforeclose()||angular.noop,l.closeFun=r.onclose()||angular.noop,angular.extend(d,{width:t.getSizeFromAttr(a.width,s),height:t.getSizeFromAttr(a.height,s),tabheadsize:Number(a.tabheadsize)||36,enablerightmenu:d.closeable?a.hasOwnProperty("enablerightmenu")&&"false"!=a.enablerightmenu:!1,onselect:l.selectFun,onbeforeclose:l.beforeCloseFun,onclose:l.closeFun}),r.ulStyle={},angular.forEach(angular.element(o.children()[0]).children(),function(e){(" "+e.className+" ").indexOf("wi-tabstage")>=0&&(g=e,angular.element(e).on("contextmenu",function(){if(l.isTab){var e=l.rightClickTab&&l.rightClickTab.scope;r.menudata=e._closeable?p:f}else r.menudata=h;r.$digest(),l.isTab=!1}))}),(!d.vertical||d.height)&&(r.ulStyle.transition=c.pos+" .35s ease",r.ulStyle["-webkit-transition"]=c.pos+" .35s ease",r.scrollChange=function(){var e=g[c.offset];r.ulStyle[c.size]=Math.ceil(l.sumSize)+"px",e&&e<l.sumSize?(r.scrollable=!0,i(function(){r.calcUlOffset()})):(m=0,r.ulStyle[c.pos]=m+"px",r.scrollable=!1)}),r.calcUlOffset=function(){if(r.scrollable){for(var e=0,t=0,i=0;i<u.length&&(t=u[i],!r.tabs[i].active);i++)e+=t+n.liBefore;
var o=g[c.offset],a=Math.max(-Math.floor(e),o-Math.ceil(l.sumSize)),s=Math.min(o-Math.ceil(e+t),0);a>m?m=a:m>s&&(m=s),r.ulStyle[c.pos]=m+"px"}},r.rightmenuselect=function(e){var t=l.rightClickTab;e&&(1==e.id?t&&l.removeTab(t.scope):2==e.id?t&&l.closeOtherTab(t.scope):3==e.id&&l.closeAllTab())},r.backward=function(){var e=m;if(!(e>=0))for(var t=0,i=0,o=0,a=0;a<u.length;a++){if(-e<=Math.floor(t)){m=-Math.floor(o),r.ulStyle[c.pos]=m+"px";break}i=u[a],o=t,t+=i+n.liBefore}},r.forward=function(){var e=m,t=g[c.offset];if(!(e<=t-Math.ceil(l.sumSize)))for(var i=0,o=0;o<u.length;o++){if(i+=u[o],t-e<Math.ceil(i)){m=t-Math.ceil(i),r.ulStyle[c.pos]=m+"px";break}i+=n.liBefore}};var v=l.resetSize=function(){var e=r.tabs;i(function(){r.$apply(r.ulStyle[c.size]="auto");for(var t=0;t<e.length;t++){var i=e[t].getSize(),n=l.tabSizes[t];i!=n&&(l.tabSizes[t]=i,l.sumSize+=i,n&&(l.sumSize-=n))}r.scrollChange&&r.scrollChange()})},w=function(){e.addResizeListener(o[0].parentElement,function(){r.$evalAsync(v)})};(d.vertical&&d.height&&d.height.indexOf("%")>0||!d.vertical&&d.width&&d.width.indexOf("%")>0)&&w(),a.wid&&angular.isObject(r.wid)&&angular.extend(r.wid,{options:function(){return d},getTab:function(e,t){for(var i=r.tabs,n=0;n<i.length;n++)if(i[n].getData()[e]==t)return i[n]},getTabs:function(e,t){for(var i=r.tabs,n=[],o=0;o<i.length;o++)i[o].getData()[e]==t&&n.push(i[o]);return n},getActiveTab:function(){for(var e=r.tabs,t=0;t<e.length;t++)if(1==e[t].active)return e[t]},select:function(e){e&&(e.active=!0)},close:function(e){e&&e.close()},reCompute:function(){w()}}),l.acLinked=!0}}}]).directive("wiTab",["$parse","wiCommonSev",function(e,t){return{require:"^wiTabset",restrict:"E",replace:!0,templateUrl:"template/tebset/tabTemplate.html",transclude:!0,scope:{heading:"@"},controller:function(){},compile:function(i,n,r){return function(i,n,o,a){i.$transcludeFn=r;var l=i.$parent;i.data={wiid:o.wiid,src:o.src,icon:o.icon},n.css(a.attrNames.size,t.getSizeFromAttr(o.size));var s;if(o.active){var d=e(o.active);s=d.assign,i.active=d(l),s&&l.$watch(d,function(e,t){e!==t&&(i.active=e)})}else i.active=!1;if(i.$watch("active",function(e,t){e!==t&&(s&&s(l,e),e&&(a.deselectOthers(i),a.calcUlOffset(),a.selectFun(i.getData())))}),a.addTab(i,n),i.disable===!1)if(o.regular){var c=e(o.regular);i._closeable=!c(l),c.assign&&l.$watch(c,function(e,t){e!==t&&(i._closeable=!e,a.resetSize())})}else i._closeable=!0;else if(i._closeable=!1,i.disable=!1,o.disable){var u=e(o.disable);u.assign&&l.$watch(u,function(e){i.disable=!!e})}i.getData=function(){return angular.extend({heading:i.heading||i.headingElem},i.data)},i.getSize=function(){return n[0].getBoundingClientRect()[a.attrNames.size]},i.select=function(){i.disable||(i.active=!0)},i.close=function(e){a.beforeCloseFun(i.getData())!==!1&&a.removeTab(i,n),e&&e.stopPropagation()},i.$on("$destroy",function(){n&&n.remove(),a.closeFun(i.getData()),i=void 0}),n.on("contextmenu",function(){a.rightClickTab={scope:i,elm:n},a.isTab=!0})}}}}]).directive("wiTabHeadingTransclude",[function(){return{restrict:"A",require:"^wiTab",link:function(e,t){e.$watch("headingElem",function(e){e&&t.html(e)})}}}]).directive("wiTabContentTransclude",function(){function e(e){return e.tagName&&"wi-tab-heading"===e.tagName.toLowerCase()}return{restrict:"A",require:"^wiTabset",link:function(t,i,n){var r=t.$eval(n.wiTabContentTransclude);r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElem=angular.element(t).html():void 0==r.src&&i.append(t)})})}}}),angular.module("dist.ui.tilelist",["dist.ui.resizelistener"]).constant("tilelistConf",{rowHeight:30,colWidth:100,scrollBarSize:17}).directive("wiTilelist",["tilelistConf","wiResizeListener","$timeout",function(e,t,i){return{restrict:"E",templateUrl:"template/tilelist/tilelistTemplate.html",transclude:!0,replace:!0,scope:{dataprovider:"=",direction:"@",itemrender:"@"},controller:["$scope",function(){}],controllerAs:"tilelistCtrl",link:function(n,r,o){function a(){h(),n.colW=p+"px",n.rowH=g+"px",n.tableW=p*u+"px",n.tableH=g*c+"px",n.dataTable=[];for(var e=0;c>e;e++){for(var t=[],i=0;u>i;i++)t.push(n.dataprovider[e*u+i]);n.dataTable.push(t)}}var l=n.$parent,s=angular.lowercase(n.direction||"v"),d=!1;!function(){var e=function(e){if(e){var t=/^(?:[1-9]\d*|0)(?:.\d+)?/.test(e)?e:l.$eval(e);return Number(t)&&(t+="px"),t}},t=e(o.width),i=e(o.height);r.css({width:t,height:i}),d="v"==s?!t||t.indexOf("%")>=0:!i||i.indexOf("%")>=0}();var c,u,g,p,f={rowCount:Number(l.$eval(o.rowcount)),colCount:Number(l.$eval(o.colcount)),rowHeight:Number(l.$eval(o.rowheight)),colWidth:Number(l.$eval(o.colwidth))},h="h"==s?function(){var t=r[0].getBoundingClientRect(),i=t.width,o=t.height;if(p=f.colWidth||e.colWidth,f.rowCount){c=f.rowCount,u=Math.ceil(n.dataprovider.length/c);var a=p*u>i?o-e.scrollBarSize:o;g=f.rowHeight&&f.rowHeight*c<=a?f.rowHeight:Math.floor(a/c)}else g=f.rowHeight||e.rowHeight,c=Math.floor(o/g)||1,u=Math.ceil(n.dataprovider.length/c),c>1&&u*p>i&&(c=Math.floor((o-e.scrollBarSize)/g)||1,u=Math.ceil(n.dataprovider.length/c))}:function(){var t=r[0].getBoundingClientRect(),i=t.width,o=t.height;if(g=f.rowHeight||e.rowHeight,f.colCount){u=f.colCount,c=Math.ceil(n.dataprovider.length/u);var a=g*c>o?i-e.scrollBarSize:i;p=f.colWidth&&f.colWidth*u<=a?f.colWidth:Math.floor(a/u)}else p=f.colWidth||e.colWidth,u=Math.floor(i/p)||1,c=Math.ceil(n.dataprovider.length/u),u>1&&c*g>o&&(u=Math.floor((i-e.scrollBarSize)/p)||1,c=Math.ceil(n.dataprovider.length/u))};n.$watchCollection("dataprovider",function(e){e?a():n.dataTable=[]}),i(a,0);var m=function(){d&&t.addResizeListener(r[0],function(){n.$evalAsync(a)})};m()}}}]),angular.module("dist.ui.tooltip",["dist.ui.position","dist.ui.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,i="-";return e.replace(t,function(e,t){return(t?i:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0},i={mouseenter:"mouseleave",click:"click",focus:"blur"},n={};this.options=function(e){angular.extend(n,e)},this.setTriggers=function(e){angular.extend(i,e)},this.$get=["$window","$compile","$timeout","$parse","$document","$position",function(r,o,a,l,s,d){return function(s,c,u){function g(e){var t=e||p.trigger||u,n=i[t]||t;return{show:t,hide:n}}var p=angular.extend({},t,n),f=e(s),h="<div "+f+'-popup content="{{tt_content}}" placement="{{tt_placement}}" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var e=o(h);return function(t,i,n){function o(){t.tt_isOpen?f():u()}function u(){(!S||t.$eval(n[c+"Enable"]))&&(t.tt_popupDelay?y||(y=a(h,t.tt_popupDelay,!1)):h())}function f(){t.$apply(function(){m()})}function h(){if(y=null,x&&(a.cancel(x),x=null),t.tt_content){C||(C=e(t,function(){}),E?angular.element(r.top.document.body).append(C):i.after(C)),t.$digest();var n,o=C[0].getBoundingClientRect(),l={};E?(n=d.adaptElements(i,o.width,o.height,t.tt_placement+"-center",!1,!0),l=angular.extend(l,{zIndex:d.getZIndex()},n[0])):(n=d.positionTooltip(i,o.width,o.height,t.tt_placement+"-center"),l=angular.extend(l,n)),C.css(l),t.tt_isOpen=!0,t.$digest()}}function m(){t.tt_isOpen=!1,a.cancel(y),y=null,t.tt_animation?x||(x=a(v,500)):v()}function v(){x=null,C&&(C.remove(),C=null)}function w(){i.unbind(A.show,u),i.unbind(A.hide,f)}function b(){A.show===A.hide?i.bind(A.show,o):(i.bind(A.show,u),i.bind(A.hide,f))}var C,y,x,S=angular.isDefined(n[c+"Enable"]),E=angular.isDefined(n[c+"AppendToBody"])?l(n[c+"AppendToBody"])(t):angular.isDefined(p.appendToBody)?p.appendToBody:!1,A=g(void 0);b();var T=t.$eval(n[c+"Animation"]);t.tt_placement=angular.isDefined(n[c+"Placement"])?n[c+"Placement"]:p.placement,t.tt_animation=angular.isDefined(T)?!!T:p.animation,t.tt_isOpen=!1,n.$observe(s,function(e){t.tt_content=e,!e&&t.tt_isOpen&&m()}),n.$observe(c+"PopupDelay",function(e){var i=parseInt(e,10);t.tt_popupDelay=isNaN(i)?p.popupDelay:i}),n.$observe(c+"Trigger",function(e){var t=g(e);t.show!=A.show&&(w(),A=t,b())}),E&&t.$on("$locationChangeSuccess",function(){t.tt_isOpen&&m()}),t.$on("$destroy",function(){a.cancel(x),a.cancel(y),w(),v()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html",link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html",link:function(e,t){t.on("$destroy",function(){e.$destroy()})}}}).directive("tooltipHtmlUnsafe",["$tooltip",function(e){return e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("dist.ui.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(e,t,i){function n(e){for(var t in e)if(void 0!==o.style[t])return e[t]}var r=function(n,o,a){a=a||{};var l=e.defer(),s=r[a.animation?"animationEndEventName":"transitionEndEventName"],d=function(){i.$apply(function(){n.unbind(s,d),l.resolve(n)})};return s&&n.bind(s,d),t(function(){angular.isString(o)?n.addClass(o):angular.isFunction(o)?o(n):angular.isObject(o)&&n.css(o),s||l.resolve(n)}),l.promise.cancel=function(){s&&n.unbind(s,d),l.reject("Transition cancelled")},l.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},l={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=n(a),r.animationEndEventName=n(l),r}]),angular.module("dist.ui.tree",[]).factory("treeService",function(){var e={};return e.transData=function(e,t){for(var i,n=[],r={},o=0,a=e.length,l=t.idfield||"id",s=t.pidfield||"pid";a>o;)i=e[o++],r[i[l]]=i;for(o=0;a>o;){i=e[o++];var d=r[i[s]];d?(!d.children&&(d.children=[]),d.children.push(i)):n.push(i)}return[r,n]},e}).factory("RecursionHelper",["$compile",function(e){return{compile:function(t,i){angular.isFunction(i)&&(i={post:i});var n,r=t.contents().remove();return{pre:i&&i.pre?i.pre:null,post:function(t,o){n||(n=e(r)),n(t,function(e){o.append(e)}),i&&i.post&&i.post.apply(null,arguments)}}}}}]).filter("treeNodeFilter",function(){return function(e,t,i,n,r){var o={},a=[];return t?angular.forEach(e,function(e){if(e&&-1!=e[i].indexOf(t)){for(;e.__parent;)e=e.__parent;o[e[r]]||(o[e[r]]=e,a.push(e))}}):angular.forEach(e,function(e){e&&!e.__parent&&a.push(e)}),a}}).directive("wiTree",["RecursionHelper","treeService","$filter","$parse",function(e,t,i,n){return{restrict:"E",transclude:!0,templateUrl:"template/tree/treeTemplate.html",replace:!0,scope:{dataprovider:"=",filterby:"=",wid:"=",labelfunction:"&",onitemclick:"&",onloadbranch:"&",onbeforeexpand:"&",onexpand:"&",onbeforecollapse:"&",oncollapse:"&",onbeforeselect:"&",onselect:"&",oncancelselect:"&"},require:"wiTree",controller:["$scope","treeService",function(e,t){var i=this;if(e.isRoot=!e.$parent._treeCtrl,!e.isRoot)return e._treeCtrl=e.$parent._treeCtrl,void 0;e._treeCtrl=i;var n,r,o=i.conf={};i.handler={},i._hashData={},i.initData=function(e,t){o.multiselect?i.setMultiInit(e,t):i.setRadioInit(e,t)},i.setMultiInit=function(e,t){var n=t?t.__level+1:0,r=0;angular.forEach(e,function(e){e.__level=n,t&&(e.__parent=t),e.__closed=e.closed,e.__selected=e.selected,!o.cascade&&e.isbranch?(e.__closed=!0,e.children?e.children.length=0:e.children=[]):(e.isbranch||e.children&&!e.children.length)&&(e.children=void 0),e.children&&e.children.length&&i.setMultiInit(e.children,e),e.__selected&&r++}),t&&o.cascade&&(r==e.length?(t.__selected=!0,t.__semi=!1):0==r?(t.__selected=!1,t.__semi=!1):(t.__selected=!1,t.__semi=!0))},i.setRadioInit=function(e,t){var o=t?t.__level+1:0;angular.forEach(e,function(e){e.__level=o,t&&(e.__parent=t),e.__closed=e.closed,e.selected&&!r?(e.__selected=!0,e.__current=!0,n=e,r=e,function(e){for(;e;)e.__closed=!1,e=e.__parent}(t)):(e.__selected=!1,e.__current=!1),e.children?i.setRadioInit(e.children,e):e.isbranch&&(e.__closed=!0,e.children=[])})},i.changeCur=function(e){n!=e&&(n&&(n.__current=!1),n=e,n&&(n.__current=!0))},i.changeSel=function(e){r!=e&&(r&&(r.__selected=!1),r=e,r&&(r.__selected=!0))};var a=function(e){angular.forEach(e,function(e){i._hashData[e[o.idfield]]=e,e.children&&a(e.children)})};i.transData=function(e,n){if(o.isTree)a(e);else{var r=t.transData(e,{idfield:o.idfield,pidfield:o.pidfield,childrenfield:"children"});angular.extend(i._hashData,r[0]),e=r[1]}return i.initData(e,n),e},i.removeNode=function(e){e.__current&&(n=void 0),e.__selected&&(r=void 0),e.children&&angular.forEach(e.children,function(e){i.removeNode(e)}),delete i._hashData[e[o.idfield]]},i.destroyData=function(){n=void 0,r=void 0,i._hashData&&angular.forEach(i._hashData,function(e){e.__parent&&(e.__parent=null),e.children&&(e.children=null)})}}],compile:function(t){return e.compile(t,{post:function(e,t,r){var o=e.isRoot,a=e._treeCtrl,l=e.vm={},s=e.conf=a.conf,d=e.handler=a.handler;if(o){var c=e.$parent;angular.extend(s,{idfield:r.idfield||"id",pidfield:r.pidfield||"pid",labelfield:r.labelfield||"text",pCls:r.pcls,cCls:r.ccls||"icon-file",multiselect:!1,itemrenderer:r.itemrenderer,isTree:"true"==r.istree,cascade:"true"==r.cascade}),s.onitemclick=e.onitemclick()||angular.noop,s.onloadbranch=e.onloadbranch()||angular.noop,s.onbeforeexpand=e.onbeforeexpand()||angular.noop,s.onexpand=e.onexpand()||angular.noop,s.onbeforecollapse=e.onbeforecollapse()||angular.noop,s.oncollapse=e.oncollapse()||angular.noop,s.onbeforeselect=e.onbeforeselect()||angular.noop,s.onselect=e.onselect()||angular.noop,s.oncancelselect=e.oncancelselect()||angular.noop,function(){var e;if(r.multiselect){var t=n(r.multiselect);e=t.assign,s.multiselect=t(c),e&&c.$watch(t,function(e,t){e!==t&&(s.multiselect=e,a.changeCur(),a.initData(l._data))})}angular.isUndefined(e)&&(a.conf.multiselect=s.multiselect)}(),e.$watch("dataprovider",function(t){t&&(a.destroyData(),l._data=a.transData(e.dataprovider))},!1),e.$watch("filterby",function(t,n){t!=n&&(angular.forEach(a._hashData,function(e){e.__selected&&(e.__selected=!1)}),l._data=i("treeNodeFilter")(a._hashData,e.filterby,s.labelfield,s.pidfield,s.idfield))},!1),e.$on("$destroy",function(){a.destroyData()});var u=function(e,t){e=a.transData(e,t),t?(t.children=t.children?t.children.concat(e):e,t.__closed=!1):l._data=l._data.concat(e)},g=function(e){var t,i=e.__parent;i?(t=i.children,t.splice(t.indexOf(e),1),0==t.length&&(i.children=void 0)):(t=l._data,t.splice(t.indexOf(e),1)),a.removeNode(e)},p=function(e){angular.forEach(e.children,function(t){t.__selected=e.__selected,t.__semi=!1,t.children&&p(t)})},f=function(e){var t=0;angular.forEach(e.children,function(e){e.__selected&&t++}),0==t?(e.__selected=!1,e.__semi=!1):t==e.children.length?(e.__selected=!0,e.__semi=!1):(e.__selected=!1,e.__semi=!0),e.__parent&&f(e.__parent)},h=function(t){t.children&&t.__closed&&s.onbeforeexpand(t)!==!1&&(t.__closed=!1,t.isbranch&&!t.children.length?(t.__loading=!0,s.onloadbranch(t,function(i){t.__loading=!1,angular.isArray(i)&&(u(i,t),e.$apply()),s.onexpand(t)},function(){})):s.onexpand(t))},m=function(e){e.children&&!e.__closed&&s.onbeforecollapse(e)!==!1&&(e.__closed=!0,s.oncollapse(e))},v=function(e){var t=e.__selected;t||(s.multiselect?(s.onbeforeselect(e)!==!1&&(e.__selected=!0,e.__semi=!1,s.cascade&&(e.children&&p(e),e.__parent&&f(e.__parent)),s.onselect(e)),a.changeCur(e)):s.onbeforeselect(e)!==!1&&(a.changeSel(e),a.changeCur(e),s.onselect(e)))};d.clickRow=function(e){s.onitemclick(e);var t=e.__selected;t?s.multiselect&&(e.__selected=!1,e.__semi=!1,s.cascade&&(e.children&&p(e),e.__parent&&f(e.__parent)),s.oncancelselect(e),a.changeCur(e)):v(e)},d.toggleNode=function(e,t){t.__closed?h(t):m(t),e.stopPropagation()},d.toggleHover=function(e){e["wi-treehover"]=!e["wi-treehover"]},r.wid&&angular.isObject(e.wid)&&(e.wid.options=function(){return s},e.wid.loadData=function(t,i){s.isTree=i||!1,e.dataprovider=t},e.wid.getNode=function(e,t){var i=a._hashData;for(var n in i)if(i.hasOwnProperty(n)&&i[n][e]==t)return i[n]},e.wid.getNodes=function(e,t){var i=a._hashData,n=[];for(var r in i)i.hasOwnProperty(r)&&i[r][e]==t&&n.push(i[r]);return n},e.wid.getSelected=function(){var e,t=a._hashData;if(s.multiselect){var i=[];for(e in t)t.hasOwnProperty(e)&&1==t[e].__selected&&i.push(t[e]);return i}for(e in t)if(t.hasOwnProperty(e)&&1==t[e].__selected)return t[e]},e.wid.select=function(e){v(e)},e.wid.expandNode=function(e){h(e)},e.wid.collapseNode=function(e){m(e)},e.wid.append=function(t,i){angular.isArray(t)&&(u(t,i),e.$evalAsync())},e.wid.remove=function(e){g(e)},e.wid.updateNode=function(e,t){angular.extend(e,t)})}else e.$watch("dataprovider",function(t){t&&(l._data=e.dataprovider)},!1)}})}}}]),function(e){"use strict";if("object"==typeof exports)module.exports=e("undefined"!=typeof angular?angular:require("angular"),"undefined"!=typeof Chart?Chart:require("chart"));else if("function"==typeof define&&define.amd)define(["angular","chart"],e);else{if("undefined"==typeof angular||"undefined"==typeof Chart)throw new Error("Chart.js library needs to included, see http://jtblin.github.io/angular-chart.js/");e(angular,Chart)}}(function(e,t){"use strict";function i(){var i={responsive:!0},n={Chart:t,getOptions:function(t){var n=t&&i[t]||{};return e.extend({},i,n)}};this.setOptions=function(t,n){return n?(i[t]=e.extend(i[t]||{},n),void 0):(n=t,i=e.extend(i,n),void 0)},this.$get=function(){return n}}function n(i,n){function o(e,t,n){var r=y(e,t);if(m(t)&&A(e,t,n,r)){var o=n[0],a=o.getContext("2d");t.chartGetColor=v(t);var l=w(e,t);T(t),t.chart=new i.Chart(a,{type:e,data:l,options:r}),t.$emit("chart-create",t.chart),x(o,t)}}function a(e,t){return e&&t&&e.length&&t.length?Array.isArray(e[0])?e.length===t.length&&e.every(function(e,i){return e.length===t[i].length}):t.reduce(l,0)>0?e.length===t.length:!1:!1}function l(e,t){return e+t}function s(t,i,n){var r=null;return function(o){var a=t.chart.getElementsAtEvent||t.chart.getPointsAtEvent;if(a){var l=a.call(t.chart,o);(n===!1||e.equals(r,l)===!1)&&(r=l,t[i](l,o))}}}function d(n,r){for(var o=e.copy(r.chartColors||i.getOptions(n).chartColors||t.defaults.global.colors),a=o.length<r.chartData.length;o.length<r.chartData.length;)o.push(r.chartGetColor());return a&&(r.chartColors=o),o.map(c)}function c(e){return"object"==typeof e&&null!==e?e:"string"==typeof e&&"#"===e[0]?g(h(e.substr(1))):u()}function u(){var e=[p(0,255),p(0,255),p(0,255)];return g(e)}function g(e){return{backgroundColor:f(e,.2),pointBackgroundColor:f(e,1),pointHoverBackgroundColor:f(e,.8),borderColor:f(e,1),pointBorderColor:"#fff",pointHoverBorderColor:f(e,1)}}function p(e,t){return Math.floor(Math.random()*(t-e+1))+e}function f(e,t){return r?"rgb("+e.join(",")+")":"rgba("+e.concat(t).join(",")+")"}function h(e){var t=parseInt(e,16),i=t>>16&255,n=t>>8&255,r=255&t;return[i,n,r]}function m(e){return e.chartData&&e.chartData.length}function v(e){return"function"==typeof e.chartGetColor?e.chartGetColor:u}function w(e,t){var i=d(e,t);return Array.isArray(t.chartData[0])?b(t.chartLabels,t.chartData,t.chartSeries||[],i,t.chartDatasetOverride):C(t.chartLabels,t.chartData,i,t.chartDatasetOverride)}function b(t,i,n,r,o){return{labels:t,datasets:i.map(function(t,i){var a=e.extend({},r[i],{label:n[i],data:t});return o&&o.length>=i&&e.merge(a,o[i]),a})}}function C(t,i,n,r){var o={labels:t,datasets:[{data:i,backgroundColor:n.map(function(e){return e.pointBackgroundColor}),hoverBackgroundColor:n.map(function(e){return e.backgroundColor})}]};return r&&e.merge(o.datasets[0],r),o}function y(t,n){return e.extend({},i.getOptions(t),n.chartOptions)}function x(t,i){t.onclick=i.chartClick?s(i,"chartClick",!1):e.noop,t.onmousemove=i.chartHover?s(i,"chartHover",!0):e.noop}function S(e,t){Array.isArray(t.chartData[0])?t.chart.data.datasets.forEach(function(t,i){t.data=e[i]}):t.chart.data.datasets[0].data=e,t.chart.update(),t.$emit("chart-update",t.chart)}function E(e){return!e||Array.isArray(e)&&!e.length||"object"==typeof e&&!Object.keys(e).length}function A(e,t,i,r){return r.responsive&&0===i[0].clientHeight?(n(function(){o(e,t,i)},50,!1),!1):!0}function T(e){e.chart&&(e.chart.destroy(),e.$emit("chart-destroy",e.chart))}return function(t){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(i,n){function l(e,r){if(!e||!e.length||Array.isArray(e[0])&&!e[0].length)return T(i),void 0;var l=t||i.chartType;if(l)return i.chart&&a(e,r)?S(e,i):(o(l,i,n),void 0)}function s(r,a){if(!E(r)&&!e.equals(r,a)){var l=t||i.chartType;l&&o(l,i,n)}}function d(t,r){E(t)||e.equals(t,r)||o(t,i,n)}r&&window.G_vmlCanvasManager.initElement(n[0]),i.$watch("chartData",l,!0),i.$watch("chartSeries",s,!0),i.$watch("chartLabels",s,!0),i.$watch("chartOptions",s,!0),i.$watch("chartColors",s,!0),i.$watch("chartDatasetOverride",s,!0),i.$watch("chartType",d,!1),i.$on("$destroy",function(){T(i)}),i.$on("$resize",function(){i.chart&&i.chart.resize()})}}}}t.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",t.defaults.global.tooltips.mode="label",t.defaults.global.elements.line.borderWidth=2,t.defaults.global.elements.rectangle.borderWidth=2,t.defaults.global.legend.display=!1,t.defaults.global.colors=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var r="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return r&&(t.defaults.global.animation=!1),e.module("dist.ui.chart",[]).provider("ChartJs",i).factory("ChartJsFactory",["ChartJs","$timeout",n]).directive("chartBase",["ChartJsFactory",function(e){return new e}]).directive("chartLine",["ChartJsFactory",function(e){return new e("line")}]).directive("chartBar",["ChartJsFactory",function(e){return new e("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(e){return new e("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(e){return new e("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(e){return new e("doughnut")}]).directive("chartPie",["ChartJsFactory",function(e){return new e("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(e){return new e("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(e){return new e("bubble")}]).name}),function(){"use strict";angular.module("dist.ui.grid",["ui.grid"]),angular.module("ui.grid.i18n",[]),angular.module("ui.grid",["ui.grid.i18n"])}(),function(){"use strict";angular.module("ui.grid").constant("uiGridConstants",{LOG_DEBUG_MESSAGES:!0,LOG_WARN_MESSAGES:!0,LOG_ERROR_MESSAGES:!0,CUSTOM_FILTERS:/CUSTOM_FILTERS/g,COL_FIELD:/COL_FIELD/g,MODEL_COL_FIELD:/MODEL_COL_FIELD/g,TOOLTIP:/title=\"TOOLTIP\"/g,DISPLAY_CELL_TEMPLATE:/DISPLAY_CELL_TEMPLATE/g,TEMPLATE_REGEXP:/<.+>/,FUNC_REGEXP:/(\([^)]*\))?$/,DOT_REGEXP:/\./g,APOS_REGEXP:/'/g,BRACKET_REGEXP:/^(.*)((?:\s*\[\s*\d+\s*\]\s*)|(?:\s*\[\s*"(?:[^"\\]|\\.)*"\s*\]\s*)|(?:\s*\[\s*'(?:[^'\\]|\\.)*'\s*\]\s*))(.*)$/,COL_CLASS_PREFIX:"ui-grid-col",events:{GRID_SCROLL:"uiGridScroll",COLUMN_MENU_SHOWN:"uiGridColMenuShown",ITEM_DRAGGING:"uiGridItemDragStart",COLUMN_HEADER_CLICK:"uiGridColumnHeaderClick"},keymap:{TAB:9,STRG:17,CAPSLOCK:20,CTRL:17,CTRLRIGHT:18,CTRLR:18,SHIFT:16,RETURN:13,ENTER:13,BACKSPACE:8,BCKSP:8,ALT:18,ALTR:17,ALTRIGHT:17,SPACE:32,WIN:91,MAC:91,FN:null,PG_UP:33,PG_DOWN:34,UP:38,DOWN:40,LEFT:37,RIGHT:39,ESC:27,DEL:46,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123},ASC:"asc",DESC:"desc",filter:{STARTS_WITH:2,ENDS_WITH:4,EXACT:8,CONTAINS:16,GREATER_THAN:32,GREATER_THAN_OR_EQUAL:64,LESS_THAN:128,LESS_THAN_OR_EQUAL:256,NOT_EQUAL:512,SELECT:"select",INPUT:"input"},aggregationTypes:{sum:2,count:4,avg:8,min:16,max:32},CURRENCY_SYMBOLS:["ƒ","$","£","$","¤","¥","៛","₩","₱","฿","₫"],scrollDirection:{UP:"up",DOWN:"down",LEFT:"left",RIGHT:"right",NONE:"none"},dataChange:{ALL:"all",EDIT:"edit",ROW:"row",COLUMN:"column",OPTIONS:"options"},scrollbars:{NEVER:0,ALWAYS:1}})}(),angular.module("ui.grid").directive("uiGridCell",["$compile","$parse","gridUtil","uiGridConstants",function(e,t,i,n){var r={priority:0,scope:!1,require:"?^uiGrid",compile:function(){return{pre:function(t,r,o,a){function l(){var e=t.col.compiledElementFn;e(t,function(e){r.append(e)})}if(a&&t.col.compiledElementFn)l();else if(a&&!t.col.compiledElementFn)t.col.getCompiledElementFn().then(function(e){e(t,function(e){r.append(e)})});else{var s=t.col.cellTemplate.replace(n.MODEL_COL_FIELD,"row.entity."+i.preEval(t.col.field)).replace(n.COL_FIELD,"grid.getCellValue(row, col)"),d=e(s)(t);r.append(d)}},post:function(e,t){var i=e.col.getColClass(!1);t.addClass(i);var r,o=function(){var i=t;r&&(i.removeClass(r),r=null),r=angular.isFunction(e.col.cellClass)?e.col.cellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.cellClass,i.addClass(r)};e.col.cellClass&&o();var a=e.grid.registerDataChangeCallback(o,[n.dataChange.COLUMN,n.dataChange.EDIT]),l=function(n,a){if(n!==a){(r||e.col.cellClass)&&o();var l=e.col.getColClass(!1);l!==i&&(t.removeClass(i),t.addClass(l),i=l)}},s=e.$watch("row",l),d=function(){a(),s()};e.$on("$destroy",d),t.on("$destroy",d)}}}};return r}]),function(){angular.module("ui.grid").service("uiGridColumnMenuService",["i18nService","uiGridConstants","gridUtil",function(e,t,i){var n={initialize:function(e,t){e.grid=t.grid,t.columnMenuScope=e,e.menuShown=!1},setColMenuItemWatch:function(e){var t=e.$watch("col.menuItems",function(t){"undefined"!=typeof t&&t&&angular.isArray(t)?(t.forEach(function(t){"undefined"!=typeof t.context&&t.context||(t.context={}),t.context.col=e.col}),e.menuItems=e.defaultMenuItems.concat(t)):e.menuItems=e.defaultMenuItems});e.$on("$destroy",t)},sortable:function(e){return e.grid.options.enableSorting&&"undefined"!=typeof e.col&&e.col&&e.col.enableSorting?!0:!1},isActiveSort:function(e,t){return"undefined"!=typeof e.col&&"undefined"!=typeof e.col.sort&&"undefined"!=typeof e.col.sort.direction&&e.col.sort.direction===t},suppressRemoveSort:function(e){return e.col&&e.col.suppressRemoveSort?!0:!1},hideable:function(e){return"undefined"!=typeof e.col&&e.col&&e.col.colDef&&e.col.colDef.enableHiding===!1?!1:!0},getDefaultMenuItems:function(i){return[{title:e.getSafeText("sort.ascending"),icon:"ui-grid-icon-sort-alt-up",action:function(e){e.stopPropagation(),i.sortColumn(e,t.ASC)},shown:function(){return n.sortable(i)},active:function(){return n.isActiveSort(i,t.ASC)}},{title:e.getSafeText("sort.descending"),icon:"ui-grid-icon-sort-alt-down",action:function(e){e.stopPropagation(),i.sortColumn(e,t.DESC)},shown:function(){return n.sortable(i)},active:function(){return n.isActiveSort(i,t.DESC)}},{title:e.getSafeText("sort.remove"),icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),i.unsortColumn()},shown:function(){return n.sortable(i)&&"undefined"!=typeof i.col&&"undefined"!=typeof i.col.sort&&"undefined"!=typeof i.col.sort.direction&&null!==i.col.sort.direction&&!n.suppressRemoveSort(i)}},{title:e.getSafeText("column.hide"),icon:"ui-grid-icon-cancel",shown:function(){return n.hideable(i)},action:function(e){e.stopPropagation(),i.hideColumn()}}]},getColumnElementPosition:function(e,t,n){var r={};return r.left=n[0].offsetLeft,r.top=n[0].offsetTop,r.parentLeft=n[0].offsetParent.offsetLeft,r.offset=0,t.grid.options.offsetLeft&&(r.offset=t.grid.options.offsetLeft),r.height=i.elementHeight(n,!0),r.width=i.elementWidth(n,!0),r},repositionMenu:function(e,t,n,r,o){var a=r[0].querySelectorAll(".ui-grid-menu"),l=i.closestElm(o,".ui-grid-render-container"),s=l.getBoundingClientRect().left-e.grid.element[0].getBoundingClientRect().left,d=l.querySelectorAll(".ui-grid-viewport")[0].scrollLeft,c=t.lastMenuWidth?t.lastMenuWidth:e.lastMenuWidth?e.lastMenuWidth:170,u=t.lastMenuPaddingRight?t.lastMenuPaddingRight:e.lastMenuPaddingRight?e.lastMenuPaddingRight:10;if(0!==a.length){var g=a[0].querySelectorAll(".ui-grid-menu-mid");0===g.length||angular.element(g).hasClass("ng-hide")||(c=i.elementWidth(a,!0),e.lastMenuWidth=c,t.lastMenuWidth=c,u=parseInt(i.getStyles(angular.element(a)[0]).paddingRight,10),e.lastMenuPaddingRight=u,t.lastMenuPaddingRight=u)}var p=n.left+s-d+n.parentLeft+n.width-c+u;p<n.offset&&(p=n.offset),r.css("left",p+"px"),r.css("top",n.top+n.height+"px")}};return n}]).directive("uiGridColumnMenu",["$timeout","gridUtil","uiGridConstants","uiGridColumnMenuService","$document",function(e,t,i,n,r){var o={priority:0,scope:!0,require:"^uiGrid",templateUrl:"ui-grid/uiGridColumnMenu",replace:!0,link:function(o,a,l,s){n.initialize(o,s),o.defaultMenuItems=n.getDefaultMenuItems(o),o.menuItems=o.defaultMenuItems,n.setColMenuItemWatch(o),o.showMenu=function(e,t,i){o.col=e;var r=n.getColumnElementPosition(o,e,t);o.menuShown?(o.colElement=t,o.colElementPosition=r,o.hideThenShow=!0,o.$broadcast("hide-menu",{originalEvent:i})):(o.menuShown=!0,n.repositionMenu(o,e,r,a,t),o.colElement=t,o.colElementPosition=r,o.$broadcast("show-menu",{originalEvent:i}))},o.hideMenu=function(e){o.menuShown=!1,e||o.$broadcast("hide-menu")},o.$on("menu-hidden",function(){o.hideThenShow?(delete o.hideThenShow,n.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),o.$broadcast("show-menu"),o.menuShown=!0):(o.hideMenu(!0),o.col&&t.focus.bySelector(r,".ui-grid-header-cell."+o.col.getColClass()+" .ui-grid-column-menu-button",o.col.grid,!1))}),o.$on("menu-shown",function(){e(function(){n.repositionMenu(o,o.col,o.colElementPosition,a,o.colElement),t.focus.bySelector(r,".ui-grid-menu-items .ui-grid-menu-item",!0),delete o.colElementPosition,delete o.columnElement},200)}),o.sortColumn=function(e,t){e.stopPropagation(),o.grid.sortColumn(o.col,t,!0).then(function(){o.grid.refresh(),o.hideMenu()})},o.unsortColumn=function(){o.col.unsort(),o.grid.refresh(),o.hideMenu()};var d=function(){e(function(){var e,i=function(){return t.focus.byId("grid-menu",o.grid)};o.grid.columns.some(function(t,i){return angular.equals(t,o.col)?(e=i,!0):void 0});var n;if(o.grid.columns.some(function(t,i){if(!t.visible)return!1;if(e>i)n=t;else{if(i>e&&!n)return n=t,!0;if(i>e&&n)return!0}}),n){var a=n.getColClass();t.focus.bySelector(r,".ui-grid-header-cell."+a+" .ui-grid-header-cell-primary-focus",!0).then(angular.noop,function(e){return"canceled"!==e?i():void 0})}else i()})};o.hideColumn=function(){o.col.colDef.visible=!1,o.col.visible=!1,o.grid.queueGridRefresh(),o.hideMenu(),o.grid.api.core.notifyDataChange(i.dataChange.COLUMN),o.grid.api.core.raise.columnVisibilityChanged(o.col),d()}},controller:["$scope",function(e){var t=this;e.$watch("menuItems",function(e){t.menuItems=e})}]};return o}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFilter",["$compile","$templateCache","i18nService","gridUtil",function(e,t,i,n){return{compile:function(){return{pre:function(t,i){t.col.updateFilters=function(n){if(i.children().remove(),n){var r=t.col.filterHeaderTemplate;i.append(e(r)(t))}},t.$on("$destroy",function(){delete t.col.updateFilters})},post:function(e,t){e.aria=i.getSafeText("headerCell.aria"),e.removeFilter=function(e,i){e.term=null,n.focus.bySelector(t,".ui-grid-filter-input-"+i)}}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooterCell",["$timeout","gridUtil","uiGridConstants","$compile",function(e,t,i,n){var r={priority:0,scope:{col:"=",row:"=",renderIndex:"="},replace:!0,require:"^uiGrid",compile:function(){return{pre:function(e,t){var i=n(e.col.footerCellTemplate)(e);t.append(i)},post:function(e,t,n,r){e.grid=r.grid;var o=e.col.getColClass(!1);t.addClass(o);var a,l=function(){var i=t;a&&(i.removeClass(a),a=null),a=angular.isFunction(e.col.footerCellClass)?e.col.footerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.footerCellClass,i.addClass(a)
};e.col.footerCellClass&&l(),e.col.updateAggregationValue();var s=e.grid.registerDataChangeCallback(l,[i.dataChange.COLUMN]);e.grid.api.core.on.rowsRendered(e,e.col.updateAggregationValue),e.grid.api.core.on.rowsRendered(e,l),e.$on("$destroy",s)}}}};return r}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,n){return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,i,r,o){var a=o[0],l=o[1];e.grid=a.grid,e.colContainer=l.colContainer,l.footer=i;var s=e.grid.options.footerTemplate;n.getTemplate(s).then(function(n){var r=angular.element(n),o=t(r)(e);if(i.append(o),l){var a=i[0].getElementsByClassName("ui-grid-footer-viewport")[0];a&&(l.footerViewport=a)}})},post:function(e,t,i,r){{var o=r[0],a=r[1];o.grid}n.disableAnimations(t),a.footer=t;var l=t[0].getElementsByClassName("ui-grid-footer-viewport")[0];l&&(a.footerViewport=l)}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGridFooter",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout",function(e,t,i,n){return{restrict:"EA",replace:!0,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(e,i,r,o){e.grid=o.grid;var a=e.grid.options.gridFooterTemplate;n.getTemplate(a).then(function(n){var r=angular.element(n),o=t(r)(e);i.append(o)})},post:function(){}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridGroupPanel",["$compile","uiGridConstants","gridUtil",function(e,t,i){var n="ui-grid/ui-grid-group-panel";return{restrict:"EA",replace:!0,require:"?^uiGrid",scope:!1,compile:function(){return{pre:function(t,r){var o=t.grid.options.groupPanelTemplate||n;i.getTemplate(o).then(function(i){var n=angular.element(i),o=e(n)(t);r.append(o)})},post:function(e,t){t.bind("$destroy",function(){})}}}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeaderCell",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","ScrollEvent","i18nService",function(e,t,i,n,r,o,a,l){var s=500,d=500,c={priority:0,scope:{col:"=",row:"=",renderIndex:"="},require:["^uiGrid","^uiGridRenderContainer"],replace:!0,compile:function(){return{pre:function(t,i){var n=e(t.col.headerCellTemplate)(t);i.append(n)},post:function(e,i,r,a){var c=a[0],u=a[1];e.i18n={headerCell:l.getSafeText("headerCell"),sort:l.getSafeText("sort")},e.isSortPriorityVisible=function(){return angular.isNumber(e.col.sort.priority)&&e.grid.columns.some(function(t){return angular.isNumber(t.sort.priority)&&t!==e.col})},e.getSortDirectionAriaLabel=function(){var t=e.col,i=t.sort.direction===o.ASC?e.i18n.sort.ascending:t.sort.direction===o.DESC?e.i18n.sort.descending:e.i18n.sort.none,n=i;return e.isSortPriorityVisible()&&(n=n+". "+e.i18n.headerCell.priority+" "+t.sort.priority),n},e.grid=c.grid,e.renderContainer=c.grid.renderContainers[u.containerId];var g=e.col.getColClass(!1);i.addClass(g),e.menuShown=!1,e.asc=o.ASC,e.desc=o.DESC;var p,f,h=(angular.element(i[0].querySelectorAll(".ui-grid-header-cell-menu")),angular.element(i[0].querySelectorAll(".ui-grid-cell-contents"))),m=[];e.downFn=function(r){r.stopPropagation(),"undefined"!=typeof r.originalEvent&&void 0!==r.originalEvent&&(r=r.originalEvent),r.button&&0!==r.button||(f=r.pageX,e.mousedownStartTime=(new Date).getTime(),e.mousedownTimeout=t(function(){},s),e.mousedownTimeout.then(function(){e.colMenu&&c.columnMenuScope.showMenu(e.col,i,r)}),c.fireEvent(o.events.COLUMN_HEADER_CLICK,{event:r,columnName:e.col.colDef.name}),e.offAllEvents(),"touchstart"===r.type?(n.on("touchend",e.upFn),n.on("touchmove",e.moveFn)):"mousedown"===r.type&&(n.on("mouseup",e.upFn),n.on("mousemove",e.moveFn)))},e.upFn=function(i){i.stopPropagation(),t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type);var n=(new Date).getTime(),r=n-e.mousedownStartTime;r>s||e.sortable&&e.handleClick(i)},e.moveFn=function(i){var n=i.pageX-f;0!==n&&(t.cancel(e.mousedownTimeout),e.offAllEvents(),e.onDownEvents(i.type))},e.clickFn=function(t){t.stopPropagation(),h.off("click",e.clickFn)},e.offAllEvents=function(){h.off("touchstart",e.downFn),h.off("mousedown",e.downFn),n.off("touchend",e.upFn),n.off("mouseup",e.upFn),n.off("touchmove",e.moveFn),n.off("mousemove",e.moveFn),h.off("click",e.clickFn)},e.onDownEvents=function(i){switch(i){case"touchmove":case"touchend":h.on("click",e.clickFn),h.on("touchstart",e.downFn),t(function(){h.on("mousedown",e.downFn)},d);break;case"mousemove":case"mouseup":h.on("click",e.clickFn),h.on("mousedown",e.downFn),t(function(){h.on("touchstart",e.downFn)},d);break;default:h.on("click",e.clickFn),h.on("touchstart",e.downFn),h.on("mousedown",e.downFn)}};var v=function(){var n=i;p&&(n.removeClass(p),p=null),p=angular.isFunction(e.col.headerCellClass)?e.col.headerCellClass(e.grid,e.row,e.col,e.rowRenderIndex,e.colRenderIndex):e.col.headerCellClass,n.addClass(p),t(function(){var t=e.grid.renderContainers.right?e.grid.renderContainers.right:e.grid.renderContainers.body;e.isLastCol=e.col===t.visibleColumnCache[t.visibleColumnCache.length-1]}),e.sortable=c.grid.options.enableSorting&&e.col.enableSorting?!0:!1;var r=e.filterable;e.filterable=c.grid.options.enableFiltering&&e.col.enableFiltering?!0:!1,r!==e.filterable&&("undefined"!=typeof e.col.updateFilters&&e.col.updateFilters(e.filterable),e.filterable?(e.col.filters.forEach(function(t,i){m.push(e.$watch("col.filters["+i+"].term",function(e,t){e!==t&&(c.grid.api.core.raise.filterChanged(),c.grid.api.core.notifyDataChange(o.dataChange.COLUMN),c.grid.queueGridRefresh())}))}),e.$on("$destroy",function(){m.forEach(function(e){e()})})):m.forEach(function(e){e()})),e.colMenu=e.col.grid.options&&e.col.grid.options.enableColumnMenus!==!1&&e.col.colDef&&e.col.colDef.enableColumnMenu!==!1?!0:!1,e.offAllEvents(),(e.sortable||e.colMenu)&&(e.onDownEvents(),e.$on("$destroy",function(){e.offAllEvents()}))};v();var w=e.grid.registerDataChangeCallback(v,[o.dataChange.COLUMN]);e.$on("$destroy",w),e.handleClick=function(t){var i=!1;t.shiftKey&&(i=!0),c.grid.sortColumn(e.col,i).then(function(){c.columnMenuScope&&c.columnMenuScope.hideMenu(),c.grid.refresh()})},e.toggleMenu=function(t){t.stopPropagation(),c.columnMenuScope.menuShown?c.columnMenuScope.col===e.col?c.columnMenuScope.hideMenu():c.columnMenuScope.showMenu(e.col,i):c.columnMenuScope.showMenu(e.col,i)}}}}};return c}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridHeader",["$templateCache","$compile","uiGridConstants","gridUtil","$timeout","ScrollEvent",function(e,t,i,n,r,o){var a="ui-grid/ui-grid-header",l="ui-grid/ui-grid-no-header";return{restrict:"EA",replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(e,i,r,s){function d(){g.header=g.colContainer.header=i;var e=i[0].getElementsByClassName("ui-grid-header-canvas");g.headerCanvas=e.length>0?g.colContainer.headerCanvas=e[0]:null}function c(){if(!u.grid.isScrollingHorizontally){var e=n.normalizeScrollLeft(g.headerViewport,u.grid),t=g.colContainer.scrollHorizontal(e),i=new o(u.grid,null,g.colContainer,o.Sources.ViewPortScroll);i.newScrollLeft=e,t>-1&&(i.x={percentage:t}),u.grid.scrollContainers(null,i)}}var u=s[0],g=s[1];e.grid=u.grid,e.colContainer=g.colContainer,d();var p;p=e.grid.options.showHeader?e.grid.options.headerTemplate?e.grid.options.headerTemplate:a:l,n.getTemplate(p).then(function(n){var r=angular.element(n),o=t(r)(e);if(i.replaceWith(o),i=o,d(),g){var a=i[0].getElementsByClassName("ui-grid-header-viewport")[0];a&&(g.headerViewport=a,angular.element(a).on("scroll",c),e.$on("$destroy",function(){angular.element(a).off("scroll",c)}))}e.grid.queueRefresh()})},post:function(e,t,i,r){function o(){var e=l.colContainer.visibleColumnCache,t="",i=0;return e.forEach(function(e){t+=e.getColClassDefinition(),i+=e.drawnWidth}),l.colContainer.canvasWidth=i,t}{var a=r[0],l=r[1];a.grid}n.disableAnimations(t),l.header=t;var s=t[0].getElementsByClassName("ui-grid-header-viewport")[0];s&&(l.headerViewport=s),a&&a.grid.registerStyleComputation({priority:15,func:o})}}}}}])}(),function(){angular.module("ui.grid").service("uiGridGridMenuService",["gridUtil","i18nService","uiGridConstants",function(e,t,i){var n={initialize:function(e,t){t.gridMenuScope=e,e.grid=t,e.registeredMenuItems=[],e.$on("$destroy",function(){e.grid&&e.grid.gridMenuScope&&(e.grid.gridMenuScope=null),e.grid&&(e.grid=null),e.registeredMenuItems&&(e.registeredMenuItems=null)}),e.registeredMenuItems=[],t.api.registerMethod("core","addToGridMenu",n.addToGridMenu),t.api.registerMethod("core","removeFromGridMenu",n.removeFromGridMenu)},addToGridMenu:function(t,i){angular.isArray(i)?t.gridMenuScope?(t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems?t.gridMenuScope.registeredMenuItems:[],t.gridMenuScope.registeredMenuItems=t.gridMenuScope.registeredMenuItems.concat(i)):e.logError("Asked to addToGridMenu, but gridMenuScope not present.  Timing issue?  Please log issue with ui-grid"):e.logError("addToGridMenu: menuItems must be an array, and is not, not adding any items")},removeFromGridMenu:function(t,i){var n=-1;t&&t.gridMenuScope&&t.gridMenuScope.registeredMenuItems.forEach(function(t,r){t.id===i&&(n>-1?e.logError("removeFromGridMenu: found multiple items with the same id, removing only the last"):n=r)}),n>-1&&t.gridMenuScope.registeredMenuItems.splice(n,1)},getMenuItems:function(i){var r=[];i.grid.options.gridMenuCustomItems&&(angular.isArray(i.grid.options.gridMenuCustomItems)?r=r.concat(i.grid.options.gridMenuCustomItems):e.logError("gridOptions.gridMenuCustomItems must be an array, and is not"));var o=[{title:t.getSafeText("gridMenu.clearAllFilters"),action:function(){i.grid.clearAllFilters(void 0,!0,void 0)},shown:function(){return i.grid.options.enableFiltering},order:100}];return r=r.concat(o),r=r.concat(i.registeredMenuItems),i.grid.options.gridMenuShowHideColumns!==!1&&(r=r.concat(n.showHideColumns(i))),r.sort(function(e,t){return e.order-t.order}),r},showHideColumns:function(e){var i=[];return e.grid.options.columnDefs&&0!==e.grid.options.columnDefs.length&&0!==e.grid.columns.length?(i.push({title:t.getSafeText("gridMenu.columns"),order:300}),e.grid.options.gridMenuTitleFilter=e.grid.options.gridMenuTitleFilter?e.grid.options.gridMenuTitleFilter:function(e){return e},e.grid.options.columnDefs.forEach(function(t,r){if(t.enableHiding!==!1){var o={icon:"ui-grid-icon-ok",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r};n.setMenuItemTitle(o,t,e.grid),i.push(o),o={icon:"ui-grid-icon-cancel",action:function(e){e.stopPropagation(),n.toggleColumnVisibility(this.context.gridCol)},shown:function(){return!(this.context.gridCol.colDef.visible===!0||void 0===this.context.gridCol.colDef.visible)},context:{gridCol:e.grid.getColumn(t.name||t.field)},leaveOpen:!0,order:301+2*r+1},n.setMenuItemTitle(o,t,e.grid),i.push(o)}}),i):i},setMenuItemTitle:function(t,i,n){var r=n.options.gridMenuTitleFilter(i.displayName||e.readableColumnName(i.name)||i.field);"string"==typeof r?t.title=r:r.then?(t.title="",r.then(function(e){t.title=e},function(e){t.title=e})):(e.logError("Expected gridMenuTitleFilter to return a string or a promise, it has returned neither, bad config"),t.title="badconfig")},toggleColumnVisibility:function(e){e.colDef.visible=!(e.colDef.visible===!0||void 0===e.colDef.visible),e.grid.refresh(),e.grid.api.core.notifyDataChange(i.dataChange.COLUMN),e.grid.api.core.raise.columnVisibilityChanged(e)}};return n}]).directive("uiGridMenuButton",["gridUtil","uiGridConstants","uiGridGridMenuService","i18nService",function(e,t,i,n){return{priority:0,scope:!0,require:["^uiGrid"],templateUrl:"ui-grid/ui-grid-menu-button",replace:!0,link:function(t,r,o,a){var l=a[0];t.i18n={aria:n.getSafeText("gridMenu.aria")},i.initialize(t,l.grid),t.shown=!1,t.toggleMenu=function(){t.shown?(t.$broadcast("hide-menu"),t.shown=!1):(t.menuItems=i.getMenuItems(t),t.$broadcast("show-menu"),t.shown=!0)},t.$on("menu-hidden",function(){t.shown=!1,e.focus.bySelector(r,".ui-grid-icon-container")})}}}])}(),function(){angular.module("ui.grid").directive("uiGridMenu",["$compile","$timeout","$window","$document","gridUtil","uiGridConstants","i18nService",function(e,t,i,n,r,o,a){var l={priority:0,scope:{menuItems:"=",autoHide:"=?"},require:"?^uiGrid",templateUrl:"ui-grid/uiGridMenu",replace:!1,link:function(e,n,l,s){e.dynamicStyles="";var d=function(t){var i=t-30;e.dynamicStyles=[".grid"+s.grid.id+" .ui-grid-menu-mid {","max-height: "+i+"px;","}"].join(" ")};s&&(d(s.grid.gridHeight),s.grid.api.core.on.gridDimensionChanged(e,function(e,t,i){d(i)})),e.i18n={close:a.getSafeText("columnMenu.close")},e.showMenu=function(i,o){e.shown?e.shownMid||(e.shownMid=!0,e.$emit("menu-shown")):(e.shown=!0,t(function(){e.shownMid=!0,e.$emit("menu-shown")}));var a="click";o&&o.originalEvent&&o.originalEvent.type&&"touchstart"===o.originalEvent.type&&(a=o.originalEvent.type),angular.element(document).off("click touchstart",c),n.off("keyup",u),n.off("keydown",g),t(function(){angular.element(document).on(a,c),n.on("keyup",u),n.on("keydown",g)}),r.focus.bySelector(n,"button[type=button]",!0)},e.hideMenu=function(){e.shown&&(e.shownMid=!1,t(function(){e.shownMid||(e.shown=!1,e.$emit("menu-hidden"))},200)),angular.element(document).off("click touchstart",c),n.off("keyup",u),n.off("keydown",g)},e.$on("hide-menu",function(t,i){e.hideMenu(t,i)}),e.$on("show-menu",function(t,i){e.showMenu(t,i)});var c=function(){e.shown&&e.$apply(function(){e.hideMenu()})},u=function(t){27===t.keyCode&&e.hideMenu()},g=function(e){var t=function(t){return t.focus(),e.preventDefault(),!1};if(9===e.keyCode){var i,r,o=n[0].querySelectorAll("button:not(.ng-hide)");o.length>0&&(i=o[0],r=o[o.length-1],e.target!==r||e.shiftKey?e.target===i&&e.shiftKey&&t(r):t(i))}};("undefined"==typeof e.autoHide||void 0===e.autoHide)&&(e.autoHide=!0),e.autoHide&&angular.element(i).on("resize",c),e.$on("$destroy",function(){angular.element(document).off("click touchstart",c)}),e.$on("$destroy",function(){angular.element(i).off("resize",c)}),s&&e.$on("$destroy",s.grid.api.core.on.scrollBegin(e,c)),e.$on("$destroy",e.$on(o.events.ITEM_DRAGGING,c))}};return l}]).directive("uiGridMenuItem",["gridUtil","$compile","i18nService",function(e,t,i){var n={priority:0,scope:{name:"=",active:"=",action:"=",icon:"=",shown:"=",context:"=",templateUrl:"=",leaveOpen:"=",screenReaderOnly:"="},require:["?^uiGrid"],templateUrl:"ui-grid/uiGridMenuItem",replace:!1,compile:function(){return{pre:function(i,n){i.templateUrl&&e.getTemplate(i.templateUrl).then(function(e){var r=angular.element(e),o=t(r)(i);n.replaceWith(o)})},post:function(t,n,r,o){var a=o[0];("undefined"==typeof t.shown||null===t.shown)&&(t.shown=function(){return!0}),t.itemShown=function(){var e={};return t.context&&(e.context=t.context),"undefined"!=typeof a&&a&&(e.grid=a.grid),t.shown.call(e)},t.itemAction=function(i,r){if(i.stopPropagation(),"function"==typeof t.action){var o={};t.context&&(o.context=t.context),"undefined"!=typeof a&&a&&(o.grid=a.grid),t.action.call(o,i,r),t.leaveOpen?e.focus.bySelector(angular.element(e.closestElm(n,".ui-grid-menu-items")),"button[type=button]",!0):t.$emit("hide-menu")}},t.i18n=i.get()}}}};return n}])}(),function(){"use strict";var e=angular.module("ui.grid");angular.forEach([{tag:"Src",method:"attr"},{tag:"Text",method:"text"},{tag:"Href",method:"attr"},{tag:"Class",method:"addClass"},{tag:"Html",method:"html"},{tag:"Alt",method:"attr"},{tag:"Style",method:"css"},{tag:"Value",method:"attr"},{tag:"Id",method:"attr"},{tag:"Id",directiveName:"IdGrid",method:"attr",appendGridId:!0},{tag:"Title",method:"attr"},{tag:"Label",method:"attr",aria:!0},{tag:"Labelledby",method:"attr",aria:!0},{tag:"Labelledby",directiveName:"LabelledbyGrid",appendGridId:!0,method:"attr",aria:!0},{tag:"Describedby",method:"attr",aria:!0},{tag:"Describedby",directiveName:"DescribedbyGrid",appendGridId:!0,method:"attr",aria:!0}],function(t){var i="uiGridOneBind",n=(t.aria?i+"Aria":i)+(t.directiveName?t.directiveName:t.tag);e.directive(n,["gridUtil",function(e){return{restrict:"A",require:["?uiGrid","?^uiGrid"],link:function(i,r,o,a){var l=function(t){var r;if(i.grid)r=i.grid;else if(i.col&&i.col.grid)r=i.col.grid;else if(!a.some(function(e){return e&&e.grid?(r=e.grid,!0):void 0}))throw e.logError("["+n+"] A valid grid could not be found to bind id. Are you using this directive within the correct scope? Trying to generate id: [gridID]-"+t),new Error("No valid grid could be found");if(r){var o=new RegExp(r.id.toString());o.test(t)||(t=r.id.toString()+"-"+t)}return t},s=i.$watch(o[n],function(e){if(e){if(t.appendGridId){var i=null;angular.forEach(e.split(" "),function(e){i=(i?i+" ":"")+l(e)}),e=i}switch(t.method){case"attr":t.aria?r[t.method]("aria-"+t.tag.toLowerCase(),e):r[t.method](t.tag.toLowerCase(),e);break;case"addClass":if(angular.isObject(e)&&!angular.isArray(e)){var n=[],o=!1;if(angular.forEach(e,function(e,t){null!==e&&"undefined"!=typeof e&&(o=!0,e&&n.push(t))}),!o)return;e=n}if(!e)return;r.addClass(angular.isArray(e)?e.join(" "):e);break;default:r[t.method](e)}s()}},!0)}}}])})}(),function(){"use strict";var e=angular.module("ui.grid");e.directive("uiGridRenderContainer",["$timeout","$document","uiGridConstants","gridUtil","ScrollEvent",function(e,t,i,n,r){return{replace:!0,transclude:!0,templateUrl:"ui-grid/uiGridRenderContainer",require:["^uiGrid","uiGridRenderContainer"],scope:{containerId:"=",rowContainerName:"=",colContainerName:"=",bindScrollHorizontal:"=",bindScrollVertical:"=",enableVerticalScrollbar:"=",enableHorizontalScrollbar:"="},controller:"uiGridRenderContainer as RenderContainer",compile:function(){return{pre:function(e,t,i,n){var r=n[0],o=n[1],a=e.grid=r.grid;if(!e.rowContainerName)throw"No row render container name specified";if(!e.colContainerName)throw"No column render container name specified";if(!a.renderContainers[e.rowContainerName])throw"Row render container '"+e.rowContainerName+"' is not registered.";if(!a.renderContainers[e.colContainerName])throw"Column render container '"+e.colContainerName+"' is not registered.";var l=e.rowContainer=a.renderContainers[e.rowContainerName],s=e.colContainer=a.renderContainers[e.colContainerName];o.containerId=e.containerId,o.rowContainer=l,o.colContainer=s},post:function(e,t,i,o){function a(){var t="",i=u.canvasWidth,n=u.getViewportWidth(),r=c.getCanvasHeight(),o=c.getViewportHeight();u.needsHScrollbarPlaceholder()&&(o-=d.scrollbarHeight);var a,s;return a=s=u.getHeaderViewportWidth(),t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-canvas { width: "+i+"px; height: "+r+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { width: "+(i+d.scrollbarWidth)+"px; }",t+=f.explicitHeaderCanvasHeight?"\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: "+f.explicitHeaderCanvasHeight+"px; }":"\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-canvas { height: inherit; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-viewport { width: "+n+"px; height: "+o+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-header-viewport { width: "+a+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-canvas { width: "+(i+d.scrollbarWidth)+"px; }",t+="\n .grid"+l.grid.id+" .ui-grid-render-container-"+e.containerId+" .ui-grid-footer-viewport { width: "+s+"px; }"}var l=o[0],s=o[1],d=l.grid,c=s.rowContainer,u=s.colContainer,g=null,p=null,f=d.renderContainers[e.containerId];t.addClass("ui-grid-render-container-"+e.containerId),n.on.mousewheel(t,function(e){var t=new r(d,c,u,r.Sources.RenderContainerMouseWheel);if(0!==e.deltaY){var i=-1*e.deltaY*e.deltaFactor;g=s.viewport[0].scrollTop,t.verticalScrollLength=c.getVerticalScrollLength();var o=(g+i)/t.verticalScrollLength;o>=1&&g<t.verticalScrollLength&&(s.viewport[0].scrollTop=t.verticalScrollLength),0>o?o=0:o>1&&(o=1),t.y={percentage:o,pixels:i}}if(0!==e.deltaX){var a=e.deltaX*e.deltaFactor;p=n.normalizeScrollLeft(s.viewport,d),t.horizontalScrollLength=u.getCanvasWidth()-u.getViewportWidth();var l=(p+a)/t.horizontalScrollLength;0>l?l=0:l>1&&(l=1),t.x={percentage:l,pixels:a}}0!==e.deltaY&&(t.atTop(g)||t.atBottom(g))||0!==e.deltaX&&(t.atLeft(p)||t.atRight(p))||(e.preventDefault(),e.stopPropagation(),t.fireThrottledScrollingEvent("",t))}),t.bind("$destroy",function(){t.unbind("keydown"),["touchstart","touchmove","touchend","keydown","wheel","mousewheel","DomMouseScroll","MozMousePixelScroll"].forEach(function(e){t.unbind(e)})}),l.grid.registerStyleComputation({priority:6,func:a})}}}}}]),e.controller("uiGridRenderContainer",["$scope","gridUtil",function(){}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridRow",["gridUtil",function(){return{replace:!0,require:["^uiGrid","^uiGridRenderContainer"],scope:{row:"=uiGridRow",rowRenderIndex:"="},compile:function(){return{pre:function(e,t,i,n){function r(){e.row.getRowTemplateFn.then(function(i){var n=e.$new();i(n,function(e){l&&(l.remove(),s.$destroy()),t.empty().append(e),l=e,s=n})})}{var o=n[0],a=n[1];o.grid}e.grid=o.grid,e.colContainer=a.colContainer;var l,s;r(),e.$watch("row.getRowTemplateFn",function(e,t){e!==t&&r()})},post:function(){}}}}}])}(),function(){angular.module("ui.grid").directive("uiGridStyle",["gridUtil","$interpolate",function(e,t){return{link:function(e,i){var n=t(i.text(),!0);n&&e.$watch(n,function(e){i.text(e)})}}}])}(),function(){"use strict";angular.module("ui.grid").directive("uiGridViewport",["gridUtil","ScrollEvent","uiGridConstants","$log",function(e,t){return{replace:!0,scope:{},controllerAs:"Viewport",templateUrl:"ui-grid/uiGridViewport",require:["^uiGrid","^uiGridRenderContainer"],link:function(i,n,r,o){function a(){var r=n[0].scrollTop,o=e.normalizeScrollLeft(n,h),a=p.scrollVertical(r),l=f.scrollHorizontal(o),s=new t(h,p,f,t.Sources.ViewPortScroll);s.newScrollLeft=o,s.newScrollTop=r,l>-1&&(s.x={percentage:l}),a>-1&&(s.y={percentage:a}),h.scrollContainers(i.$parent.containerId,s)}function l(e){g.prevScrollArgs=e;var t=e.getNewScrollTop(p,g.viewport);n[0].scrollTop=t}function s(t){g.prevScrollArgs=t;var i=t.getNewScrollLeft(f,g.viewport);n[0].scrollLeft=e.denormalizeScrollLeft(g.viewport,i,h)}function d(t){var i=t.getNewScrollLeft(f,g.viewport);g.headerViewport&&(g.headerViewport.scrollLeft=e.denormalizeScrollLeft(g.viewport,i,h))}function c(t){var i=t.getNewScrollLeft(f,g.viewport);g.footerViewport&&(g.footerViewport.scrollLeft=e.denormalizeScrollLeft(g.viewport,i,h))}var u=o[0],g=o[1];i.containerCtrl=g;var p=g.rowContainer,f=g.colContainer,h=u.grid;i.grid=u.grid,i.rowContainer=g.rowContainer,i.colContainer=g.colContainer,g.viewport=n,n.on("scroll",a);i.$parent.bindScrollVertical&&h.addVerticalScrollSync(i.$parent.containerId,l),i.$parent.bindScrollHorizontal&&(h.addHorizontalScrollSync(i.$parent.containerId,s),h.addHorizontalScrollSync(i.$parent.containerId+"header",d),h.addHorizontalScrollSync(i.$parent.containerId+"footer",c))},controller:["$scope",function(e){this.rowStyle=function(t){var i=e.rowContainer,n=e.colContainer,r={};if(0===t&&0!==i.currentTopRow){var o=i.currentTopRow*i.grid.options.rowHeight;r["margin-top"]=o+"px"}return 0!==n.currentFirstColumn&&(n.grid.isRTL()?r["margin-right"]=n.columnOffset+"px":r["margin-left"]=n.columnOffset+"px"),r}}]}}])}(),function(){angular.module("ui.grid").directive("uiGridVisible",function(){return function(e,t,i){e.$watch(i.uiGridVisible,function(e){t[e?"removeClass":"addClass"]("ui-grid-invisible")})}})}(),function(){"use strict";function e(e,t,i,n,r,o){return{templateUrl:"ui-grid/ui-grid",scope:{uiGrid:"="},replace:!0,transclude:!0,controller:"uiGridController",compile:function(){return{post:function(e,t,a,l){function s(){t[0].offsetWidth<=0&&h>m?(setTimeout(s,f),m++):i(c)}function d(){angular.element(n).on("resize",g),t.on("$destroy",function(){angular.element(n).off("resize",g)}),e.$watch(function(){return p.hasLeftContainer()},function(e,t){e!==t&&p.refreshCanvas(!0)}),e.$watch(function(){return p.hasRightContainer()},function(e,t){e!==t&&p.refreshCanvas(!0)})}function c(){p.gridWidth=e.gridWidth=r.elementWidth(t),p.canvasWidth=l.grid.gridWidth,p.gridHeight=e.gridHeight=r.elementHeight(t),p.gridHeight<=p.options.rowHeight&&p.options.enableMinHeightCheck&&u(),p.refreshCanvas(!0)}function u(){var i=p.options.minRowsToShow*p.options.rowHeight,n=p.options.showHeader?p.options.headerRowHeight:0,a=p.calcFooterHeight(),l=0;p.options.enableHorizontalScrollbar===o.scrollbars.ALWAYS&&(l=r.getScrollbarWidth());var s=0;if(angular.forEach(p.options.columnDefs,function(e){e.hasOwnProperty("filter")?1>s&&(s=1):e.hasOwnProperty("filters")&&s<e.filters.length&&(s=e.filters.length)}),p.options.enableFiltering&&!s){var d=p.options.columnDefs.length&&p.options.columnDefs.every(function(e){return e.enableFiltering===!1});d||(s=1)}var c=s*n,u=n+i+a+l+c;t.css("height",u+"px"),p.gridHeight=e.gridHeight=r.elementHeight(t)}function g(){p.gridWidth=e.gridWidth=r.elementWidth(t),p.gridHeight=e.gridHeight=r.elementHeight(t),p.refreshCanvas(!0)}var p=l.grid;l.scrollbars=[],p.element=t;var f=100,h=20,m=0;d(),c(),p.renderingComplete(),s()}}}}}angular.module("ui.grid").controller("uiGridController",["$scope","$element","$attrs","gridUtil","$q","uiGridConstants","$templateCache","gridClassFactory","$timeout","$parse","$compile",function(e,t,i,n,r,o,a,l,s,d,c){function u(t,i){t&&t!==i&&(p.grid.options.columnDefs=e.uiGrid.columnDefs,p.grid.buildColumns({orderByColumnDefs:!0}).then(function(){p.grid.preCompileCellTemplates(),p.grid.callDataChangeCallbacks(o.dataChange.COLUMN)}))}function g(t){var n=[];if(p.grid.options.fastWatch&&(t=angular.isString(e.uiGrid.data)?p.grid.appScope[e.uiGrid.data]:e.uiGrid.data),h=t,t){var a=p.grid.columns.length>(p.grid.rowHeaderColumns?p.grid.rowHeaderColumns.length:0);!a&&!i.uiGridColumns&&0===p.grid.options.columnDefs.length&&t.length>0&&p.grid.buildColumnDefsFromData(t),!a&&(p.grid.options.columnDefs.length>0||t.length>0)&&n.push(p.grid.buildColumns().then(function(){p.grid.preCompileCellTemplates()})),r.all(n).then(function(){p.grid.modifyRows(h).then(function(){p.grid.redrawInPlace(!0),e.$evalAsync(function(){p.grid.refreshCanvas(!0),p.grid.callDataChangeCallbacks(o.dataChange.ROW)})})})}}var p=this;p.grid=l.createGrid(e.uiGrid),p.grid.appScope=p.grid.appScope||e.$parent,t.addClass("grid"+p.grid.id),p.grid.rtl="rtl"===n.getStyles(t[0]).direction,e.grid=p.grid,i.uiGridColumns&&i.$observe("uiGridColumns",function(e){p.grid.options.columnDefs=e,p.grid.buildColumns().then(function(){p.grid.preCompileCellTemplates(),p.grid.refreshCanvas(!0)})});var f=[];p.grid.options.fastWatch?(p.uiGrid=e.uiGrid,angular.isString(e.uiGrid.data)?(f.push(e.$parent.$watch(e.uiGrid.data,g)),f.push(e.$parent.$watch(function(){return p.grid.appScope[e.uiGrid.data]?p.grid.appScope[e.uiGrid.data].length:void 0},g))):(f.push(e.$parent.$watch(function(){return e.uiGrid.data},g)),f.push(e.$parent.$watch(function(){return e.uiGrid.data.length},function(){g(e.uiGrid.data)}))),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs},u)),f.push(e.$parent.$watch(function(){return e.uiGrid.columnDefs.length},function(){u(e.uiGrid.columnDefs)}))):(angular.isString(e.uiGrid.data)?f.push(e.$parent.$watchCollection(e.uiGrid.data,g)):f.push(e.$parent.$watchCollection(function(){return e.uiGrid.data},g)),f.push(e.$parent.$watchCollection(function(){return e.uiGrid.columnDefs},u)));var h,m=e.$watch(function(){return p.grid.styleComputations},function(){p.grid.refreshCanvas(!0)});e.$on("$destroy",function(){f.forEach(function(e){e()}),m()}),p.fireEvent=function(t,i){("undefined"==typeof i||void 0===i)&&(i={}),("undefined"==typeof i.grid||void 0===i.grid)&&(i.grid=p.grid),e.$broadcast(t,i)},p.innerCompile=function(t){c(t)(e)}}]),angular.module("ui.grid").directive("uiGrid",e),e.$inject=["$compile","$templateCache","$timeout","$window","gridUtil","uiGridConstants"]}(),function(){"use strict";angular.module("ui.grid").directive("uiGridPinnedContainer",["gridUtil",function(){return{restrict:"EA",replace:!0,template:'<div class="ui-grid-pinned-container"><div ui-grid-render-container container-id="side" row-container-name="\'body\'" col-container-name="side" bind-scroll-vertical="true" class="{{ side }} ui-grid-render-container-{{ side }}"></div></div>',scope:{side:"=uiGridPinnedContainer"},require:"^uiGrid",compile:function(){return{post:function(e,t,i,n){function r(){var e=this,t=0;e.visibleColumnCache.forEach(function(e){t+=e.drawnWidth});var i=e.getViewportAdjustment();return t+=i.width}function o(){if("left"===e.side||"right"===e.side){for(var t=l.renderContainers[e.side].visibleColumnCache,i=0,n=0;n<t.length;n++){var r=t[n];i+=r.drawnWidth||r.width||0}return i}}function a(){var i="";return("left"===e.side||"right"===e.side)&&(s=o(),t.attr("style",null),i+=".grid"+l.id+" .ui-grid-pinned-container-"+e.side+", .grid"+l.id+" .ui-grid-pinned-container-"+e.side+" .ui-grid-render-container-"+e.side+" .ui-grid-viewport { width: "+s+"px; } "),i}var l=n.grid,s=0;t.addClass("ui-grid-pinned-container-"+e.side),("left"===e.side||"right"===e.side)&&(l.renderContainers[e.side].getViewportWidth=r),l.renderContainers.body.registerViewportAdjuster(function(t){return s=o(),t.width-=s,t.side=e.side,t}),l.registerStyleComputation({priority:15,func:a})}}}}}])}(),function(){angular.module("ui.grid").factory("Grid",["$q","$compile","$parse","gridUtil","uiGridConstants","GridOptions","GridColumn","GridRow","GridApi","rowSorter","rowSearcher","GridRenderContainer","$timeout","ScrollEvent",function(e,t,i,n,r,o,a,l,s,d,c,u,g,p){function f(){}var h=function(e){function t(e){a.isScrollingVertically=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}function i(e){a.isScrollingHorizontally=!1,a.api.core.raise.scrollEnd(e),a.scrollDirection=r.scrollDirection.NONE}var a=this;if(void 0===e||"undefined"==typeof e.id||!e.id)throw new Error("No ID provided. An ID must be given when creating a grid.");if(!/^[_a-zA-Z0-9-]+$/.test(e.id))throw new Error("Grid id '"+e.id+'" is invalid. It must follow CSS selector syntax rules.');a.id=e.id,delete e.id,a.options=o.initialize(e),a.appScope=a.options.appScopeProvider,a.headerHeight=a.options.headerRowHeight,a.footerHeight=a.calcFooterHeight(),a.columnFooterHeight=a.calcColumnFooterHeight(),a.rtl=!1,a.gridHeight=0,a.gridWidth=0,a.columnBuilders=[],a.rowBuilders=[],a.rowsProcessors=[],a.columnsProcessors=[],a.styleComputations=[],a.viewportAdjusters=[],a.rowHeaderColumns=[],a.dataChangeCallbacks={},a.verticalScrollSyncCallBackFns={},a.horizontalScrollSyncCallBackFns={},a.renderContainers={},a.renderContainers.body=new u("body",a),a.cellValueGetterCache={},a.getRowTemplateFn=null,a.rows=[],a.columns=[],a.isScrollingVertically=!1,a.isScrollingHorizontally=!1,a.scrollDirection=r.scrollDirection.NONE,a.disableScrolling=!1;var l=n.debounce(t,a.options.scrollDebounce),c=n.debounce(t,0),g=n.debounce(i,a.options.scrollDebounce),p=n.debounce(i,0);a.flagScrollingVertically=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingVertically=!0,0!==a.options.scrollDebounce&&e.withDelay?l(e):c(e)},a.flagScrollingHorizontally=function(e){a.isScrollingVertically||a.isScrollingHorizontally||a.api.core.raise.scrollBegin(e),a.isScrollingHorizontally=!0,0!==a.options.scrollDebounce&&e.withDelay?g(e):p(e)},a.scrollbarHeight=0,a.scrollbarWidth=0,a.options.enableHorizontalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarHeight=n.getScrollbarWidth()),a.options.enableVerticalScrollbar===r.scrollbars.ALWAYS&&(a.scrollbarWidth=n.getScrollbarWidth()),a.api=new s(a),a.api.registerMethod("core","refresh",this.refresh),a.api.registerMethod("core","queueGridRefresh",this.queueGridRefresh),a.api.registerMethod("core","refreshRows",this.refreshRows),a.api.registerMethod("core","queueRefresh",this.queueRefresh),a.api.registerMethod("core","handleWindowResize",this.handleWindowResize),a.api.registerMethod("core","addRowHeaderColumn",this.addRowHeaderColumn),a.api.registerMethod("core","scrollToIfNecessary",function(e,t){return a.scrollToIfNecessary(e,t)
}),a.api.registerMethod("core","scrollTo",function(e,t){return a.scrollTo(e,t)}),a.api.registerMethod("core","registerRowsProcessor",this.registerRowsProcessor),a.api.registerMethod("core","registerColumnsProcessor",this.registerColumnsProcessor),a.api.registerMethod("core","sortHandleNulls",d.handleNulls),a.api.registerEvent("core","sortChanged"),a.api.registerEvent("core","columnVisibilityChanged"),a.api.registerMethod("core","notifyDataChange",this.notifyDataChange),a.api.registerMethod("core","clearAllFilters",this.clearAllFilters),a.registerDataChangeCallback(a.columnRefreshCallback,[r.dataChange.COLUMN]),a.registerDataChangeCallback(a.processRowsCallback,[r.dataChange.EDIT]),a.registerDataChangeCallback(a.updateFooterHeightCallback,[r.dataChange.OPTIONS]),a.registerStyleComputation({priority:10,func:a.getFooterStyles})};return h.prototype.calcFooterHeight=function(){if(!this.hasFooter())return 0;var e=0;return this.options.showGridFooter&&(e+=this.options.gridFooterHeight),e+=this.calcColumnFooterHeight()},h.prototype.calcColumnFooterHeight=function(){var e=0;return this.options.showColumnFooter&&(e+=this.options.columnFooterHeight),e},h.prototype.getFooterStyles=function(){var e=".grid"+this.id+" .ui-grid-footer-aggregates-row { height: "+this.options.columnFooterHeight+"px; }";return e+=" .grid"+this.id+" .ui-grid-footer-info { height: "+this.options.gridFooterHeight+"px; }"},h.prototype.hasFooter=function(){return this.options.showGridFooter||this.options.showColumnFooter},h.prototype.isRTL=function(){return this.rtl},h.prototype.registerColumnBuilder=function(e){this.columnBuilders.push(e)},h.prototype.buildColumnDefsFromData=function(e){this.options.columnDefs=n.getColumnsFromData(e,this.options.excludeProperties)},h.prototype.registerRowBuilder=function(e){this.rowBuilders.push(e)},h.prototype.registerDataChangeCallback=function(e,t,i){var o=n.nextUid();t||(t=[r.dataChange.ALL]),Array.isArray(t)||n.logError("Expected types to be an array or null in registerDataChangeCallback, value passed was: "+t),this.dataChangeCallbacks[o]={callback:e,types:t,_this:i};var a=this,l=function(){delete a.dataChangeCallbacks[o]};return l},h.prototype.callDataChangeCallbacks=function(e){angular.forEach(this.dataChangeCallbacks,function(t){(-1!==t.types.indexOf(r.dataChange.ALL)||-1!==t.types.indexOf(e)||e===r.dataChange.ALL)&&(t._this?t.callback.apply(t._this,this):t.callback(this))},this)},h.prototype.notifyDataChange=function(e){var t=r.dataChange;e===t.ALL||e===t.COLUMN||e===t.EDIT||e===t.ROW||e===t.OPTIONS?this.callDataChangeCallbacks(e):n.logError("Notified of a data change, but the type was not recognised, so no action taken, type was: "+e)},h.prototype.columnRefreshCallback=function(e){e.buildColumns(),e.queueGridRefresh()},h.prototype.processRowsCallback=function(e){e.queueGridRefresh()},h.prototype.updateFooterHeightCallback=function(e){e.footerHeight=e.calcFooterHeight(),e.columnFooterHeight=e.calcColumnFooterHeight()},h.prototype.getColumn=function(e){var t=this.columns.filter(function(t){return t.colDef.name===e});return t.length>0?t[0]:null},h.prototype.getColDef=function(e){var t=this.options.columnDefs.filter(function(t){return t.name===e});return t.length>0?t[0]:null},h.prototype.assignTypes=function(){var e=this;e.options.columnDefs.forEach(function(t,i){if(!t.type){var r=new a(t,i,e),o=e.rows.length>0?e.rows[0]:null;t.type=o?n.guessType(e.getCellValue(o,r)):"string"}})},h.prototype.isRowHeaderColumn=function(e){return-1!==this.rowHeaderColumns.indexOf(e)},h.prototype.addRowHeaderColumn=function(e,t){var i=this;void 0===t&&(t=0);var r=new a(e,n.nextUid(),i);r.isRowHeader=!0,i.isRTL()?(i.createRightContainer(),r.renderContainer="right"):(i.createLeftContainer(),r.renderContainer="left"),i.columnBuilders[0](e,r,i.options).then(function(){r.enableFiltering=!1,r.enableSorting=!1,r.enableHiding=!1,r.headerPriority=t,i.rowHeaderColumns.push(r),i.rowHeaderColumns=i.rowHeaderColumns.sort(function(e,t){return e.headerPriority-t.headerPriority}),i.buildColumns().then(function(){i.preCompileCellTemplates(),i.queueGridRefresh()})})},h.prototype.getOnlyDataColumns=function(){var e=this,t=[];return e.columns.forEach(function(i){-1===e.rowHeaderColumns.indexOf(i)&&t.push(i)}),t},h.prototype.buildColumns=function(t){var i={orderByColumnDefs:!1};angular.extend(i,t);var r,o=this,l=[],s=o.rowHeaderColumns.length;for(r=0;r<o.columns.length;r++)o.getColDef(o.columns[r].name)||(o.columns.splice(r,1),r--);for(var d=o.rowHeaderColumns.length-1;d>=0;d--)o.columns.unshift(o.rowHeaderColumns[d]);if(o.options.columnDefs.forEach(function(e,t){o.preprocessColDef(e);var i=o.getColumn(e.name);i?i.updateColumnDef(e,!1):(i=new a(e,n.nextUid(),o),o.columns.splice(t+s,0,i)),o.columnBuilders.forEach(function(t){l.push(t.call(o,e,i,o.options))})}),i.orderByColumnDefs){var c=o.columns.slice(0),u=Math.min(o.options.columnDefs.length,o.columns.length);for(r=0;u>r;r++)c[r+s]=o.columns[r+s].name!==o.options.columnDefs[r].name?o.getColumn(o.options.columnDefs[r].name):o.columns[r+s];o.columns.length=0,Array.prototype.splice.apply(o.columns,[0,0].concat(c))}return e.all(l).then(function(){o.rows.length>0&&o.assignTypes()})},h.prototype.preCompileCellTemplate=function(e){var i=this,n=e.cellTemplate.replace(r.MODEL_COL_FIELD,i.getQualifiedColField(e));n=n.replace(r.COL_FIELD,"grid.getCellValue(row, col)");var o=t(n);e.compiledElementFn=o,e.compiledElementFnDefer&&e.compiledElementFnDefer.resolve(e.compiledElementFn)},h.prototype.preCompileCellTemplates=function(){var e=this;e.columns.forEach(function(t){t.cellTemplate?e.preCompileCellTemplate(t):t.cellTemplatePromise&&t.cellTemplatePromise.then(function(){e.preCompileCellTemplate(t)})})},h.prototype.getQualifiedColField=function(e){return"row.entity."+n.preEval(e.field)},h.prototype.createLeftContainer=function(){this.hasLeftContainer()||(this.renderContainers.left=new u("left",this,{disableColumnOffset:!0}))},h.prototype.createRightContainer=function(){this.hasRightContainer()||(this.renderContainers.right=new u("right",this,{disableColumnOffset:!0}))},h.prototype.hasLeftContainer=function(){return void 0!==this.renderContainers.left},h.prototype.hasRightContainer=function(){return void 0!==this.renderContainers.right},h.prototype.preprocessColDef=function(e){var t=this;if(!e.field&&!e.name)throw new Error("colDef.name or colDef.field property is required");if(void 0===e.name&&void 0!==e.field){for(var i=e.field,n=2;t.getColumn(i);)i=e.field+n.toString(),n++;e.name=i}},h.prototype.newInN=function(e,t,i,n){for(var r=this,o=[],a=0;a<t.length;a++){for(var l=n?t[a][n]:t[a],s=!1,d=0;d<e.length;d++){var c=i?e[d][i]:e[d];if(r.options.rowEquality(l,c)){s=!0;break}}s||o.push(l)}return o},h.prototype.getRow=function(e,t){var i=this;t="undefined"==typeof t?i.rows:t;var n=t.filter(function(t){return i.options.rowEquality(t.entity,e)});return n.length>0?n[0]:null},h.prototype.modifyRows=function(t){var i=this,n=i.rows.slice(0),r=i.rowHashMap||i.createRowHashMap();i.rowHashMap=i.createRowHashMap(),i.rows.length=0,t.forEach(function(e,t){var o;o=i.options.enableRowHashing?r.get(e):i.getRow(e,n),o||(o=i.processRowBuilders(new l(e,t,i))),i.rows.push(o),i.rowHashMap.put(e,o)}),i.assignTypes();var o=e.when(i.processRowsProcessors(i.rows)).then(function(e){return i.setVisibleRows(e)}),a=e.when(i.processColumnsProcessors(i.columns)).then(function(e){return i.setVisibleColumns(e)});return e.all([o,a])},h.prototype.addRows=function(e){for(var t=this,i=t.rows.length,n=0;n<e.length;n++){var r=t.processRowBuilders(new l(e[n],n+i,t));if(t.options.enableRowHashing){var o=t.rowHashMap.get(r.entity);o&&(o.row=r)}t.rows.push(r)}},h.prototype.processRowBuilders=function(e){var t=this;return t.rowBuilders.forEach(function(i){i.call(t,e,t.options)}),e},h.prototype.registerStyleComputation=function(e){this.styleComputations.push(e)},h.prototype.registerRowsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.rowsProcessors.push({processor:e,priority:t}),this.rowsProcessors.sort(function(e,t){return e.priority-t.priority})},h.prototype.removeRowsProcessor=function(e){var t=-1;this.rowsProcessors.forEach(function(i,n){i.processor===e&&(t=n)}),-1!==t&&this.rowsProcessors.splice(t,1)},h.prototype.processRowsProcessors=function(t){function i(t,r){var a=n.rowsProcessors[t].processor;return e.when(a.call(n,r,n.columns)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=n.rowsProcessors.length-1?i(t,e):(o.resolve(e),void 0)})}var n=this,r=t.slice(0);if(0===n.rowsProcessors.length)return e.when(r);var o=e.defer();return i(0,r),o.promise},h.prototype.setVisibleRows=function(e){var t=this;for(var i in t.renderContainers){var n=t.renderContainers[i];n.canvasHeightShouldUpdate=!0,"undefined"==typeof n.visibleRowCache?n.visibleRowCache=[]:n.visibleRowCache.length=0}for(var r=0;r<e.length;r++){var o=e[r],a="undefined"!=typeof o.renderContainer&&o.renderContainer?o.renderContainer:"body";o.visible&&t.renderContainers[a].visibleRowCache.push(o)}t.api.core.raise.rowsRendered(this.api)},h.prototype.registerColumnsProcessor=function(e,t){if(!angular.isFunction(e))throw"Attempt to register non-function rows processor: "+e;this.columnsProcessors.push({processor:e,priority:t}),this.columnsProcessors.sort(function(e,t){return e.priority-t.priority})},h.prototype.removeColumnsProcessor=function(e){var t=this.columnsProcessors.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.columnsProcessors.splice(t,1)},h.prototype.processColumnsProcessors=function(t){function i(t,a){var l=n.columnsProcessors[t].processor;return e.when(l.call(n,a,n.rows)).then(function(e){if(!e)throw"Processor at index "+t+" did not return a set of renderable rows";if(!angular.isArray(e))throw"Processor at index "+t+" did not return an array";return t++,t<=n.columnsProcessors.length-1?i(t,r):(o.resolve(r),void 0)})}var n=this,r=t.slice(0);if(0===n.columnsProcessors.length)return e.when(r);var o=e.defer();return i(0,r),o.promise},h.prototype.setVisibleColumns=function(e){var t=this;for(var i in t.renderContainers){var n=t.renderContainers[i];n.visibleColumnCache.length=0}for(var r=0;r<e.length;r++){var o=e[r];o.visible&&("undefined"!=typeof o.renderContainer&&o.renderContainer?t.renderContainers[o.renderContainer].visibleColumnCache.push(o):t.renderContainers.body.visibleColumnCache.push(o))}},h.prototype.handleWindowResize=function(){var e=this;return e.gridWidth=n.elementWidth(e.element),e.gridHeight=n.elementHeight(e.element),e.queueRefresh()},h.prototype.queueRefresh=function(){var e=this;return e.refreshCanceller&&g.cancel(e.refreshCanceller),e.refreshCanceller=g(function(){e.refreshCanvas(!0)}),e.refreshCanceller.then(function(){e.refreshCanceller=null}),e.refreshCanceller},h.prototype.queueGridRefresh=function(){var e=this;return e.gridRefreshCanceller&&g.cancel(e.gridRefreshCanceller),e.gridRefreshCanceller=g(function(){e.refresh(!0)}),e.gridRefreshCanceller.then(function(){e.gridRefreshCanceller=null}),e.gridRefreshCanceller},h.prototype.updateCanvasHeight=function(){var e=this;for(var t in e.renderContainers)if(e.renderContainers.hasOwnProperty(t)){var i=e.renderContainers[t];i.canvasHeightShouldUpdate=!0}},h.prototype.buildStyles=function(){var e=this;e.customStyles="",e.styleComputations.sort(function(e,t){return null===e.priority?1:null===t.priority?-1:null===e.priority&&null===t.priority?0:e.priority-t.priority}).forEach(function(t){var i=t.func.call(e);angular.isString(i)&&(e.customStyles+="\n"+i)})},h.prototype.minColumnsToRender=function(){var e=this,t=this.getViewportWidth(),i=0,n=0;return e.columns.forEach(function(r,o){if(t>n)n+=r.drawnWidth,i++;else{for(var a=0,l=o;l>=o-i;l--)a+=e.columns[l].drawnWidth;t>a&&i++}}),i},h.prototype.getBodyHeight=function(){var e=this.getViewportHeight();return e},h.prototype.getViewportHeight=function(){var e=this,t=this.gridHeight-this.headerHeight-this.footerHeight,i=e.getViewportAdjustment();return t+=i.height},h.prototype.getViewportWidth=function(){var e=this,t=this.gridWidth,i=e.getViewportAdjustment();return t+=i.width},h.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},h.prototype.addVerticalScrollSync=function(e,t){this.verticalScrollSyncCallBackFns[e]=t},h.prototype.addHorizontalScrollSync=function(e,t){this.horizontalScrollSyncCallBackFns[e]=t},h.prototype.scrollContainers=function(e,t){if(t.y){var i=["body","left","right"];this.flagScrollingVertically(t),"body"===e?i=["left","right"]:"left"===e?i=["body","right"]:"right"===e&&(i=["body","left"]);for(var n=0;n<i.length;n++){var r=i[n];this.verticalScrollSyncCallBackFns[r]&&this.verticalScrollSyncCallBackFns[r](t)}}if(t.x){var o=["body","bodyheader","bodyfooter"];this.flagScrollingHorizontally(t),"body"===e&&(o=["bodyheader","bodyfooter"]);for(var a=0;a<o.length;a++){var l=o[a];this.horizontalScrollSyncCallBackFns[l]&&this.horizontalScrollSyncCallBackFns[l](t)}}},h.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},h.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);"undefined"!=typeof t&&void 0!==t&&this.viewportAdjusters.splice(t,1)},h.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},h.prototype.getVisibleRowCount=function(){return this.renderContainers.body.visibleRowCache.length},h.prototype.getVisibleRows=function(){return this.renderContainers.body.visibleRowCache},h.prototype.getVisibleColumnCount=function(){return this.renderContainers.body.visibleColumnCache.length},h.prototype.searchRows=function(e){return c.search(this,e,this.columns)},h.prototype.sortByColumn=function(e){return d.sort(this,e,this.columns)},h.prototype.getCellValue=function(e,t){return"undefined"!=typeof e.entity["$$"+t.uid]?e.entity["$$"+t.uid].rendered:this.options.flatEntityAccess&&"undefined"!=typeof t.field?e.entity[t.field]:(t.cellValueGetterCache||(t.cellValueGetterCache=i(e.getEntityQualifiedColField(t))),t.cellValueGetterCache(e))},h.prototype.getCellDisplayValue=function(e,t){if(!t.cellDisplayGetterCache){var n=t.cellFilter?" | "+t.cellFilter:"";t.cellDisplayGetterCache="undefined"!=typeof e.entity["$$"+t.uid]?i(e.entity["$$"+t.uid].rendered+n):this.options.flatEntityAccess&&"undefined"!=typeof t.field?i(e.entity[t.field]+n):i(e.getEntityQualifiedColField(t)+n)}return t.cellDisplayGetterCache(e)},h.prototype.getNextColumnSortPriority=function(){var e=this,t=0;return e.columns.forEach(function(e){e.sort&&void 0!==e.sort.priority&&e.sort.priority>=t&&(t=e.sort.priority+1)}),t},h.prototype.resetColumnSorting=function(e){var t=this;t.columns.forEach(function(t){t===e||t.suppressRemoveSort||(t.sort={})})},h.prototype.getColumnSorting=function(){var e,t=this,i=[];return e=t.columns.slice(0),e.sort(d.prioritySort).forEach(function(e){e.sort&&"undefined"!=typeof e.sort.direction&&e.sort.direction&&(e.sort.direction===r.ASC||e.sort.direction===r.DESC)&&i.push(e)}),i},h.prototype.sortColumn=function(t,i,n){var r=this,o=null;if("undefined"==typeof t||!t)throw new Error("No column parameter provided");if("boolean"==typeof i?n=i:o=i,n?t.sort.priority||(t.sort.priority=r.getNextColumnSortPriority()):(r.resetColumnSorting(t),t.sort.priority=void 0,t.sort.priority=r.getNextColumnSortPriority()),o)t.sort.direction=o;else{var a=t.sortDirectionCycle.indexOf(t.sort.direction?t.sort.direction:null);a=(a+1)%t.sortDirectionCycle.length,t.colDef&&t.suppressRemoveSort&&!t.sortDirectionCycle[a]&&(a=(a+1)%t.sortDirectionCycle.length),t.sortDirectionCycle[a]?t.sort.direction=t.sortDirectionCycle[a]:t.sort={}}return r.api.core.raise.sortChanged(r,r.getColumnSorting()),e.when(t)},h.prototype.renderingComplete=function(){angular.isFunction(this.options.onRegisterApi)&&this.options.onRegisterApi(this.api),this.api.core.raise.renderingComplete(this.api)},h.prototype.createRowHashMap=function(){var e=this,t=new f;return t.grid=e,t},h.prototype.refresh=function(t){var i=this,n=i.processRowsProcessors(i.rows).then(function(e){i.setVisibleRows(e)}),r=i.processColumnsProcessors(i.columns).then(function(e){i.setVisibleColumns(e)});return e.all([n,r]).then(function(){i.redrawInPlace(t),i.refreshCanvas(!0)})},h.prototype.refreshRows=function(){var e=this;return e.processRowsProcessors(e.rows).then(function(t){e.setVisibleRows(t),e.redrawInPlace(),e.refreshCanvas(!0)})},h.prototype.refreshCanvas=function(t){var i=this;t&&i.buildStyles();var r=e.defer(),o=[];for(var a in i.renderContainers)if(i.renderContainers.hasOwnProperty(a)){var l=i.renderContainers[a];if(null===l.canvasWidth||isNaN(l.canvasWidth))continue;(l.header||l.headerCanvas)&&(l.explicitHeaderHeight=l.explicitHeaderHeight||null,l.explicitHeaderCanvasHeight=l.explicitHeaderCanvasHeight||null,o.push(l))}return o.length>0?(t&&i.buildStyles(),g(function(){var e,a,l=!1,s=0,d=0,c=function(e,t){return e!==t&&(l=!0),t};for(e=0;e<o.length;e++)if(a=o[e],null!==a.canvasWidth&&!isNaN(a.canvasWidth)){if(a.header){var u=a.headerHeight=c(a.headerHeight,parseInt(n.outerElementHeight(a.header),10)),g=n.getBorderSize(a.header,"top"),p=n.getBorderSize(a.header,"bottom"),f=parseInt(u-g-p,10);f=0>f?0:f,a.innerHeaderHeight=f,!a.explicitHeaderHeight&&f>s&&(s=f)}if(a.headerCanvas){var h=a.headerCanvasHeight=c(a.headerCanvasHeight,parseInt(n.outerElementHeight(a.headerCanvas),10));!a.explicitHeaderCanvasHeight&&h>d&&(d=h)}}for(e=0;e<o.length;e++)a=o[e],s>0&&"undefined"!=typeof a.headerHeight&&null!==a.headerHeight&&(a.explicitHeaderHeight||a.headerHeight<s)&&(a.explicitHeaderHeight=c(a.explicitHeaderHeight,s)),d>0&&"undefined"!=typeof a.headerCanvasHeight&&null!==a.headerCanvasHeight&&(a.explicitHeaderCanvasHeight||a.headerCanvasHeight<d)&&(a.explicitHeaderCanvasHeight=c(a.explicitHeaderCanvasHeight,d));t&&l&&i.buildStyles(),r.resolve()})):g(function(){r.resolve()}),r.promise},h.prototype.redrawInPlace=function(e){var t=this;for(var i in t.renderContainers){var n=t.renderContainers[i];e?(n.adjustRows(n.prevScrollTop,null),n.adjustColumns(n.prevScrollLeft,null)):(n.adjustRows(null,n.prevScrolltopPercentage),n.adjustColumns(null,n.prevScrollleftPercentage))}},h.prototype.hasLeftContainerColumns=function(){return this.hasLeftContainer()&&this.renderContainers.left.renderedColumns.length>0},h.prototype.hasRightContainerColumns=function(){return this.hasRightContainer()&&this.renderContainers.right.renderedColumns.length>0},h.prototype.scrollToIfNecessary=function(t,i){var n=this,r=new p(n,"uiGrid.scrollToIfNecessary"),o=n.renderContainers.body.visibleRowCache,a=n.renderContainers.body.visibleColumnCache,l=n.renderContainers.body.prevScrollTop+n.headerHeight;l=0>l?0:l;var s=n.renderContainers.body.prevScrollLeft,d=n.renderContainers.body.prevScrollTop+n.gridHeight-n.renderContainers.body.headerHeight-n.footerHeight-n.scrollbarWidth,c=n.renderContainers.body.prevScrollLeft+Math.ceil(n.renderContainers.body.getViewportWidth());if(null!==t){var u=o.indexOf(t),g=n.renderContainers.body.getCanvasHeight()-n.renderContainers.body.getViewportHeight(),f=u*n.options.rowHeight+n.headerHeight;f=0>f?0:f;var h,m;l>f?(h=n.renderContainers.body.prevScrollTop-(l-f),m=h/g,r.y={percentage:m}):f>d&&(h=f-d+n.renderContainers.body.prevScrollTop,m=h/g,r.y={percentage:m})}if(null!==i){for(var v=a.indexOf(i),w=n.renderContainers.body.getCanvasWidth()-n.renderContainers.body.getViewportWidth(),b=0,C=0;v>C;C++){var y=a[C];b+=y.drawnWidth}b=0>b?0:b;var x=b+i.drawnWidth;x=0>x?0:x;var S,E;s>b?(S=n.renderContainers.body.prevScrollLeft-(s-b),E=S/w,E=E>1?1:E,r.x={percentage:E}):x>c&&(S=x-c+n.renderContainers.body.prevScrollLeft,E=S/w,E=E>1?1:E,r.x={percentage:E})}var A=e.defer();if(r.y||r.x){r.withDelay=!1,n.scrollContainers("",r);var T=n.api.core.on.scrollEnd(null,function(){A.resolve(r),T()})}else A.resolve();return A.promise},h.prototype.scrollTo=function(e,t){var i=null,n=null;return null!==e&&"undefined"!=typeof e&&(i=this.getRow(e)),null!==t&&"undefined"!=typeof t&&(n=this.getColumn(t.name?t.name:t.field)),this.scrollToIfNecessary(i,n)},h.prototype.clearAllFilters=function(e,t,i){return void 0===e&&(e=!0),void 0===t&&(t=!1),void 0===i&&(i=!1),this.columns.forEach(function(e){e.filters.forEach(function(e){e.term=void 0,t&&(e.condition=void 0),i&&(e.flags=void 0)})}),e?this.refreshRows():void 0},f.prototype={put:function(e,t){this[this.grid.options.rowIdentity(e)]=t},get:function(e){return this[this.grid.options.rowIdentity(e)]},remove:function(e){var t=this[e=this.grid.options.rowIdentity(e)];return delete this[e],t}},h}])}(),function(){angular.module("ui.grid").factory("GridApi",["$q","$rootScope","gridUtil","uiGridConstants","GridRow","uiGridGridMenuService",function(e,t,i,n,r){function o(e,i,n,r){return t.$on(e,function(){var e=Array.prototype.slice.call(arguments);e.splice(0,1),i.apply(r?r:n.api,e)})}var a=function(e){this.grid=e,this.listeners=[],this.registerEvent("core","renderingComplete"),this.registerEvent("core","filterChanged"),this.registerMethod("core","setRowInvisible",r.prototype.setRowInvisible),this.registerMethod("core","clearRowInvisible",r.prototype.clearRowInvisible),this.registerMethod("core","getVisibleRows",this.grid.getVisibleRows),this.registerEvent("core","rowsVisibleChanged"),this.registerEvent("core","rowsRendered"),this.registerEvent("core","scrollBegin"),this.registerEvent("core","scrollEnd"),this.registerEvent("core","canvasHeightChanged"),this.registerEvent("core","gridDimensionChanged")};return a.prototype.suppressEvents=function(e,t){var i=this,n=angular.isArray(e)?e:[e],r=i.listeners.filter(function(e){return n.some(function(t){return e.handler===t})});r.forEach(function(e){e.dereg()}),t(),r.forEach(function(e){e.dereg=o(e.eventId,e.handler,i.grid,e._this)})},a.prototype.registerEvent=function(e,n){var r=this;r[e]||(r[e]={});var a=r[e];a.on||(a.on={},a.raise={});var l=r.grid.id+e+n;a.raise[n]=function(){t.$emit.apply(t,[l].concat(Array.prototype.slice.call(arguments)))},a.on[n]=function(t,a,s){if(null!==t&&"undefined"==typeof t.$on)return i.logError("asked to listen on "+e+".on."+n+" but scope wasn't passed in the input parameters.  It is legitimate to pass null, but you've passed something else, so you probably forgot to provide scope rather than did it deliberately, not registering"),void 0;var d=o(l,a,r.grid,s),c={handler:a,dereg:d,eventId:l,scope:t,_this:s};r.listeners.push(c);var u=function(){c.dereg();var e=r.listeners.indexOf(c);r.listeners.splice(e,1)};return t&&t.$on("$destroy",function(){u()}),u}},a.prototype.registerEventsFromObject=function(e){var t=this,i=[];angular.forEach(e,function(e,t){var n={name:t,events:[]};angular.forEach(e,function(e,t){n.events.push(t)}),i.push(n)}),i.forEach(function(e){e.events.forEach(function(i){t.registerEvent(e.name,i)})})},a.prototype.registerMethod=function(e,t,n,r){this[e]||(this[e]={});var o=this[e];o[t]=i.createBoundedWrapper(r||this.grid,n)},a.prototype.registerMethodsFromObject=function(e,t){var i=this,n=[];angular.forEach(e,function(e,t){var i={name:t,methods:[]};angular.forEach(e,function(e,t){i.methods.push({name:t,fn:e})}),n.push(i)}),n.forEach(function(e){e.methods.forEach(function(n){i.registerMethod(e.name,n.name,n.fn,t)})})},a}])}(),function(){angular.module("ui.grid").factory("GridColumn",["gridUtil","uiGridConstants","i18nService",function(e,t,i){function n(e,i,n){var r=this;r.grid=n,r.uid=i,r.updateColumnDef(e,!0),r.aggregationValue=void 0,r.updateAggregationValue=function(){if(!r.aggregationType)return r.aggregationValue=void 0,void 0;var e=0,i=r.grid.getVisibleRows(),n=function(){var e=[];return i.forEach(function(t){var i=r.grid.getCellValue(t,r),n=Number(i);isNaN(n)||e.push(n)}),e};angular.isFunction(r.aggregationType)?r.aggregationValue=r.aggregationType(i,r):r.aggregationType===t.aggregationTypes.count?r.aggregationValue=r.grid.getVisibleRowCount():r.aggregationType===t.aggregationTypes.sum?(n().forEach(function(t){e+=t}),r.aggregationValue=e):r.aggregationType===t.aggregationTypes.avg?(n().forEach(function(t){e+=t}),e/=n().length,r.aggregationValue=e):r.aggregationValue=r.aggregationType===t.aggregationTypes.min?Math.min.apply(null,n()):r.aggregationType===t.aggregationTypes.max?Math.max.apply(null,n()):" "},this.getAggregationValue=function(){return r.aggregationValue}}return n.prototype.hideColumn=function(){this.colDef.visible=!1},n.prototype.setPropertyOrDefault=function(e,t,i){var n=this;n[t]="undefined"!=typeof e[t]&&e[t]?e[t]:"undefined"!=typeof n[t]?n[t]:i?i:{}},n.prototype.updateColumnDef=function(i,n){var r=this;if(r.colDef=i,void 0===i.name)throw new Error("colDef.name is required for column at index "+r.grid.options.columnDefs.indexOf(i));if(r.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,!angular.isNumber(r.width)||!r.hasCustomWidth||i.allowCustomWidthOverride){var o=i.width,a="Cannot parse column width '"+o+"' for column named '"+i.name+"'";if(r.hasCustomWidth=!1,angular.isString(o)||angular.isNumber(o))if(angular.isString(o))if(e.endsWith(o,"%")){var l=o.replace(/%/g,""),s=parseInt(l,10);if(isNaN(s))throw new Error(a);r.width=o}else if(o.match(/^(\d+)$/))r.width=parseInt(o.match(/^(\d+)$/)[1],10);else{if(!o.match(/^\*+$/))throw new Error(a);r.width=o}else r.width=o;else r.width="*"}["minWidth","maxWidth"].forEach(function(e){var t=i[e],n="Cannot parse column "+e+" '"+t+"' for column named '"+i.name+"'";if(angular.isString(t)||angular.isNumber(t))if(angular.isString(t)){if(!t.match(/^(\d+)$/))throw new Error(n);r[e]=parseInt(t.match(/^(\d+)$/)[1],10)}else r[e]=t;else r[e]="minWidth"===e?30:9e3}),r.field=void 0===i.field?i.name:i.field,"string"!=typeof r.field&&e.logError("Field is not a string, this is likely to break the code, Field is: "+r.field),r.name=i.name,r.displayName=void 0===i.displayName?e.readableColumnName(i.name):i.displayName,r.aggregationType=angular.isDefined(i.aggregationType)?i.aggregationType:null,r.footerCellTemplate=angular.isDefined(i.footerCellTemplate)?i.footerCellTemplate:null,r.cellTooltip="undefined"==typeof i.cellTooltip||i.cellTooltip===!1?!1:i.cellTooltip===!0?function(e,t){return r.grid.getCellValue(e,t)}:"function"==typeof i.cellTooltip?i.cellTooltip:function(e,t){return t.colDef.cellTooltip},r.headerTooltip="undefined"==typeof i.headerTooltip||i.headerTooltip===!1?!1:i.headerTooltip===!0?function(e){return e.displayName}:"function"==typeof i.headerTooltip?i.headerTooltip:function(e){return e.colDef.headerTooltip},r.footerCellClass=i.footerCellClass,r.cellClass=i.cellClass,r.headerCellClass=i.headerCellClass,r.cellFilter=i.cellFilter?i.cellFilter:"",r.sortCellFiltered=i.sortCellFiltered?!0:!1,r.filterCellFiltered=i.filterCellFiltered?!0:!1,r.headerCellFilter=i.headerCellFilter?i.headerCellFilter:"",r.footerCellFilter=i.footerCellFilter?i.footerCellFilter:"",r.visible=e.isNullOrUndefined(i.visible)||i.visible,r.headerClass=i.headerClass,r.enableSorting="undefined"!=typeof i.enableSorting?i.enableSorting:!0,r.sortingAlgorithm=i.sortingAlgorithm,r.sortDirectionCycle="undefined"!=typeof i.sortDirectionCycle?i.sortDirectionCycle:[null,t.ASC,t.DESC],"undefined"==typeof r.suppressRemoveSort&&(r.suppressRemoveSort="undefined"!=typeof i.suppressRemoveSort?i.suppressRemoveSort:!1),r.enableFiltering="undefined"!=typeof i.enableFiltering?i.enableFiltering:!0,r.setPropertyOrDefault(i,"menuItems",[]),n&&r.setPropertyOrDefault(i,"sort");var d=[];i.filter?d.push(i.filter):i.filters?d=i.filters:d.push({}),n?(r.setPropertyOrDefault(i,"filter"),r.setPropertyOrDefault(i,"filters",d)):r.filters.length===d.length&&r.filters.forEach(function(e,t){"undefined"!=typeof d[t].placeholder&&(e.placeholder=d[t].placeholder),"undefined"!=typeof d[t].ariaLabel&&(e.ariaLabel=d[t].ariaLabel),"undefined"!=typeof d[t].flags&&(e.flags=d[t].flags),"undefined"!=typeof d[t].type&&(e.type=d[t].type),"undefined"!=typeof d[t].selectOptions&&(e.selectOptions=d[t].selectOptions)})},n.prototype.unsort=function(){this.sort={},this.grid.api.core.raise.sortChanged(this.grid,this.grid.getColumnSorting())},n.prototype.getColClass=function(e){var i=t.COL_CLASS_PREFIX+this.uid;return e?"."+i:i},n.prototype.isPinnedLeft=function(){return"left"===this.renderContainer},n.prototype.isPinnedRight=function(){return"right"===this.renderContainer},n.prototype.getColClassDefinition=function(){return" .grid"+this.grid.id+" "+this.getColClass(!0)+" { min-width: "+this.drawnWidth+"px; max-width: "+this.drawnWidth+"px; }"},n.prototype.getRenderContainer=function(){var e=this,t=e.renderContainer;return(null===t||""===t||void 0===t)&&(t="body"),e.grid.renderContainers[t]},n.prototype.showColumn=function(){this.colDef.visible=!0},n.prototype.getAggregationText=function(){var e=this;if(e.colDef.aggregationHideLabel)return"";if(e.colDef.aggregationLabel)return e.colDef.aggregationLabel;switch(e.colDef.aggregationType){case t.aggregationTypes.count:return i.getSafeText("aggregation.count");case t.aggregationTypes.sum:return i.getSafeText("aggregation.sum");case t.aggregationTypes.avg:return i.getSafeText("aggregation.avg");case t.aggregationTypes.min:return i.getSafeText("aggregation.min");case t.aggregationTypes.max:return i.getSafeText("aggregation.max");default:return""}},n.prototype.getCellTemplate=function(){var e=this;return e.cellTemplatePromise},n.prototype.getCompiledElementFn=function(){var e=this;return e.compiledElementFnDefer.promise},n}])}(),function(){angular.module("ui.grid").factory("GridOptions",["gridUtil","uiGridConstants",function(e,t){return{initialize:function(i){return i.onRegisterApi=i.onRegisterApi||angular.noop(),i.data=i.data||[],i.columnDefs=i.columnDefs||[],i.excludeProperties=i.excludeProperties||["$$hashKey"],i.enableRowHashing=i.enableRowHashing!==!1,i.rowIdentity=i.rowIdentity||function(t){return e.hashKey(t)},i.getRowIdentity=i.getRowIdentity||function(e){return e.$$hashKey},i.flatEntityAccess=i.flatEntityAccess===!0,i.showHeader="undefined"!=typeof i.showHeader?i.showHeader:!0,i.headerRowHeight=i.showHeader?"undefined"!=typeof i.headerRowHeight?i.headerRowHeight:30:0,i.rowHeight=i.rowHeight||30,i.minRowsToShow="undefined"!=typeof i.minRowsToShow?i.minRowsToShow:10,i.showGridFooter=i.showGridFooter===!0,i.showColumnFooter=i.showColumnFooter===!0,i.columnFooterHeight="undefined"!=typeof i.columnFooterHeight?i.columnFooterHeight:30,i.gridFooterHeight="undefined"!=typeof i.gridFooterHeight?i.gridFooterHeight:30,i.columnWidth="undefined"!=typeof i.columnWidth?i.columnWidth:50,i.maxVisibleColumnCount="undefined"!=typeof i.maxVisibleColumnCount?i.maxVisibleColumnCount:200,i.virtualizationThreshold="undefined"!=typeof i.virtualizationThreshold?i.virtualizationThreshold:20,i.columnVirtualizationThreshold="undefined"!=typeof i.columnVirtualizationThreshold?i.columnVirtualizationThreshold:10,i.excessRows="undefined"!=typeof i.excessRows?i.excessRows:4,i.scrollThreshold="undefined"!=typeof i.scrollThreshold?i.scrollThreshold:4,i.excessColumns="undefined"!=typeof i.excessColumns?i.excessColumns:4,i.horizontalScrollThreshold="undefined"!=typeof i.horizontalScrollThreshold?i.horizontalScrollThreshold:2,i.aggregationCalcThrottle="undefined"!=typeof i.aggregationCalcThrottle?i.aggregationCalcThrottle:500,i.wheelScrollThrottle="undefined"!=typeof i.wheelScrollThrottle?i.wheelScrollThrottle:70,i.scrollDebounce="undefined"!=typeof i.scrollDebounce?i.scrollDebounce:300,i.enableSorting=i.enableSorting!==!1,i.enableFiltering=i.enableFiltering===!0,i.enableColumnMenus=i.enableColumnMenus!==!1,i.enableVerticalScrollbar="undefined"!=typeof i.enableVerticalScrollbar?i.enableVerticalScrollbar:t.scrollbars.ALWAYS,i.enableHorizontalScrollbar="undefined"!=typeof i.enableHorizontalScrollbar?i.enableHorizontalScrollbar:t.scrollbars.ALWAYS,i.enableMinHeightCheck=i.enableMinHeightCheck!==!1,i.minimumColumnSize="undefined"!=typeof i.minimumColumnSize?i.minimumColumnSize:10,i.rowEquality=i.rowEquality||function(e,t){return e===t
},i.headerTemplate=i.headerTemplate||null,i.footerTemplate=i.footerTemplate||"ui-grid/ui-grid-footer",i.gridFooterTemplate=i.gridFooterTemplate||"ui-grid/ui-grid-grid-footer",i.rowTemplate=i.rowTemplate||"ui-grid/ui-grid-row",i.appScopeProvider=i.appScopeProvider||null,i}}}])}(),function(){angular.module("ui.grid").factory("GridRenderContainer",["gridUtil","uiGridConstants",function(e,t){function i(e,t,i){var n=this;n.name=e,n.grid=t,n.visibleRowCache=[],n.visibleColumnCache=[],n.renderedRows=[],n.renderedColumns=[],n.prevScrollTop=0,n.prevScrolltopPercentage=0,n.prevRowScrollIndex=0,n.prevScrollLeft=0,n.prevScrollleftPercentage=0,n.prevColumnScrollIndex=0,n.columnStyles="",n.viewportAdjusters=[],n.hasHScrollbar=!1,n.hasVScrollbar=!1,n.canvasHeightShouldUpdate=!0,n.$$canvasHeight=0,i&&angular.isObject(i)&&angular.extend(n,i),t.registerStyleComputation({priority:5,func:function(){return n.updateColumnWidths(),n.columnStyles}})}return i.prototype.reset=function(){this.visibleColumnCache.length=0,this.visibleRowCache.length=0,this.renderedRows.length=0,this.renderedColumns.length=0},i.prototype.containsColumn=function(e){return-1!==this.visibleColumnCache.indexOf(e)},i.prototype.minRowsToRender=function(){for(var e=this,t=0,i=0,n=e.getViewportHeight(),r=e.visibleRowCache.length-1;n>i&&r>=0;r--)i+=e.visibleRowCache[r].height,t++;return t},i.prototype.minColumnsToRender=function(){for(var e=this,t=this.getViewportWidth(),i=0,n=0,r=0;r<e.visibleColumnCache.length;r++){var o=e.visibleColumnCache[r];if(t>n)n+=o.drawnWidth?o.drawnWidth:0,i++;else{for(var a=0,l=r;l>=r-i;l--)a+=e.visibleColumnCache[l].drawnWidth?e.visibleColumnCache[l].drawnWidth:0;t>a&&i++}}return i},i.prototype.getVisibleRowCount=function(){return this.visibleRowCache.length},i.prototype.registerViewportAdjuster=function(e){this.viewportAdjusters.push(e)},i.prototype.removeViewportAdjuster=function(e){var t=this.viewportAdjusters.indexOf(e);t>-1&&this.viewportAdjusters.splice(t,1)},i.prototype.getViewportAdjustment=function(){var e=this,t={height:0,width:0};return e.viewportAdjusters.forEach(function(e){t=e.call(this,t)}),t},i.prototype.getMargin=function(e){var t=this,i=0;return t.viewportAdjusters.forEach(function(t){var n=t.call(this,{height:0,width:0});n.side&&n.side===e&&(i+=-1*n.width)}),i},i.prototype.getViewportHeight=function(){var e=this,t=e.headerHeight?e.headerHeight:e.grid.headerHeight,i=e.grid.gridHeight-t-e.grid.footerHeight,n=e.getViewportAdjustment();return i+=n.height},i.prototype.getViewportWidth=function(){var e=this,t=e.grid.gridWidth,i=e.getViewportAdjustment();return t+=i.width},i.prototype.getHeaderViewportWidth=function(){var e=this.getViewportWidth();return e},i.prototype.getCanvasHeight=function(){var e=this;if(!e.canvasHeightShouldUpdate)return e.$$canvasHeight;var t=e.$$canvasHeight;return e.$$canvasHeight=0,e.visibleRowCache.forEach(function(t){e.$$canvasHeight+=t.height}),e.canvasHeightShouldUpdate=!1,e.grid.api.core.raise.canvasHeightChanged(t,e.$$canvasHeight),e.$$canvasHeight},i.prototype.getVerticalScrollLength=function(){return this.getCanvasHeight()-this.getViewportHeight()+this.grid.scrollbarHeight},i.prototype.getHorizontalScrollLength=function(){return this.getCanvasWidth()-this.getViewportWidth()+this.grid.scrollbarWidth},i.prototype.getCanvasWidth=function(){var e=this,t=e.canvasWidth;return t},i.prototype.setRenderedRows=function(e){this.renderedRows.length=e.length;for(var t=0;t<e.length;t++)this.renderedRows[t]=e[t]},i.prototype.setRenderedColumns=function(e){this.renderedColumns.length=e.length;for(var t=0;t<e.length;t++)this.renderedColumns[t]=e[t];this.updateColumnOffset()},i.prototype.updateColumnOffset=function(){for(var e=0,t=0;t<this.currentFirstColumn;t++)e+=this.visibleColumnCache[t].drawnWidth;this.columnOffset=e},i.prototype.scrollVertical=function(e){var i=-1;if(e!==this.prevScrollTop){var n=e-this.prevScrollTop;n>0&&(this.grid.scrollDirection=t.scrollDirection.DOWN),0>n&&(this.grid.scrollDirection=t.scrollDirection.UP);var r=this.getVerticalScrollLength();return i=e/r,i>1&&(i=1),0>i&&(i=0),this.adjustScrollVertical(e,i),i}},i.prototype.scrollHorizontal=function(e){var i=-1;if(e!==this.prevScrollLeft){var n=e-this.prevScrollLeft;n>0&&(this.grid.scrollDirection=t.scrollDirection.RIGHT),0>n&&(this.grid.scrollDirection=t.scrollDirection.LEFT);var r=this.getHorizontalScrollLength();return i=0!==r?e/r:0,this.adjustScrollHorizontal(e,i),i}},i.prototype.adjustScrollVertical=function(e,t,i){(this.prevScrollTop!==e||i)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasHeight()-this.getViewportHeight())*t),this.adjustRows(e,t,!1),this.prevScrollTop=e,this.prevScrolltopPercentage=t,this.grid.queueRefresh())},i.prototype.adjustScrollHorizontal=function(e,t,i){(this.prevScrollLeft!==e||i)&&(("undefined"==typeof e||void 0===e||null===e)&&(e=(this.getCanvasWidth()-this.getViewportWidth())*t),this.adjustColumns(e,t),this.prevScrollLeft=e,this.prevScrollleftPercentage=t,this.grid.queueRefresh())},i.prototype.adjustRows=function(e,t){var i=this,n=i.minRowsToRender(),r=i.visibleRowCache,o=r.length-n;"undefined"!=typeof t&&null!==t||!e||(t=e/i.getVerticalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var l=[];if(r.length>i.grid.options.virtualizationThreshold){if("undefined"!=typeof e&&null!==e){if(!i.grid.suppressParentScrollDown&&i.prevScrollTop<e&&a<i.prevRowScrollIndex+i.grid.options.scrollThreshold&&o>a)return;if(!i.grid.suppressParentScrollUp&&i.prevScrollTop>e&&a>i.prevRowScrollIndex-i.grid.options.scrollThreshold&&o>a)return}var s={},d={};s=Math.max(0,a-i.grid.options.excessRows),d=Math.min(r.length,a+n+i.grid.options.excessRows),l=[s,d]}else{var c=i.visibleRowCache.length;l=[0,Math.max(c,n+i.grid.options.excessRows)]}i.updateViewableRowRange(l),i.prevRowScrollIndex=a},i.prototype.adjustColumns=function(e,t){var i=this,n=i.minColumnsToRender(),r=i.visibleColumnCache,o=r.length-n;"undefined"!=typeof t&&null!==t||!e||(t=e/i.getHorizontalScrollLength());var a=Math.ceil(Math.min(o,o*t));a>o&&(a=o);var l=[];if(r.length>i.grid.options.columnVirtualizationThreshold&&i.getCanvasWidth()>i.getViewportWidth()){var s=Math.max(0,a-i.grid.options.excessColumns),d=Math.min(r.length,a+n+i.grid.options.excessColumns);l=[s,d]}else{var c=i.visibleColumnCache.length;l=[0,Math.max(c,n+i.grid.options.excessColumns)]}i.updateViewableColumnRange(l),i.prevColumnScrollIndex=a},i.prototype.updateViewableRowRange=function(e){var t=this.visibleRowCache.slice(e[0],e[1]);this.currentTopRow=e[0],this.setRenderedRows(t)},i.prototype.updateViewableColumnRange=function(e){var t=this.visibleColumnCache.slice(e[0],e[1]);this.currentFirstColumn=e[0],this.setRenderedColumns(t)},i.prototype.headerCellWrapperStyle=function(){var e=this;if(0!==e.currentFirstColumn){var t=e.columnOffset;return e.grid.isRTL()?{"margin-right":t+"px"}:{"margin-left":t+"px"}}return null},i.prototype.updateColumnWidths=function(){var t=this,i=[],n=0,r=0,o="",a=t.grid.getViewportWidth()-t.grid.scrollbarWidth,l=[];angular.forEach(t.grid.renderContainers,function(e){l=l.concat(e.visibleColumnCache)}),l.forEach(function(t){var o=0;t.visible&&(angular.isNumber(t.width)?(o=parseInt(t.width,10),r+=o,t.drawnWidth=o):e.endsWith(t.width,"%")?(o=parseInt(parseInt(t.width.replace(/%/g,""),10)/100*a),o>t.maxWidth&&(o=t.maxWidth),o<t.minWidth&&(o=t.minWidth),r+=o,t.drawnWidth=o):angular.isString(t.width)&&-1!==t.width.indexOf("*")&&(n+=t.width.length,i.push(t)))});var s=a-r;if(i.length>0){var d=s/n;i.forEach(function(e){var t=parseInt(e.width.length*d,10);t>e.maxWidth&&(t=e.maxWidth),t<e.minWidth&&(t=e.minWidth),r+=t,e.drawnWidth=t})}for(var c=function(e){e.drawnWidth<e.maxWidth&&u>0&&(e.drawnWidth++,r++,u--,g=!0)},u=a-r,g=!0;u>0&&g;)g=!1,i.forEach(c);var p=function(e){e.drawnWidth>e.minWidth&&f>0&&(e.drawnWidth--,r--,f--,g=!0)},f=r-a;for(g=!0;f>0&&g;)g=!1,i.forEach(p);var h=0;t.visibleColumnCache.forEach(function(e){e.visible&&(h+=e.drawnWidth)}),l.forEach(function(e){o+=e.getColClassDefinition()}),t.canvasWidth=h,this.columnStyles=o},i.prototype.needsHScrollbarPlaceholder=function(){return this.grid.options.enableHorizontalScrollbar&&!this.hasHScrollbar&&!this.grid.disableScrolling},i.prototype.getViewportStyle=function(){var e=this,i={};return e.hasHScrollbar=!1,e.hasVScrollbar=!1,e.grid.disableScrolling?(i["overflow-x"]="hidden",i["overflow-y"]="hidden",i):("body"===e.name?(e.hasHScrollbar=e.grid.options.enableHorizontalScrollbar!==t.scrollbars.NEVER,e.grid.isRTL()?e.grid.hasLeftContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER):e.grid.hasRightContainerColumns()||(e.hasVScrollbar=e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER)):e.hasVScrollbar="left"===e.name?e.grid.isRTL()?e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER:!1:e.grid.isRTL()?!1:e.grid.options.enableVerticalScrollbar!==t.scrollbars.NEVER,i["overflow-x"]=e.hasHScrollbar?"scroll":"hidden",i["overflow-y"]=e.hasVScrollbar?"scroll":"hidden",i)},i}])}(),function(){angular.module("ui.grid").factory("GridRow",["gridUtil",function(e){function t(t,i,n){this.grid=n,this.entity=t,this.uid=e.nextUid(),this.visible=!0,this.$$height=n.options.rowHeight}return Object.defineProperty(t.prototype,"height",{get:function(){return this.$$height},set:function(e){e!==this.$$height&&(this.grid.updateCanvasHeight(),this.$$height=e)}}),t.prototype.getQualifiedColField=function(e){return"row."+this.getEntityQualifiedColField(e)},t.prototype.getEntityQualifiedColField=function(t){return e.preEval("entity."+t.field)},t.prototype.setRowInvisible=function(e){e&&e.setThisRowInvisible&&e.setThisRowInvisible("user")},t.prototype.clearRowInvisible=function(e){e&&e.clearThisRowInvisible&&e.clearThisRowInvisible("user")},t.prototype.setThisRowInvisible=function(e,t){this.invisibleReason||(this.invisibleReason={}),this.invisibleReason[e]=!0,this.evaluateRowVisibility(t)},t.prototype.clearThisRowInvisible=function(e,t){"undefined"!=typeof this.invisibleReason&&delete this.invisibleReason[e],this.evaluateRowVisibility(t)},t.prototype.evaluateRowVisibility=function(e){var t=!0;"undefined"!=typeof this.invisibleReason&&angular.forEach(this.invisibleReason,function(e){e&&(t=!1)}),("undefined"==typeof this.visible||this.visible!==t)&&(this.visible=t,e||(this.grid.queueGridRefresh(),this.grid.api.core.raise.rowsVisibleChanged(this)))},t}])}(),function(){"use strict";angular.module("ui.grid").factory("GridRowColumn",["$parse","$filter",function(e){var t=function i(e,t){if(!(this instanceof i))throw"Using GridRowColumn as a function insead of as a constructor. Must be called with `new` keyword";this.row=e,this.col=t};return t.prototype.getIntersectionValueRaw=function(){var t=e(this.row.getEntityQualifiedColField(this.col)),i=this.row;return t(i)},t}])}(),function(){angular.module("ui.grid").factory("ScrollEvent",["gridUtil",function(e){function t(t,i,n,r){var o=this;if(!t)throw new Error("grid argument is required");o.grid=t,o.source=r,o.withDelay=!0,o.sourceRowContainer=i,o.sourceColContainer=n,o.newScrollLeft=null,o.newScrollTop=null,o.x=null,o.y=null,o.verticalScrollLength=-9999999,o.horizontalScrollLength=-999999,o.fireThrottledScrollingEvent=e.throttle(function(e){o.grid.scrollContainers(e,o)},o.grid.options.wheelScrollThrottle,{trailing:!0})}return t.prototype.getNewScrollLeft=function(t,i){var n=this;if(!n.newScrollLeft){var r,o=t.getCanvasWidth()-t.getViewportWidth(),a=e.normalizeScrollLeft(i,n.grid);if("undefined"!=typeof n.x.percentage&&void 0!==n.x.percentage)r=n.x.percentage;else{if("undefined"==typeof n.x.pixels||void 0===n.x.pixels)throw new Error("No percentage or pixel value provided for scroll event X axis");r=n.x.percentage=(a+n.x.pixels)/o}return Math.max(0,r*o)}return n.newScrollLeft},t.prototype.getNewScrollTop=function(e,t){var i=this;if(!i.newScrollTop){var n,r=e.getVerticalScrollLength(),o=t[0].scrollTop;if("undefined"!=typeof i.y.percentage&&void 0!==i.y.percentage)n=i.y.percentage;else{if("undefined"==typeof i.y.pixels||void 0===i.y.pixels)throw new Error("No percentage or pixel value provided for scroll event Y axis");n=i.y.percentage=(o+i.y.pixels)/r}return Math.max(0,n*r)}return i.newScrollTop},t.prototype.atTop=function(e){return this.y&&(0===this.y.percentage||this.verticalScrollLength<0)&&0===e},t.prototype.atBottom=function(e){return this.y&&(1===this.y.percentage||0===this.verticalScrollLength)&&e>0},t.prototype.atLeft=function(e){return this.x&&(0===this.x.percentage||this.horizontalScrollLength<0)&&0===e},t.prototype.atRight=function(e){return this.x&&(1===this.x.percentage||0===this.horizontalScrollLength)&&e>0},t.Sources={ViewPortScroll:"ViewPortScroll",RenderContainerMouseWheel:"RenderContainerMouseWheel",RenderContainerTouchMove:"RenderContainerTouchMove",Other:99},t}])}(),function(){"use strict";angular.module("ui.grid").service("gridClassFactory",["gridUtil","$q","$compile","$templateCache","uiGridConstants","Grid","GridColumn","GridRow",function(e,t,i,n,r,o){var a={createGrid:function(n){n="undefined"!=typeof n?n:{},n.id=e.newId();var r=new o(n);if(r.options.rowTemplate){var l=t.defer();r.getRowTemplateFn=l.promise,e.getTemplate(r.options.rowTemplate).then(function(e){var t=i(e);l.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+r.options.rowTemplate+"'")})}return r.registerColumnBuilder(a.defaultColumnBuilder),r.registerRowBuilder(a.rowTemplateAssigner),r.registerRowsProcessor(function(e){return e.forEach(function(e){e.evaluateRowVisibility(!0)},50),e}),r.registerColumnsProcessor(function(e){return e.forEach(function(e){e.visible=angular.isDefined(e.colDef.visible)?e.colDef.visible:!0}),e},50),r.registerRowsProcessor(r.searchRows,100),r.options.externalSort&&angular.isFunction(r.options.externalSort)?r.registerRowsProcessor(r.options.externalSort,200):r.registerRowsProcessor(r.sortByColumn,200),r},defaultColumnBuilder:function(i,n){var o=[],a=function(t,a,l,s,d){n[a]=i[t]?i[t]:l,o.push(e.getTemplate(n[a]).then(function(e){angular.isFunction(e)&&(e=e());var i="cellTooltip"===d?"col.cellTooltip(row,col)":"col.headerTooltip(col)";d&&n[d]===!1?e=e.replace(r.TOOLTIP,""):d&&n[d]&&(e=e.replace(r.TOOLTIP,'title="{{'+i+' CUSTOM_FILTERS }}"')),n[t]=s?e.replace(r.CUSTOM_FILTERS,function(){return n[s]?"|"+n[s]:""}):e},function(){throw new Error("Couldn't fetch/use colDef."+t+" '"+i[t]+"'")}))};return a("cellTemplate","providedCellTemplate","ui-grid/uiGridCell","cellFilter","cellTooltip"),n.cellTemplatePromise=o[0],a("headerCellTemplate","providedHeaderCellTemplate","ui-grid/uiGridHeaderCell","headerCellFilter","headerTooltip"),a("footerCellTemplate","providedFooterCellTemplate","ui-grid/uiGridFooterCell","footerCellFilter"),a("filterHeaderTemplate","providedFilterHeaderTemplate","ui-grid/ui-grid-filter"),n.compiledElementFnDefer=t.defer(),t.all(o)},rowTemplateAssigner:function(n){var r=this;if(n.rowTemplate){var o=t.defer();n.getRowTemplateFn=o.promise,e.getTemplate(n.rowTemplate).then(function(e){var t=i(e);o.resolve(t)},function(){throw new Error("Couldn't fetch/use row template '"+n.rowTemplate+"'")})}else n.rowTemplate=r.options.rowTemplate,n.getRowTemplateFn=r.getRowTemplateFn;return n.getRowTemplateFn}};return a}])}(),function(){function e(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var t=angular.module("ui.grid");t.service("rowSearcher",["gridUtil","uiGridConstants",function(t,i){var n=i.filter.CONTAINS,r={};return r.getTerm=function(e){if("undefined"==typeof e.term)return e.term;var t=e.term;return"string"==typeof t&&(t=t.trim()),t},r.stripTerm=function(t){var i=r.getTerm(t);return"string"==typeof i?e(i.replace(/(^\*|\*$)/g,"")):i},r.guessCondition=function(e){if("undefined"==typeof e.term||!e.term)return n;var t=r.getTerm(e);if(/\*/.test(t)){var i="";e.flags&&e.flags.caseSensitive||(i+="i");var o=t.replace(/(\\)?\*/g,function(e,t){return t?e:"[\\s\\S]*?"});return new RegExp("^"+o+"$",i)}return n},r.setupFilters=function(e){for(var n=[],o=e.length,a=0;o>a;a++){var l=e[a];if(l.noTerm||!t.isNullOrUndefined(l.term)){var s={},d="";l.flags&&l.flags.caseSensitive||(d+="i"),t.isNullOrUndefined(l.term)||(s.term=r.stripTerm(l)),s.condition=l.condition?l.condition:r.guessCondition(l),s.flags=angular.extend({caseSensitive:!1,date:!1},l.flags),s.condition===i.filter.STARTS_WITH&&(s.startswithRE=new RegExp("^"+s.term,d)),s.condition===i.filter.ENDS_WITH&&(s.endswithRE=new RegExp(s.term+"$",d)),s.condition===i.filter.CONTAINS&&(s.containsRE=new RegExp(s.term,d)),s.condition===i.filter.EXACT&&(s.exactRE=new RegExp("^"+s.term+"$",d)),n.push(s)}}return n},r.runColumnFilter=function(e,t,n,r){var o,a=typeof r.condition,l=r.term;if(o=n.filterCellFiltered?e.getCellDisplayValue(t,n):e.getCellValue(t,n),r.condition instanceof RegExp)return r.condition.test(o);if("function"===a)return r.condition(l,o,t,n);if(r.startswithRE)return r.startswithRE.test(o);if(r.endswithRE)return r.endswithRE.test(o);if(r.containsRE)return r.containsRE.test(o);if(r.exactRE)return r.exactRE.test(o);if(r.condition===i.filter.NOT_EQUAL){var s=new RegExp("^"+l+"$");return!s.exec(o)}if("number"==typeof o&&"string"==typeof l){var d=parseFloat(l.replace(/\\\./,".").replace(/\\\-/,"-"));isNaN(d)||(l=d)}return r.flags.date===!0&&(o=new Date(o),l=new Date(l.replace(/\\/g,""))),r.condition===i.filter.GREATER_THAN?o>l:r.condition===i.filter.GREATER_THAN_OR_EQUAL?o>=l:r.condition===i.filter.LESS_THAN?l>o:r.condition===i.filter.LESS_THAN_OR_EQUAL?l>=o:!0},r.searchColumn=function(e,i,n,o){if(e.options.useExternalFiltering)return!0;for(var a=o.length,l=0;a>l;l++){var s=o[l];if(!t.isNullOrUndefined(s.term)&&""!==s.term||s.noTerm){var d=r.runColumnFilter(e,i,n,s);if(!d)return!1}}return!0},r.search=function(e,i,n){if(i){if(!e.options.enableFiltering)return i;for(var o=[],a=n.length,l=function(e){var i=!1;return e.forEach(function(e){(!t.isNullOrUndefined(e.term)&&""!==e.term||e.noTerm)&&(i=!0)}),i},s=0;a>s;s++){var d=n[s];"undefined"!=typeof d.filters&&l(d.filters)&&o.push({col:d,filters:r.setupFilters(d.filters)})}if(o.length>0){for(var c=function(e,t,i,n){t.visible&&!r.searchColumn(e,t,i,n)&&(t.visible=!1)},u=function(e,t){for(var n=i.length,r=0;n>r;r++)c(e,i[r],t.col,t.filters)},g=o.length,p=0;g>p;p++)u(e,o[p]);e.api.core.raise.rowsVisibleChanged&&e.api.core.raise.rowsVisibleChanged()}return i}},r}])}(),function(){var e=angular.module("ui.grid");e.service("rowSorter",["$parse","uiGridConstants",function(e,t){var i="("+t.CURRENCY_SYMBOLS.map(function(e){return"\\"+e}).join("|")+")?",n=(new RegExp("^[-+]?"+i+"[\\d,.]+"+i+"%?$"),{colSortFnCache:{}});return n.guessSortFn=function(e){switch(e){case"number":return n.sortNumber;case"numberStr":return n.sortNumberStr;case"boolean":return n.sortBool;case"string":return n.sortAlpha;case"date":return n.sortDate;case"object":return n.basicSort;default:throw new Error("No sorting function found for type:"+e)}},n.handleNulls=function(e,t){if(!e&&0!==e&&e!==!1||!t&&0!==t&&t!==!1){if(!e&&0!==e&&e!==!1&&!t&&0!==t&&t!==!1)return 0;if(!e&&0!==e&&e!==!1)return 1;if(!t&&0!==t&&t!==!1)return-1}return null},n.basicSort=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e===t?0:t>e?-1:1},n.sortNumber=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e-t},n.sortNumberStr=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;var r,o,a=!1,l=!1;return r=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(r)&&(a=!0),o=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(o)&&(l=!0),a&&l?0:a?1:l?-1:r-o},n.sortAlpha=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;var r=e.toString().toLowerCase(),o=t.toString().toLowerCase();return r===o?0:r.localeCompare(o)},n.sortDate=function(e,t){var i=n.handleNulls(e,t);if(null!==i)return i;e instanceof Date||(e=new Date(e)),t instanceof Date||(t=new Date(t));var r=e.getTime(),o=t.getTime();return r===o?0:o>r?-1:1},n.sortBool=function(e,t){var i=n.handleNulls(e,t);return null!==i?i:e&&t?0:e||t?e?1:-1:0},n.getSortFn=function(e,t){var i;return n.colSortFnCache[t.colDef.name]?i=n.colSortFnCache[t.colDef.name]:void 0!==t.sortingAlgorithm?(i=t.sortingAlgorithm,n.colSortFnCache[t.colDef.name]=t.sortingAlgorithm):t.sortCellFiltered&&t.cellFilter?(i=n.sortAlpha,n.colSortFnCache[t.colDef.name]=i):(i=n.guessSortFn(t.colDef.type),i?n.colSortFnCache[t.colDef.name]=i:i=n.sortAlpha),i},n.prioritySort=function(e,t){return void 0!==e.sort.priority&&void 0!==t.sort.priority?e.sort.priority<t.sort.priority?-1:e.sort.priority===t.sort.priority?0:1:e.sort.priority||void 0===e.sort.priority?-1:t.sort.priority||void 0===t.sort.priority?1:0},n.sort=function(e,i,r){if(i){if(e.options.useExternalSorting)return i;var o=[];if(r.forEach(function(e){!e.sort||e.sort.ignoreSort||!e.sort.direction||e.sort.direction!==t.ASC&&e.sort.direction!==t.DESC||o.push(e)}),o=o.sort(n.prioritySort),0===o.length)return i;var a,l,s=function(e,t){e.entity.$$uiGridIndex=t};i.forEach(s);var d=i.slice(0),c=function(i,r){for(var s,c=0,u=0;0===c&&u<o.length;){a=o[u],l=o[u].sort.direction,s=n.getSortFn(e,a,d);var g,p;a.sortCellFiltered?(g=e.getCellDisplayValue(i,a),p=e.getCellDisplayValue(r,a)):(g=e.getCellValue(i,a),p=e.getCellValue(r,a)),c=s(g,p,i,r,l),u++}return 0===c?i.entity.$$uiGridIndex-r.entity.$$uiGridIndex:l===t.ASC?c:0-c},u=i.sort(c),g=function(e){delete e.entity.$$uiGridIndex};return i.forEach(g),u}},n}])}(),function(){function e(e){var t=e;return"undefined"!=typeof t.length&&t.length&&(t=e[0]),t.ownerDocument.defaultView.getComputedStyle(t,null)}function t(e,t,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,a=0,l=["Top","Right","Bottom","Left"];4>o;o+=2){var s=l[o];if("margin"===i){var d=parseFloat(r[i+s]);isNaN(d)||(a+=d)}if(n){if("content"===i){var c=parseFloat(r["padding"+s]);isNaN(c)||(a-=c)}if("margin"!==i){var u=parseFloat(r["border"+s+"Width"]);isNaN(u)||(a-=u)}}else{var g=parseFloat(r["padding"+s]);if(isNaN(g)||(a+=g),"padding"!==i){var p=parseFloat(r["border"+s+"Width"]);isNaN(p)||(a+=p)}}}return a}function i(i,n,r){var o,l=!0,s=e(i),d="border-box"===s.boxSizing;if(0>=o||null==o){if(o=s[n],(0>o||null==o)&&(o=i.style[n]),a.test(o))return o;l=d&&!0,o=parseFloat(o)||0}var c=o+t(i,n,r||(d?"border":"content"),l,s);return c}function n(t){t=angular.element(t)[0];var i=t.parentElement;return i||(i=document.getElementsByTagName("body")[0]),parseInt(e(i).fontSize)||parseInt(e(t).fontSize)||16}var r,o=angular.module("ui.grid");"function"!=typeof Function.prototype.bind&&(r=function(){var e=Array.prototype.slice;return function(t){var i=this,n=e.call(arguments,1);return n.length?function(){return arguments.length?i.apply(t,n.concat(e.call(arguments))):i.apply(t,n)}:function(){return arguments.length?i.apply(t,arguments):i.call(t)}}});var a=new RegExp("^("+/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source+")(?!px)[a-z%]+$","i"),l=/^(block|none|table(?!-c[ea]).+)/,s={position:"absolute",visibility:"hidden",display:"block"},d=["0","0","0","0"],c="uiGrid-";o.service("gridUtil",["$log","$window","$document","$http","$templateCache","$timeout","$interval","$injector","$q","$interpolate","uiGridConstants",function(o,a,u,g,p,f,h,m,v,w,b){function C(e,t){var i=angular.element(this),n=0,r=0,o=0,a=0;if(t.originalEvent&&(t=t.originalEvent),"detail"in t&&(o=-1*t.detail),"wheelDelta"in t&&(o=t.wheelDelta),"wheelDeltaY"in t&&(o=t.wheelDeltaY),"wheelDeltaX"in t&&(r=-1*t.wheelDeltaX),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(r=-1*o,o=0),n=0===o?r:o,"deltaY"in t&&(o=-1*t.deltaY,n=o),"deltaX"in t&&(r=t.deltaX,0===o&&(n=-1*r)),0!==o||0!==r){if(1===t.deltaMode){var l=i.data("mousewheel-line-height");n*=l,o*=l,r*=l}else if(2===t.deltaMode){var s=i.data("mousewheel-page-height");n*=s,o*=s,r*=s}a=Math.max(Math.abs(o),Math.abs(r)),(!A||A>a)&&(A=a,x(t,a)&&(A/=40)),n=Math[n>=1?"floor":"ceil"](n/A),r=Math[r>=1?"floor":"ceil"](r/A),o=Math[o>=1?"floor":"ceil"](o/A);var d={originalEvent:t,deltaX:r,deltaY:o,deltaFactor:A,preventDefault:function(){t.preventDefault()},stopPropagation:function(){t.stopPropagation()}};E&&clearTimeout(E),E=setTimeout(y,200),e.call(i[0],d)}}function y(){A=null}function x(e,t){return"mousewheel"===e.type&&t%120===0}var S={augmentWidthOrHeight:t,getStyles:e,createBoundedWrapper:function(e,t){return function(){return t.apply(e,arguments)}},readableColumnName:function(e){return"undefined"==typeof e||void 0===e||null===e?e:("string"!=typeof e&&(e=String(e)),e.replace(/_+/g," ").replace(/^[A-Z]+$/,function(e){return angular.lowercase(angular.uppercase(e.charAt(0))+e.slice(1))}).replace(/([\w\u00C0-\u017F]+)/g,function(e){return angular.uppercase(e.charAt(0))+e.slice(1)}).replace(/(\w+?(?=[A-Z]))/g,"$1 "))},getColumnsFromData:function(e,t){var i=[];if(!e||"undefined"==typeof e[0]||void 0===e[0])return[];angular.isUndefined(t)&&(t=[]);var n=e[0];return angular.forEach(n,function(e,n){-1===t.indexOf(n)&&i.push({name:n})}),i},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),getTemplate:function(e){if(p.get(e))return S.postProcessTemplate(p.get(e));if(angular.isFunction(e.then))return e.then(S.postProcessTemplate);try{if(angular.element(e).length>0)return v.when(e).then(S.postProcessTemplate)}catch(t){}return S.logDebug("fetching url",e),g({method:"GET",url:e}).then(function(t){var i=t.data.trim();return p.put(e,i),i},function(t){throw new Error("Could not get template "+e+": "+t)}).then(S.postProcessTemplate)},postProcessTemplate:function(e){var t=w.startSymbol(),i=w.endSymbol();return("{{"!==t||"}}"!==i)&&(e=e.replace(/\{\{/g,t),e=e.replace(/\}\}/g,i)),v.when(e)},guessType:function(e){var t=typeof e;switch(t){case"number":case"boolean":case"string":return t;default:return angular.isDate(e)?"date":"object"}},elementWidth:function(){},elementHeight:function(){},getScrollbarWidth:function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var n=i.offsetWidth;return e.parentNode.removeChild(e),t-n},swap:function(e,t,i,n){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=i.apply(e,n||[]);for(o in t)e.style[o]=a[o];return r},fakeElement:function(e,t,i){var n,r,o=angular.element(e).clone()[0];for(r in t)o.style[r]=t[r];return angular.element(document.body).append(o),n=i.call(o,o),angular.element(o).remove(),n},normalizeWheelEvent:function(e){var t,i,n,r=e||window.event,o=([].slice.call(arguments,1),0),a=0,l=0,s=0,d=0;return r.originalEvent&&(r=r.originalEvent),r.wheelDelta&&(o=r.wheelDelta),r.detail&&(o=-1*r.detail),l=o,void 0!==r.axis&&r.axis===r.HORIZONTAL_AXIS&&(l=0,a=-1*o),r.deltaY&&(l=-1*r.deltaY,o=l),r.deltaX&&(a=r.deltaX,o=-1*a),void 0!==r.wheelDeltaY&&(l=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(a=r.wheelDeltaX),s=Math.abs(o),(!t||t>s)&&(t=s),d=Math.max(Math.abs(l),Math.abs(a)),(!i||i>d)&&(i=d),n=o>0?"floor":"ceil",o=Math[n](o/t),a=Math[n](a/i),l=Math[n](l/i),{delta:o,deltaX:a,deltaY:l}},isTouchEnabled:function(){var e;return("ontouchstart"in a||a.DocumentTouch&&u instanceof DocumentTouch)&&(e=!0),e},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},arrayContainsObjectWithProperty:function(e,t,i){var n=!1;return angular.forEach(e,function(e){e[t]===i&&(n=!0)}),n},numericAndNullSort:function(e,t){return null===e?1:null===t?-1:null===e&&null===t?0:e-t},disableAnimations:function(e){var t;try{t=m.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!1):t.enabled(!1,e)}catch(i){}},enableAnimations:function(e){var t;try{return t=m.get("$animate"),angular.version.major>1||1===angular.version.major&&angular.version.minor>=4?t.enabled(e,!0):t.enabled(!0,e),t}catch(i){}},nextUid:function(){for(var e,t=d.length;t;){if(t--,e=d[t].charCodeAt(0),57===e)return d[t]="A",c+d.join("");if(90!==e)return d[t]=String.fromCharCode(e+1),c+d.join("");d[t]="0"}return d.unshift("0"),c+d.join("")},hashKey:function(e){var t,i=typeof e;return"object"===i&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():"undefined"!=typeof e.$$hashKey&&e.$$hashKey?t=e.$$hashKey:void 0===t&&(t=e.$$hashKey=S.nextUid()):t=e,i+":"+t},resetUids:function(){d=["0","0","0"]},logError:function(e){b.LOG_ERROR_MESSAGES&&o.error(e)},logWarn:function(e){b.LOG_WARN_MESSAGES&&o.warn(e)},logDebug:function(){b.LOG_DEBUG_MESSAGES&&o.debug.apply(o,arguments)}};S.focus={queue:[],byId:function(e,t){this._purgeQueue();var i=f(function(){var i=(t&&t.id?t.id+"-":"")+e,n=a.document.getElementById(i);n?n.focus():S.logWarn("[focus.byId] Element id "+i+" was not found.")});return this.queue.push(i),i},byElement:function(e){if(!angular.isElement(e))return S.logWarn("Trying to focus on an element that isn't an element."),v.reject("not-element");e=angular.element(e),this._purgeQueue();var t=f(function(){e&&e[0].focus()});return this.queue.push(t),t},bySelector:function(e,t,i){var n=this;if(!angular.isElement(e))throw new Error("The parent element is not an element.");e=angular.element(e);var r=function(){var i=e[0].querySelector(t);return n.byElement(i)};if(this._purgeQueue(),i){var o=f(r);return this.queue.push(f(r)),o}return r()},_purgeQueue:function(){this.queue.forEach(function(e){f.cancel(e)}),this.queue=[]}},["width","height"].forEach(function(t){var n=angular.uppercase(t.charAt(0))+t.substr(1);S["element"+n]=function(n,r){var o=n;if(o&&"undefined"!=typeof o.length&&o.length&&(o=n[0]),o){var a=e(o);return 0===o.offsetWidth&&l.test(a.display)?S.swap(o,s,function(){return i(o,t,r)}):i(o,t,r)}return null},S["outerElement"+n]=function(e,t){return e?S["element"+n].call(this,e,t?"margin":"border"):null}}),S.closestElm=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i;["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]?(i=e,!0):!1});for(var n;null!==e;){if(n=e.parentElement,null!==n&&n[i](t))return n;e=n}return null},S.type=function(e){var t=Function.prototype.toString.call(e.constructor);return t.match(/function (.*?)\(/)[1]},S.getBorderSize=function(t,i){"undefined"!=typeof t.length&&t.length&&(t=t[0]);var n=e(t);i=i?"border"+i.charAt(0).toUpperCase()+i.slice(1):"border",i+="Width";var r=parseInt(n[i],10);return isNaN(r)?0:r},S.detectBrowser=function(){var e=a.navigator.userAgent,t={chrome:/chrome/i,safari:/safari/i,firefox:/firefox/i,ie:/internet explorer|trident\//i};for(var i in t)if(t[i].test(e))return i;return"unknown"},S.rtlScrollType=function R(){if(R.type)return R.type;var e=angular.element('<div dir="rtl" style="font-size: 14px; width: 1px; height: 1px; position: absolute; top: -1000px; overflow: scroll">A</div>')[0],t="reverse";return document.body.appendChild(e),e.scrollLeft>0?t="default":(e.scrollLeft=1,0===e.scrollLeft&&(t="negative")),angular.element(e).remove(),R.type=t,t},S.normalizeScrollLeft=function(e,t){"undefined"!=typeof e.length&&e.length&&(e=e[0]);var i=e.scrollLeft;if(t.isRTL())switch(S.rtlScrollType()){case"default":return e.scrollWidth-i-e.clientWidth;case"negative":return Math.abs(i);case"reverse":return i}return i},S.denormalizeScrollLeft=function(e,t,i){if("undefined"!=typeof e.length&&e.length&&(e=e[0]),i.isRTL())switch(S.rtlScrollType()){case"default":var n=e.scrollWidth-e.clientWidth;return n-t;case"negative":return-1*t;case"reverse":return t}return t},S.preEval=function(e){var t=b.BRACKET_REGEXP.exec(e);if(t)return(t[1]?S.preEval(t[1]):t[1])+t[2]+(t[3]?S.preEval(t[3]):t[3]);e=e.replace(b.APOS_REGEXP,"\\'");var i=e.split(b.DOT_REGEXP),n=[i.shift()];return angular.forEach(i,function(e){n.push(e.replace(b.FUNC_REGEXP,"']$1"))}),n.join("['")},S.debounce=function(e,t,i){function n(){a=this,o=arguments;var n=function(){r=null,i||(l=e.apply(a,o))},s=i&&!r;return r&&f.cancel(r),r=f(n,t,!1),s&&(l=e.apply(a,o)),l}var r,o,a,l;return n.cancel=function(){f.cancel(r),r=null},n},S.throttle=function(e,t,i){function n(){a=+new Date,e.apply(r,o),h(function(){l=null
},0,1,!1)}i=i||{};var r,o,a=0,l=null;return function(){if(r=this,o=arguments,null===l){var e=+new Date-a;e>t?n():i.trailing&&(l=h(n,t-e,1,!1))}}},S.on={},S.off={},S._events={},S.addOff=function(e){S.off[e]=function(t,i){var n=S._events[e].indexOf(i);n>0&&S._events[e].removeAt(n)}};var E,A,T="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];return S.on.mousewheel=function(e,t){if(e&&t){var i=angular.element(e);i.data("mousewheel-line-height",n(i)),i.data("mousewheel-page-height",S.elementHeight(i)),i.data("mousewheel-callbacks")||i.data("mousewheel-callbacks",{});var o=i.data("mousewheel-callbacks");o[t]=(Function.prototype.bind||r).call(C,i[0],t);for(var a=T.length;a;)i.on(T[--a],o[t])}},S.off.mousewheel=function(e,t){var i=angular.element(e),n=i.data("mousewheel-callbacks"),r=n[t];if(r)for(var o=T.length;o;)i.off(T[--o],r);delete n[t],0===Object.keys(n).length&&(i.removeData("mousewheel-line-height"),i.removeData("mousewheel-page-height"),i.removeData("mousewheel-callbacks"))},S}]),o.filter("px",function(){return function(e){return e.match(/^[\d\.]+$/)?e+"px":e}})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){var t={aggregate:{label:"položky"},groupPanel:{description:"Přesuňte záhlaví zde pro vytvoření skupiny dle sloupce."},search:{placeholder:"Hledat...",showingItems:"Zobrazuji položky:",selectedItems:"Vybrané položky:",totalItems:"Celkem položek:",size:"Velikost strany:",first:"První strana",next:"Další strana",previous:"Předchozí strana",last:"Poslední strana"},menu:{text:"Vyberte sloupec:"},sort:{ascending:"Seřadit od A-Z",descending:"Seřadit od Z-A",remove:"Odebrat seřazení"},column:{hide:"Schovat sloupec"},aggregation:{count:"celkem řádků: ",sum:"celkem: ",avg:"avg: ",min:"min.: ",max:"max.: "},pinning:{pinLeft:"Zamknout vlevo",pinRight:"Zamknout vpravo",unpin:"Odemknout"},gridMenu:{columns:"Sloupce:",importerTitle:"Importovat soubor",exporterAllAsCsv:"Exportovat všechna data do csv",exporterVisibleAsCsv:"Exportovat viditelná data do csv",exporterSelectedAsCsv:"Exportovat vybraná data do csv",exporterAllAsPdf:"Exportovat všechna data do pdf",exporterVisibleAsPdf:"Exportovat viditelná data do pdf",exporterSelectedAsPdf:"Exportovat vybraná data do pdf",clearAllFilters:"Odstranit všechny filtry"},importer:{noHeaders:"Názvy sloupců se nepodařilo získat, obsahuje soubor záhlaví?",noObjects:"Data se nepodařilo zpracovat, obsahuje soubor řádky mimo záhlaví?",invalidCsv:"Soubor nelze zpracovat, jedná se o CSV?",invalidJson:"Soubor nelze zpracovat, je to JSON?",jsonNotArray:"Soubor musí obsahovat json. Ukončuji.."},pagination:{sizes:"položek na stránku",totalItems:"položek"},grouping:{group:"Seskupit",ungroup:"Odebrat seskupení",aggregate_count:"Agregace: Count",aggregate_sum:"Agregace: Sum",aggregate_max:"Agregace: Max",aggregate_min:"Agregace: Min",aggregate_avg:"Agregace: Avg",aggregate_remove:"Agregace: Odebrat"}};return e.add("cs",t),e.add("cz",t),e.add("cs-cz",t),e.add("cs-CZ",t),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("da",{aggregate:{label:"artikler"},groupPanel:{description:"Grupér rækker udfra en kolonne ved at trække dens overskift hertil."},search:{placeholder:"Søg...",showingItems:"Viste rækker:",selectedItems:"Valgte rækker:",totalItems:"Rækker totalt:",size:"Side størrelse:",first:"Første side",next:"Næste side",previous:"Forrige side",last:"Sidste side"},menu:{text:"Vælg kolonner:"},sort:{ascending:"Sorter stigende",descending:"Sorter faldende",none:"Sorter ingen",remove:"Fjern sortering"},column:{hide:"Skjul kolonne"},aggregation:{count:"antal rækker: ",sum:"sum: ",avg:"gns: ",min:"min: ",max:"max: "},gridMenu:{columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter markerede data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter markerede data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("de",{headerCell:{aria:{defaultFilterLabel:"Filter für Spalte",removeFilter:"Filter löschen",columnMenuButtonLabel:"Spaltenmenü"},priority:"Priorität:",filterLabel:"Filter für Spalte: "},aggregate:{label:"Eintrag"},groupPanel:{description:"Ziehen Sie eine Spaltenüberschrift hierhin, um nach dieser Spalte zu gruppieren."},search:{placeholder:"Suche...",showingItems:"Zeige Einträge:",selectedItems:"Ausgewählte Einträge:",totalItems:"Einträge gesamt:",size:"Einträge pro Seite:",first:"Erste Seite",next:"Nächste Seite",previous:"Vorherige Seite",last:"Letzte Seite"},menu:{text:"Spalten auswählen:"},sort:{ascending:"aufsteigend sortieren",descending:"absteigend sortieren",none:"keine Sortierung",remove:"Sortierung zurücksetzen"},column:{hide:"Spalte ausblenden"},aggregation:{count:"Zeilen insgesamt: ",sum:"gesamt: ",avg:"Durchschnitt: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Links anheften",pinRight:"Rechts anheften",unpin:"Lösen"},columnMenu:{close:"Schließen"},gridMenu:{aria:{buttonLabel:"Tabellenmenü"},columns:"Spalten:",importerTitle:"Datei importieren",exporterAllAsCsv:"Alle Daten als CSV exportieren",exporterVisibleAsCsv:"sichtbare Daten als CSV exportieren",exporterSelectedAsCsv:"markierte Daten als CSV exportieren",exporterAllAsPdf:"Alle Daten als PDF exportieren",exporterVisibleAsPdf:"sichtbare Daten als PDF exportieren",exporterSelectedAsPdf:"markierte Daten als PDF exportieren",clearAllFilters:"Alle Filter zurücksetzen"},importer:{noHeaders:"Es konnten keine Spaltennamen ermittelt werden. Sind in der Datei Spaltendefinitionen enthalten?",noObjects:"Es konnten keine Zeileninformationen gelesen werden, Sind in der Datei außer den Spaltendefinitionen auch Daten enthalten?",invalidCsv:"Die Datei konnte nicht eingelesen werden, ist es eine gültige CSV-Datei?",invalidJson:"Die Datei konnte nicht eingelesen werden. Enthält sie gültiges JSON?",jsonNotArray:"Die importierte JSON-Datei muß ein Array enthalten. Breche Import ab."},pagination:{aria:{pageToFirst:"Zum Anfang",pageBack:"Seite zurück",pageSelected:"Ausgwählte Seite",pageForward:"Seite vor",pageToLast:"Zum Ende"},sizes:"Einträge pro Seite",totalItems:"Einträge",through:"bis",of:"von"},grouping:{group:"Gruppieren",ungroup:"Gruppierung aufheben",aggregate_count:"Agg: Anzahl",aggregate_sum:"Agg: Summe",aggregate_max:"Agg: Maximum",aggregate_min:"Agg: Minimum",aggregate_avg:"Agg: Mittelwert",aggregate_remove:"Aggregation entfernen"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("en",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"},validate:{error:"Error:",minLength:"Value should be at least THRESHOLD characters long.",maxLength:"Value should be at most THRESHOLD characters long.",required:"A value is needed."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("es",{aggregate:{label:"Artículos"},groupPanel:{description:"Arrastre un encabezado de columna aquí y suéltelo para agrupar por esa columna."},search:{placeholder:"Buscar...",showingItems:"Artículos Mostrados:",selectedItems:"Artículos Seleccionados:",totalItems:"Artículos Totales:",size:"Tamaño de Página:",first:"Primera Página",next:"Página Siguiente",previous:"Página Anterior",last:"Última Página"},menu:{text:"Elegir columnas:"},sort:{ascending:"Orden Ascendente",descending:"Orden Descendente",remove:"Sin Ordenar"},column:{hide:"Ocultar la columna"},aggregation:{count:"filas totales: ",sum:"total: ",avg:"media: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",unpin:"Quitar Fijación"},gridMenu:{columns:"Columnas:",importerTitle:"Importar archivo",exporterAllAsCsv:"Exportar todo como csv",exporterVisibleAsCsv:"Exportar vista como csv",exporterSelectedAsCsv:"Exportar selección como csv",exporterAllAsPdf:"Exportar todo como pdf",exporterVisibleAsPdf:"Exportar vista como pdf",exporterSelectedAsPdf:"Exportar selección como pdf",clearAllFilters:"Limpiar todos los filtros"},importer:{noHeaders:"No fue posible derivar los nombres de las columnas, ¿tiene encabezados el archivo?",noObjects:"No fue posible obtener registros, ¿contiene datos el archivo, aparte de los encabezados?",invalidCsv:"No fue posible procesar el archivo, ¿es un CSV válido?",invalidJson:"No fue posible procesar el archivo, ¿es un Json válido?",jsonNotArray:"El archivo json importado debe contener un array, abortando."},pagination:{sizes:"registros por página",totalItems:"registros",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Cont",aggregate_sum:"Agr: Sum",aggregate_max:"Agr: Máx",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Prom",aggregate_remove:"Agr: Quitar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fa",{aggregate:{label:"قلم"},groupPanel:{description:"عنوان یک ستون را بگیر و به گروهی از آن ستون رها کن."},search:{placeholder:"جستجو...",showingItems:"نمایش اقلام:",selectedItems:"قلم‌های انتخاب شده:",totalItems:"مجموع اقلام:",size:"اندازه‌ی صفحه:",first:"اولین صفحه",next:"صفحه‌ی‌بعدی",previous:"صفحه‌ی‌ قبلی",last:"آخرین صفحه"},menu:{text:"ستون‌های انتخابی:"},sort:{ascending:"ترتیب صعودی",descending:"ترتیب نزولی",remove:"حذف مرتب کردن"},column:{hide:"پنهان‌کردن ستون"},aggregation:{count:"تعداد: ",sum:"مجموع: ",avg:"میانگین: ",min:"کمترین: ",max:"بیشترین: "},pinning:{pinLeft:"پین کردن سمت چپ",pinRight:"پین کردن سمت راست",unpin:"حذف پین"},gridMenu:{columns:"ستون‌ها:",importerTitle:"وارد کردن فایل",exporterAllAsCsv:"خروجی تمام داده‌ها در فایل csv",exporterVisibleAsCsv:"خروجی داده‌های قابل مشاهده در فایل csv",exporterSelectedAsCsv:"خروجی داده‌های انتخاب‌شده در فایل csv",exporterAllAsPdf:"خروجی تمام داده‌ها در فایل pdf",exporterVisibleAsPdf:"خروجی داده‌های قابل مشاهده در فایل pdf",exporterSelectedAsPdf:"خروجی داده‌های انتخاب‌شده در فایل pdf",clearAllFilters:"پاک کردن تمام فیلتر"},importer:{noHeaders:"نام ستون قابل استخراج نیست. آیا فایل عنوان دارد؟",noObjects:"اشیا قابل استخراج نیستند. آیا به جز عنوان‌ها در فایل داده وجود دارد؟",invalidCsv:"فایل قابل پردازش نیست. آیا فرمت  csv  معتبر است؟",invalidJson:"فایل قابل پردازش نیست. آیا فرمت json   معتبر است؟",jsonNotArray:"فایل json وارد شده باید حاوی آرایه باشد. عملیات ساقط شد."},pagination:{sizes:"اقلام در هر صفحه",totalItems:"اقلام",of:"از"},grouping:{group:"گروه‌بندی",ungroup:"حذف گروه‌بندی",aggregate_count:"Agg: تعداد",aggregate_sum:"Agg: جمع",aggregate_max:"Agg: بیشینه",aggregate_min:"Agg: کمینه",aggregate_avg:"Agg: میانگین",aggregate_remove:"Agg: حذف"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fi",{aggregate:{label:"rivit"},groupPanel:{description:"Raahaa ja pudota otsikko tähän ryhmittääksesi sarakkeen mukaan."},search:{placeholder:"Hae...",showingItems:"Näytetään rivejä:",selectedItems:"Valitut rivit:",totalItems:"Rivejä yht.:",size:"Näytä:",first:"Ensimmäinen sivu",next:"Seuraava sivu",previous:"Edellinen sivu",last:"Viimeinen sivu"},menu:{text:"Valitse sarakkeet:"},sort:{ascending:"Järjestä nouseva",descending:"Järjestä laskeva",remove:"Poista järjestys"},column:{hide:"Piilota sarake"},aggregation:{count:"Rivejä yht.: ",sum:"Summa: ",avg:"K.a.: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Lukitse vasemmalle",pinRight:"Lukitse oikealle",unpin:"Poista lukitus"},gridMenu:{columns:"Sarakkeet:",importerTitle:"Tuo tiedosto",exporterAllAsCsv:"Vie tiedot csv-muodossa",exporterVisibleAsCsv:"Vie näkyvä tieto csv-muodossa",exporterSelectedAsCsv:"Vie valittu tieto csv-muodossa",exporterAllAsPdf:"Vie tiedot pdf-muodossa",exporterVisibleAsPdf:"Vie näkyvä tieto pdf-muodossa",exporterSelectedAsPdf:"Vie valittu tieto pdf-muodossa",clearAllFilters:"Puhdista kaikki suodattimet"},importer:{noHeaders:"Sarakkeen nimiä ei voitu päätellä, onko tiedostossa otsikkoriviä?",noObjects:"Tietoja ei voitu lukea, onko tiedostossa muuta kuin otsikkot?",invalidCsv:"Tiedostoa ei voitu käsitellä, oliko se CSV-muodossa?",invalidJson:"Tiedostoa ei voitu käsitellä, oliko se JSON-muodossa?",jsonNotArray:"Tiedosto ei sisältänyt taulukkoa, lopetetaan."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("fr",{aggregate:{label:"éléments"},groupPanel:{description:"Faites glisser une en-tête de colonne ici pour créer un groupe de colonnes."},search:{placeholder:"Recherche...",showingItems:"Affichage des éléments :",selectedItems:"Éléments sélectionnés :",totalItems:"Nombre total d'éléments:",size:"Taille de page:",first:"Première page",next:"Page Suivante",previous:"Page précédente",last:"Dernière page"},menu:{text:"Choisir des colonnes :"},sort:{ascending:"Trier par ordre croissant",descending:"Trier par ordre décroissant",remove:"Enlever le tri"},column:{hide:"Cacher la colonne"},aggregation:{count:"lignes totales: ",sum:"total: ",avg:"moy: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",unpin:"Détacher"},gridMenu:{columns:"Colonnes:",importerTitle:"Importer un fichier",exporterAllAsCsv:"Exporter toutes les données en CSV",exporterVisibleAsCsv:"Exporter les données visibles en CSV",exporterSelectedAsCsv:"Exporter les données sélectionnées en CSV",exporterAllAsPdf:"Exporter toutes les données en PDF",exporterVisibleAsPdf:"Exporter les données visibles en PDF",exporterSelectedAsPdf:"Exporter les données sélectionnées en PDF",clearAllFilters:"Nettoyez tous les filtres"},importer:{noHeaders:"Impossible de déterminer le nom des colonnes, le fichier possède-t-il une en-tête ?",noObjects:"Aucun objet trouvé, le fichier possède-t-il des données autres que l'en-tête ?",invalidCsv:"Le fichier n'a pas pu être traité, le CSV est-il valide ?",invalidJson:"Le fichier n'a pas pu être traité, le JSON est-il valide ?",jsonNotArray:"Le fichier JSON importé doit contenir un tableau, abandon."},pagination:{sizes:"éléments par page",totalItems:"éléments",of:"sur"},grouping:{group:"Grouper",ungroup:"Dégrouper",aggregate_count:"Agg: Compte",aggregate_sum:"Agg: Somme",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Moy",aggregate_remove:"Agg: Retirer"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("he",{aggregate:{label:"items"},groupPanel:{description:"גרור עמודה לכאן ושחרר בכדי לקבץ עמודה זו."},search:{placeholder:"חפש...",showingItems:"מציג:",selectedItems:'סה"כ נבחרו:',totalItems:'סה"כ רשומות:',size:"תוצאות בדף:",first:"דף ראשון",next:"דף הבא",previous:"דף קודם",last:"דף אחרון"},menu:{text:"בחר עמודות:"},sort:{ascending:"סדר עולה",descending:"סדר יורד",remove:"בטל"},column:{hide:"טור הסתר"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clean all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("hy",{aggregate:{label:"տվյալներ"},groupPanel:{description:"Ըստ սյան խմբավորելու համար քաշեք և գցեք վերնագիրն այստեղ։"},search:{placeholder:"Փնտրում...",showingItems:"Ցուցադրված տվյալներ՝",selectedItems:"Ընտրված:",totalItems:"Ընդամենը՝",size:"Տողերի քանակը էջում՝",first:"Առաջին էջ",next:"Հաջորդ էջ",previous:"Նախորդ էջ",last:"Վերջին էջ"},menu:{text:"Ընտրել սյուները:"},sort:{ascending:"Աճման կարգով",descending:"Նվազման կարգով",remove:"Հանել "},column:{hide:"Թաքցնել սյունը"},aggregation:{count:"ընդամենը տող՝ ",sum:"ընդամենը՝ ",avg:"միջին՝ ",min:"մին՝ ",max:"մաքս՝ "},pinning:{pinLeft:"Կպցնել ձախ կողմում",pinRight:"Կպցնել աջ կողմում",unpin:"Արձակել"},gridMenu:{columns:"Սյուներ:",importerTitle:"Ներմուծել ֆայլ",exporterAllAsCsv:"Արտահանել ամբողջը CSV",exporterVisibleAsCsv:"Արտահանել երևացող տվյալները CSV",exporterSelectedAsCsv:"Արտահանել ընտրված տվյալները CSV",exporterAllAsPdf:"Արտահանել PDF",exporterVisibleAsPdf:"Արտահանել երևացող տվյալները PDF",exporterSelectedAsPdf:"Արտահանել ընտրված տվյալները PDF",clearAllFilters:"Մաքրել բոլոր ֆիլտրերը"},importer:{noHeaders:"Հնարավոր չեղավ որոշել սյան վերնագրերը։ Արդյո՞ք ֆայլը ունի վերնագրեր։",noObjects:"Հնարավոր չեղավ կարդալ տվյալները։ Արդյո՞ք ֆայլում կան տվյալներ։",invalidCsv:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր CSV է։",invalidJson:"Հնարավոր չեղավ մշակել ֆայլը։ Արդյո՞ք այն վավեր Json է։",jsonNotArray:"Ներմուծված json ֆայլը պետք է պարունակի զանգված, կասեցվում է։"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("it",{aggregate:{label:"elementi"},groupPanel:{description:"Trascina un'intestazione all'interno del gruppo della colonna."},search:{placeholder:"Ricerca...",showingItems:"Mostra:",selectedItems:"Selezionati:",totalItems:"Totali:",size:"Tot Pagine:",first:"Prima",next:"Prossima",previous:"Precedente",last:"Ultima"},menu:{text:"Scegli le colonne:"},sort:{ascending:"Asc.",descending:"Desc.",remove:"Annulla ordinamento"},column:{hide:"Nascondi"},aggregation:{count:"righe totali: ",sum:"tot: ",avg:"media: ",min:"minimo: ",max:"massimo: "},pinning:{pinLeft:"Blocca a sx",pinRight:"Blocca a dx",unpin:"Blocca in alto"},gridMenu:{columns:"Colonne:",importerTitle:"Importa",exporterAllAsCsv:"Esporta tutti i dati in CSV",exporterVisibleAsCsv:"Esporta i dati visibili in CSV",exporterSelectedAsCsv:"Esporta i dati selezionati in CSV",exporterAllAsPdf:"Esporta tutti i dati in PDF",exporterVisibleAsPdf:"Esporta i dati visibili in PDF",exporterSelectedAsPdf:"Esporta i dati selezionati in PDF",clearAllFilters:"Pulire tutti i filtri"},importer:{noHeaders:"Impossibile reperire i nomi delle colonne, sicuro che siano indicati all'interno del file?",noObjects:"Impossibile reperire gli oggetti, sicuro che siano indicati all'interno del file?",invalidCsv:"Impossibile elaborare il file, sicuro che sia un CSV?",invalidJson:"Impossibile elaborare il file, sicuro che sia un JSON valido?",jsonNotArray:"Errore! Il file JSON da importare deve contenere un array."},grouping:{group:"Raggruppa",ungroup:"Separa",aggregate_count:"Agg: N. Elem.",aggregate_sum:"Agg: Somma",aggregate_max:"Agg: Massimo",aggregate_min:"Agg: Minimo",aggregate_avg:"Agg: Media",aggregate_remove:"Agg: Rimuovi"},validate:{error:"Errore:",minLength:"Lunghezza minima pari a THRESHOLD caratteri.",maxLength:"Lunghezza massima pari a THRESHOLD caratteri.",required:"Necessario inserire un valore."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ja",{aggregate:{label:"項目"},groupPanel:{description:"ここに列ヘッダをドラッグアンドドロップして、その列でグループ化します。"},search:{placeholder:"検索...",showingItems:"表示中の項目:",selectedItems:"選択した項目:",totalItems:"項目の総数:",size:"ページサイズ:",first:"最初のページ",next:"次のページ",previous:"前のページ",last:"前のページ"},menu:{text:"列の選択:"},sort:{ascending:"昇順に並べ替え",descending:"降順に並べ替え",remove:"並べ替えの解除"},column:{hide:"列の非表示"},aggregation:{count:"合計行数: ",sum:"合計: ",avg:"平均: ",min:"最小: ",max:"最大: "},pinning:{pinLeft:"左に固定",pinRight:"右に固定",unpin:"固定解除"},gridMenu:{columns:"列:",importerTitle:"ファイルのインポート",exporterAllAsCsv:"すべてのデータをCSV形式でエクスポート",exporterVisibleAsCsv:"表示中のデータをCSV形式でエクスポート",exporterSelectedAsCsv:"選択したデータをCSV形式でエクスポート",exporterAllAsPdf:"すべてのデータをPDF形式でエクスポート",exporterVisibleAsPdf:"表示中のデータをPDF形式でエクスポート",exporterSelectedAsPdf:"選択したデータをPDF形式でエクスポート",clearAllFilters:"すべてのフィルタを清掃してください"},importer:{noHeaders:"列名を取得できません。ファイルにヘッダが含まれていることを確認してください。",noObjects:"オブジェクトを取得できません。ファイルにヘッダ以外のデータが含まれていることを確認してください。",invalidCsv:"ファイルを処理できません。ファイルが有効なCSV形式であることを確認してください。",invalidJson:"ファイルを処理できません。ファイルが有効なJSON形式であることを確認してください。",jsonNotArray:"インポートしたJSONファイルには配列が含まれている必要があります。処理を中止します。"},pagination:{aria:{pageToFirst:"最初のページ",pageBack:"前のページ",pageSelected:"現在のページ",pageForward:"次のページ",pageToLast:"最後のページ"},sizes:"項目/ページ",totalItems:"項目",through:"から",of:"項目/全"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ko",{aggregate:{label:"아이템"},groupPanel:{description:"컬럼으로 그룹핑하기 위해서는 컬럼 헤더를 끌어 떨어뜨려 주세요."},search:{placeholder:"검색...",showingItems:"항목 보여주기:",selectedItems:"선택 항목:",totalItems:"전체 항목:",size:"페이지 크기:",first:"첫번째 페이지",next:"다음 페이지",previous:"이전 페이지",last:"마지막 페이지"},menu:{text:"컬럼을 선택하세요:"},sort:{ascending:"오름차순 정렬",descending:"내림차순 정렬",remove:"소팅 제거"},column:{hide:"컬럼 제거"},aggregation:{count:"전체 갯수: ",sum:"전체: ",avg:"평균: ",min:"최소: ",max:"최대: "},pinning:{pinLeft:"왼쪽 핀",pinRight:"오른쪽 핀",unpin:"핀 제거"},gridMenu:{columns:"컬럼:",importerTitle:"파일 가져오기",exporterAllAsCsv:"csv로 모든 데이터 내보내기",exporterVisibleAsCsv:"csv로 보이는 데이터 내보내기",exporterSelectedAsCsv:"csv로 선택된 데이터 내보내기",exporterAllAsPdf:"pdf로 모든 데이터 내보내기",exporterVisibleAsPdf:"pdf로 보이는 데이터 내보내기",exporterSelectedAsPdf:"pdf로 선택 데이터 내보내기",clearAllFilters:"모든 필터를 청소"},importer:{noHeaders:"컬럼명이 지정되어 있지 않습니다. 파일에 헤더가 명시되어 있는지 확인해 주세요.",noObjects:"데이터가 지정되어 있지 않습니다. 데이터가 파일에 있는지 확인해 주세요.",invalidCsv:"파일을 처리할 수 없습니다. 올바른 csv인지 확인해 주세요.",invalidJson:"파일을 처리할 수 없습니다. 올바른 json인지 확인해 주세요.",jsonNotArray:"json 파일은 배열을 포함해야 합니다."},pagination:{sizes:"페이지당 항목",totalItems:"전체 항목"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("nl",{aggregate:{label:"items"},groupPanel:{description:"Sleep hier een kolomnaam heen om op te groeperen."},search:{placeholder:"Zoeken...",showingItems:"Getoonde items:",selectedItems:"Geselecteerde items:",totalItems:"Totaal aantal items:",size:"Items per pagina:",first:"Eerste pagina",next:"Volgende pagina",previous:"Vorige pagina",last:"Laatste pagina"},menu:{text:"Kies kolommen:"},sort:{ascending:"Sorteer oplopend",descending:"Sorteer aflopend",remove:"Verwijder sortering"},column:{hide:"Verberg kolom"},aggregation:{count:"Aantal rijen: ",sum:"Som: ",avg:"Gemiddelde: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Zet links vast",pinRight:"Zet rechts vast",unpin:"Maak los"},gridMenu:{columns:"Kolommen:",importerTitle:"Importeer bestand",exporterAllAsCsv:"Exporteer alle data als csv",exporterVisibleAsCsv:"Exporteer zichtbare data als csv",exporterSelectedAsCsv:"Exporteer geselecteerde data als csv",exporterAllAsPdf:"Exporteer alle data als pdf",exporterVisibleAsPdf:"Exporteer zichtbare data als pdf",exporterSelectedAsPdf:"Exporteer geselecteerde data als pdf",clearAllFilters:"Reinig alle filters"},importer:{noHeaders:"Kolomnamen kunnen niet worden afgeleid. Heeft het bestand een header?",noObjects:"Objecten kunnen niet worden afgeleid. Bevat het bestand data naast de headers?",invalidCsv:"Het bestand kan niet verwerkt worden. Is het een valide csv bestand?",invalidJson:"Het bestand kan niet verwerkt worden. Is het valide json?",jsonNotArray:"Het json bestand moet een array bevatten. De actie wordt geannuleerd."},pagination:{sizes:"items per pagina",totalItems:"items",of:"van de"},grouping:{group:"Groepeer",ungroup:"Groepering opheffen",aggregate_count:"Agg: Aantal",aggregate_sum:"Agg: Som",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Gem",aggregate_remove:"Agg: Verwijder"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("no",{headerCell:{aria:{defaultFilterLabel:"Filter for column",removeFilter:"Remove Filter",columnMenuButtonLabel:"Column Menu"},priority:"Priority:",filterLabel:"Filter for column: "},aggregate:{label:"items"},groupPanel:{description:"Drag a column header here and drop it to group by that column."},search:{placeholder:"Search...",showingItems:"Showing Items:",selectedItems:"Selected Items:",totalItems:"Total Items:",size:"Page Size:",first:"First Page",next:"Next Page",previous:"Previous Page",last:"Last Page"},menu:{text:"Choose Columns:"},sort:{ascending:"Sort Ascending",descending:"Sort Descending",none:"Sort None",remove:"Remove Sort"},column:{hide:"Hide Column"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin Left",pinRight:"Pin Right",unpin:"Unpin"},columnMenu:{close:"Close"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Kolonner:",importerTitle:"Importer fil",exporterAllAsCsv:"Eksporter alle data som csv",exporterVisibleAsCsv:"Eksporter synlige data som csv",exporterSelectedAsCsv:"Eksporter utvalgte data som csv",exporterAllAsPdf:"Eksporter alle data som pdf",exporterVisibleAsPdf:"Eksporter synlige data som pdf",exporterSelectedAsPdf:"Eksporter utvalgte data som pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."},pagination:{aria:{pageToFirst:"Page to first",pageBack:"Page back",pageSelected:"Selected page",pageForward:"Page forward",pageToLast:"Page to last"},sizes:"items per page",totalItems:"items",through:"through",of:"of"},grouping:{group:"Group",ungroup:"Ungroup",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pl",{headerCell:{aria:{defaultFilterLabel:"Filter dla kolumny",removeFilter:"Usuń filter",columnMenuButtonLabel:"Menu kolumny"},priority:"Prioritet:",filterLabel:"Filtr dla kolumny: "},aggregate:{label:"pozycji"},groupPanel:{description:"Przeciągnij nagłówek kolumny tutaj, aby pogrupować według niej."},search:{placeholder:"Szukaj...",showingItems:"Widoczne pozycje:",selectedItems:"Zaznaczone pozycje:",totalItems:"Wszystkich pozycji:",size:"Rozmiar strony:",first:"Pierwsza strona",next:"Następna strona",previous:"Poprzednia strona",last:"Ostatnia strona"},menu:{text:"Wybierz kolumny:"},sort:{ascending:"Sortuj rosnąco",descending:"Sortuj malejąco",none:"Brak sortowania",remove:"Wyłącz sortowanie"},column:{hide:"Ukryj kolumne"},aggregation:{count:"Razem pozycji: ",sum:"Razem: ",avg:"Średnia: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Przypnij do lewej",pinRight:"Przypnij do prawej",unpin:"Odepnij"},columnMenu:{close:"Zamknij"},gridMenu:{aria:{buttonLabel:"Menu Grida"},columns:"Kolumny:",importerTitle:"Importuj plik",exporterAllAsCsv:"Eksportuj wszystkie dane do csv",exporterVisibleAsCsv:"Eksportuj widoczne dane do csv",exporterSelectedAsCsv:"Eksportuj zaznaczone dane do csv",exporterAllAsPdf:"Eksportuj wszystkie dane do pdf",exporterVisibleAsPdf:"Eksportuj widoczne dane do pdf",exporterSelectedAsPdf:"Eksportuj zaznaczone dane do pdf",clearAllFilters:"Wyczyść filtry"},importer:{noHeaders:"Nie udało się wczytać nazw kolumn. Czy plik posiada nagłówek?",noObjects:"Nie udalo się wczytać pozycji. Czy plik zawiera dane??",invalidCsv:"Nie udało się przetworzyć pliku, jest to prawidlowy plik CSV??",invalidJson:"Nie udało się przetworzyć pliku, jest to prawidlowy plik Json?",jsonNotArray:"Importowany plik json musi zawierać tablicę, importowanie przerwane."},pagination:{aria:{pageToFirst:"Pierwsza strona",pageBack:"Poprzednia strona",pageSelected:"Wybrana strona",pageForward:"Następna strona",pageToLast:"Ostatnia strona"},sizes:"pozycji na stronę",totalItems:"pozycji",through:"do",of:"z"},grouping:{group:"Grupuj",ungroup:"Rozgrupuj",aggregate_count:"Zbiorczo: Razem",aggregate_sum:"Zbiorczo: Suma",aggregate_max:"Zbiorczo: Max",aggregate_min:"Zbiorczo: Min",aggregate_avg:"Zbiorczo: Średnia",aggregate_remove:"Zbiorczo: Usuń"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt-br",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Items Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar arquivo",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O arquivo tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no arquivo, além dos cabeçalhos?",invalidCsv:"Arquivo não pode ser processado. É um CSV válido?",invalidJson:"Arquivo não pode ser processado. É um Json válido?",jsonNotArray:"Arquivo json importado tem que conter um array. Abortando."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Proxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e
}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("pt",{headerCell:{aria:{defaultFilterLabel:"Filtro por coluna",removeFilter:"Remover filtro",columnMenuButtonLabel:"Menu coluna"},priority:"Prioridade:",filterLabel:"Filtro por coluna: "},aggregate:{label:"itens"},groupPanel:{description:"Arraste e solte uma coluna aqui para agrupar por essa coluna"},search:{placeholder:"Procurar...",showingItems:"Mostrando os Itens:",selectedItems:"Itens Selecionados:",totalItems:"Total de Itens:",size:"Tamanho da Página:",first:"Primeira Página",next:"Próxima Página",previous:"Página Anterior",last:"Última Página"},menu:{text:"Selecione as colunas:"},sort:{ascending:"Ordenar Ascendente",descending:"Ordenar Descendente",none:"Nenhuma Ordem",remove:"Remover Ordenação"},column:{hide:"Esconder coluna"},aggregation:{count:"total de linhas: ",sum:"total: ",avg:"med: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Fixar Esquerda",pinRight:"Fixar Direita",unpin:"Desprender"},columnMenu:{close:"Fechar"},gridMenu:{aria:{buttonLabel:"Menu Grid"},columns:"Colunas:",importerTitle:"Importar ficheiro",exporterAllAsCsv:"Exportar todos os dados como csv",exporterVisibleAsCsv:"Exportar dados visíveis como csv",exporterSelectedAsCsv:"Exportar dados selecionados como csv",exporterAllAsPdf:"Exportar todos os dados como pdf",exporterVisibleAsPdf:"Exportar dados visíveis como pdf",exporterSelectedAsPdf:"Exportar dados selecionados como pdf",clearAllFilters:"Limpar todos os filtros"},importer:{noHeaders:"Nomes de colunas não puderam ser derivados. O ficheiro tem um cabeçalho?",noObjects:"Objetos não puderam ser derivados. Havia dados no ficheiro, além dos cabeçalhos?",invalidCsv:"Ficheiro não pode ser processado. É um CSV válido?",invalidJson:"Ficheiro não pode ser processado. É um Json válido?",jsonNotArray:"Ficheiro json importado tem que conter um array. Interrompendo."},pagination:{aria:{pageToFirst:"Primeira página",pageBack:"Página anterior",pageSelected:"Página Selecionada",pageForward:"Próxima",pageToLast:"Anterior"},sizes:"itens por página",totalItems:"itens",through:"através dos",of:"de"},grouping:{group:"Agrupar",ungroup:"Desagrupar",aggregate_count:"Agr: Contar",aggregate_sum:"Agr: Soma",aggregate_max:"Agr: Max",aggregate_min:"Agr: Min",aggregate_avg:"Agr: Med",aggregate_remove:"Agr: Remover"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ro",{headerCell:{aria:{defaultFilterLabel:"Filtru pentru coloana",removeFilter:"Sterge filtru",columnMenuButtonLabel:"Column Menu"},priority:"Prioritate:",filterLabel:"Filtru pentru coloana:"},aggregate:{label:"Elemente"},groupPanel:{description:"Trage un cap de coloana aici pentru a grupa elementele dupa coloana respectiva"},search:{placeholder:"Cauta...",showingItems:"Arata elementele:",selectedItems:"Elementele selectate:",totalItems:"Total elemente:",size:"Marime pagina:",first:"Prima pagina",next:"Pagina urmatoare",previous:"Pagina anterioara",last:"Ultima pagina"},menu:{text:"Alege coloane:"},sort:{ascending:"Ordoneaza crescator",descending:"Ordoneaza descrescator",none:"Fara ordonare",remove:"Sterge ordonarea"},column:{hide:"Ascunde coloana"},aggregation:{count:"total linii: ",sum:"total: ",avg:"medie: ",min:"min: ",max:"max: "},pinning:{pinLeft:"Pin la stanga",pinRight:"Pin la dreapta",unpin:"Sterge pinul"},columnMenu:{close:"Inchide"},gridMenu:{aria:{buttonLabel:"Grid Menu"},columns:"Coloane:",importerTitle:"Incarca fisier",exporterAllAsCsv:"Exporta toate datele ca csv",exporterVisibleAsCsv:"Exporta datele vizibile ca csv",exporterSelectedAsCsv:"Exporta datele selectate ca csv",exporterAllAsPdf:"Exporta toate datele ca pdf",exporterVisibleAsPdf:"Exporta datele vizibile ca pdf",exporterSelectedAsPdf:"Exporta datele selectate ca csv pdf",clearAllFilters:"Sterge toate filtrele"},importer:{noHeaders:"Numele coloanelor nu a putut fi incarcat, acest fisier are un header?",noObjects:"Datele nu au putut fi incarcate, exista date in fisier in afara numelor de coloane?",invalidCsv:"Fisierul nu a putut fi procesat, ati incarcat un CSV valid ?",invalidJson:"Fisierul nu a putut fi procesat, ati incarcat un Json valid?",jsonNotArray:"Json-ul incarcat trebuie sa contina un array, inchidere."},pagination:{aria:{pageToFirst:"Prima pagina",pageBack:"O pagina inapoi",pageSelected:"Pagina selectata",pageForward:"O pagina inainte",pageToLast:"Ultima pagina"},sizes:"Elemente per pagina",totalItems:"elemente",through:"prin",of:"of"},grouping:{group:"Grupeaza",ungroup:"Opreste gruparea",aggregate_count:"Agg: Count",aggregate_sum:"Agg: Sum",aggregate_max:"Agg: Max",aggregate_min:"Agg: Min",aggregate_avg:"Agg: Avg",aggregate_remove:"Agg: Remove"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ru",{headerCell:{aria:{defaultFilterLabel:"Фильтр столбца",removeFilter:"Удалить фильтр",columnMenuButtonLabel:"Меню столбца"},priority:"Приоритет:",filterLabel:"Фильтр столбца: "},aggregate:{label:"элементы"},groupPanel:{description:"Для группировки по столбцу перетащите сюда его название."},search:{placeholder:"Поиск...",showingItems:"Показать элементы:",selectedItems:"Выбранные элементы:",totalItems:"Всего элементов:",size:"Размер страницы:",first:"Первая страница",next:"Следующая страница",previous:"Предыдущая страница",last:"Последняя страница"},menu:{text:"Выбрать столбцы:"},sort:{ascending:"По возрастанию",descending:"По убыванию",none:"Без сортировки",remove:"Убрать сортировку"},column:{hide:"Спрятать столбец"},aggregation:{count:"всего строк: ",sum:"итого: ",avg:"среднее: ",min:"мин: ",max:"макс: "},pinning:{pinLeft:"Закрепить слева",pinRight:"Закрепить справа",unpin:"Открепить"},columnMenu:{close:"Закрыть"},gridMenu:{aria:{buttonLabel:"Меню"},columns:"Столбцы:",importerTitle:"Импортировать файл",exporterAllAsCsv:"Экспортировать всё в CSV",exporterVisibleAsCsv:"Экспортировать видимые данные в CSV",exporterSelectedAsCsv:"Экспортировать выбранные данные в CSV",exporterAllAsPdf:"Экспортировать всё в PDF",exporterVisibleAsPdf:"Экспортировать видимые данные в PDF",exporterSelectedAsPdf:"Экспортировать выбранные данные в PDF",clearAllFilters:"Очистите все фильтры"},importer:{noHeaders:"Не удалось получить названия столбцов, есть ли в файле заголовок?",noObjects:"Не удалось получить данные, есть ли в файле строки кроме заголовка?",invalidCsv:"Не удалось обработать файл, это правильный CSV-файл?",invalidJson:"Не удалось обработать файл, это правильный JSON?",jsonNotArray:"Импортируемый JSON-файл должен содержать массив, операция отменена."},pagination:{aria:{pageToFirst:"Первая страница",pageBack:"Предыдущая страница",pageSelected:"Выбранная страница",pageForward:"Следующая страница",pageToLast:"Последняя страница"},sizes:"строк на страницу",totalItems:"строк",through:"по",of:"из"},grouping:{group:"Группировать",ungroup:"Разгруппировать",aggregate_count:"Группировать: Count",aggregate_sum:"Для группы: Сумма",aggregate_max:"Для группы: Максимум",aggregate_min:"Для группы: Минимум",aggregate_avg:"Для группы: Среднее",aggregate_remove:"Для группы: Пусто"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sk",{aggregate:{label:"items"},groupPanel:{description:"Pretiahni sem názov stĺpca pre zoskupenie podľa toho stĺpca."},search:{placeholder:"Hľadaj...",showingItems:"Zobrazujem položky:",selectedItems:"Vybraté položky:",totalItems:"Počet položiek:",size:"Počet:",first:"Prvá strana",next:"Ďalšia strana",previous:"Predchádzajúca strana",last:"Posledná strana"},menu:{text:"Vyberte stĺpce:"},sort:{ascending:"Zotriediť vzostupne",descending:"Zotriediť zostupne",remove:"Vymazať triedenie"},aggregation:{count:"total rows: ",sum:"total: ",avg:"avg: ",min:"min: ",max:"max: "},gridMenu:{columns:"Columns:",importerTitle:"Import file",exporterAllAsCsv:"Export all data as csv",exporterVisibleAsCsv:"Export visible data as csv",exporterSelectedAsCsv:"Export selected data as csv",exporterAllAsPdf:"Export all data as pdf",exporterVisibleAsPdf:"Export visible data as pdf",exporterSelectedAsPdf:"Export selected data as pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"Column names were unable to be derived, does the file have a header?",noObjects:"Objects were not able to be derived, was there data in the file other than headers?",invalidCsv:"File was unable to be processed, is it valid CSV?",invalidJson:"File was unable to be processed, is it valid Json?",jsonNotArray:"Imported json file must contain an array, aborting."}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("sv",{aggregate:{label:"Artiklar"},groupPanel:{description:"Dra en kolumnrubrik hit och släpp den för att gruppera efter den kolumnen."},search:{placeholder:"Sök...",showingItems:"Visar artiklar:",selectedItems:"Valda artiklar:",totalItems:"Antal artiklar:",size:"Sidstorlek:",first:"Första sidan",next:"Nästa sida",previous:"Föregående sida",last:"Sista sidan"},menu:{text:"Välj kolumner:"},sort:{ascending:"Sortera stigande",descending:"Sortera fallande",remove:"Inaktivera sortering"},column:{hide:"Göm kolumn"},aggregation:{count:"Antal rader: ",sum:"Summa: ",avg:"Genomsnitt: ",min:"Min: ",max:"Max: "},pinning:{pinLeft:"Fäst vänster",pinRight:"Fäst höger",unpin:"Lösgör"},gridMenu:{columns:"Kolumner:",importerTitle:"Importera fil",exporterAllAsCsv:"Exportera all data som CSV",exporterVisibleAsCsv:"Exportera synlig data som CSV",exporterSelectedAsCsv:"Exportera markerad data som CSV",exporterAllAsPdf:"Exportera all data som PDF",exporterVisibleAsPdf:"Exportera synlig data som PDF",exporterSelectedAsPdf:"Exportera markerad data som PDF",clearAllFilters:"Rengör alla filter"},importer:{noHeaders:"Kolumnnamn kunde inte härledas. Har filen ett sidhuvud?",noObjects:"Objekt kunde inte härledas. Har filen data undantaget sidhuvud?",invalidCsv:"Filen kunde inte behandlas, är den en giltig CSV?",invalidJson:"Filen kunde inte behandlas, är den en giltig JSON?",jsonNotArray:"Importerad JSON-fil måste innehålla ett fält. Import avbruten."},pagination:{sizes:"Artiklar per sida",totalItems:"Artiklar"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("ta",{aggregate:{label:"உருப்படிகள்"},groupPanel:{description:"ஒரு பத்தியை குழுவாக அமைக்க அப்பத்தியின் தலைப்பை இங்கே  இழுத்து வரவும் "},search:{placeholder:"தேடல் ...",showingItems:"உருப்படிகளை காண்பித்தல்:",selectedItems:"தேர்ந்தெடுக்கப்பட்ட  உருப்படிகள்:",totalItems:"மொத்த உருப்படிகள்:",size:"பக்க அளவு: ",first:"முதல் பக்கம்",next:"அடுத்த பக்கம்",previous:"முந்தைய பக்கம் ",last:"இறுதி பக்கம்"},menu:{text:"பத்திகளை தேர்ந்தெடு:"},sort:{ascending:"மேலிருந்து கீழாக",descending:"கீழிருந்து மேலாக",remove:"வரிசையை நீக்கு"},column:{hide:"பத்தியை மறைத்து வை "},aggregation:{count:"மொத்த வரிகள்:",sum:"மொத்தம்: ",avg:"சராசரி: ",min:"குறைந்தபட்ச: ",max:"அதிகபட்ச: "},pinning:{pinLeft:"இடதுபுறமாக தைக்க ",pinRight:"வலதுபுறமாக தைக்க",unpin:"பிரி"},gridMenu:{columns:"பத்திகள்:",importerTitle:"கோப்பு : படித்தல்",exporterAllAsCsv:"எல்லா தரவுகளையும் கோப்பாக்கு: csv",exporterVisibleAsCsv:"இருக்கும் தரவுகளை கோப்பாக்கு: csv",exporterSelectedAsCsv:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: csv",exporterAllAsPdf:"எல்லா தரவுகளையும் கோப்பாக்கு: pdf",exporterVisibleAsPdf:"இருக்கும் தரவுகளை கோப்பாக்கு: pdf",exporterSelectedAsPdf:"தேர்ந்தெடுத்த தரவுகளை கோப்பாக்கு: pdf",clearAllFilters:"Clear all filters"},importer:{noHeaders:"பத்தியின் தலைப்புகளை பெற இயலவில்லை, கோப்பிற்கு தலைப்பு உள்ளதா?",noObjects:"இலக்குகளை உருவாக்க முடியவில்லை, கோப்பில் தலைப்புகளை தவிர தரவு ஏதேனும் உள்ளதா? ",invalidCsv:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - csv",invalidJson:"சரிவர நடைமுறை படுத்த இயலவில்லை, கோப்பு சரிதானா? - json",jsonNotArray:"படித்த கோப்பில் வரிசைகள் உள்ளது, நடைமுறை ரத்து செய் : json"},pagination:{sizes:"உருப்படிகள் / பக்கம்",totalItems:"உருப்படிகள் "},grouping:{group:"குழு",ungroup:"பிரி",aggregate_count:"மதிப்பீட்டு : எண்ணு",aggregate_sum:"மதிப்பீட்டு : கூட்டல்",aggregate_max:"மதிப்பீட்டு : அதிகபட்சம்",aggregate_min:"மதிப்பீட்டு : குறைந்தபட்சம்",aggregate_avg:"மதிப்பீட்டு : சராசரி",aggregate_remove:"மதிப்பீட்டு : நீக்கு"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("tr",{headerCell:{aria:{defaultFilterLabel:"Sütun için filtre",removeFilter:"Filtreyi Kaldır",columnMenuButtonLabel:"Sütun Menüsü"},priority:"Öncelik:",filterLabel:"Sütun için filtre: "},aggregate:{label:"kayıtlar"},groupPanel:{description:"Sütuna göre gruplamak için sütun başlığını buraya sürükleyin ve bırakın."},search:{placeholder:"Arama...",showingItems:"Gösterilen Kayıt:",selectedItems:"Seçili Kayıt:",totalItems:"Toplam Kayıt:",size:"Sayfa Boyutu:",first:"İlk Sayfa",next:"Sonraki Sayfa",previous:"Önceki Sayfa",last:"Son Sayfa"},menu:{text:"Sütunları Seç:"},sort:{ascending:"Artan Sırada Sırala",descending:"Azalan Sırada Sırala",none:"Sıralama Yapma",remove:"Sıralamayı Kaldır"},column:{hide:"Sütunu Gizle"},aggregation:{count:"toplam satır: ",sum:"toplam: ",avg:"ort: ",min:"min: ",max:"maks: "},pinning:{pinLeft:"Sola Sabitle",pinRight:"Sağa Sabitle",unpin:"Sabitlemeyi Kaldır"},columnMenu:{close:"Kapat"},gridMenu:{aria:{buttonLabel:"Tablo Menü"},columns:"Sütunlar:",importerTitle:"Dosya içeri aktar",exporterAllAsCsv:"Bütün veriyi CSV olarak dışarı aktar",exporterVisibleAsCsv:"Görünen veriyi CSV olarak dışarı aktar",exporterSelectedAsCsv:"Seçili veriyi CSV olarak dışarı aktar",exporterAllAsPdf:"Bütün veriyi PDF olarak dışarı aktar",exporterVisibleAsPdf:"Görünen veriyi PDF olarak dışarı aktar",exporterSelectedAsPdf:"Seçili veriyi PDF olarak dışarı aktar",clearAllFilters:"Bütün filtreleri kaldır"},importer:{noHeaders:"Sütun isimleri üretilemiyor, dosyanın bir başlığı var mı?",noObjects:"Nesneler üretilemiyor, dosyada başlıktan başka bir veri var mı?",invalidCsv:"Dosya işlenemedi, geçerli bir CSV dosyası mı?",invalidJson:"Dosya işlenemedi, geçerli bir Json dosyası mı?",jsonNotArray:"Alınan Json dosyasında bir dizi bulunmalıdır, işlem iptal ediliyor."},pagination:{aria:{pageToFirst:"İlk sayfaya",pageBack:"Geri git",pageSelected:"Seçili sayfa",pageForward:"İleri git",pageToLast:"Sona git"},sizes:"Sayfadaki nesne sayısı",totalItems:"kayıtlar",through:"",of:""},grouping:{group:"Grupla",ungroup:"Gruplama",aggregate_count:"Yekun: Sayı",aggregate_sum:"Yekun: Toplam",aggregate_max:"Yekun: Maks",aggregate_min:"Yekun: Min",aggregate_avg:"Yekun: Ort",aggregate_remove:"Yekun: Sil"}}),e}])}])}(),function(){var e=["uiT","uiTranslate"],t=["t","uiTranslate"],i=angular.module("ui.grid.i18n");i.constant("i18nConstants",{MISSING:"[MISSING]",UPDATE_EVENT:"$uiI18n",LOCALE_DIRECTIVE_ALIAS:"uiI18n",DEFAULT_LANG:"en"}),i.service("i18nService",["$log","i18nConstants","$rootScope",function(e,t,i){var n={_langs:{},current:null,get:function(e){return this._langs[e.toLowerCase()]},add:function(e,t){var i=e.toLowerCase();this._langs[i]||(this._langs[i]={}),angular.extend(this._langs[i],t)},getAllLangs:function(){var e=[];if(!this._langs)return e;for(var t in this._langs)e.push(t);return e},setCurrent:function(e){this.current=e.toLowerCase()},getCurrentLang:function(){return this.current}},r={add:function(e,t){"object"==typeof e?angular.forEach(e,function(e){e&&n.add(e,t)}):n.add(e,t)},getAllLangs:function(){return n.getAllLangs()},get:function(e){var t=e?e:r.getCurrentLang();return n.get(t)},getSafeText:function(e,i){var o=i?i:r.getCurrentLang(),a=n.get(o);if(!a)return t.MISSING;for(var l=e.split("."),s=a,d=0;d<l.length;++d){if(void 0===s[l[d]]||null===s[l[d]])return t.MISSING;s=s[l[d]]}return s},setCurrentLang:function(e){e&&(n.setCurrent(e),i.$broadcast(t.UPDATE_EVENT))},getCurrentLang:function(){var e=n.getCurrentLang();return e||(e=t.DEFAULT_LANG,n.setCurrent(e)),e}};return r}]);var n=function(e,t){return{compile:function(){return{pre:function(i,n,r){var o=t.LOCALE_DIRECTIVE_ALIAS,a=i.$eval(r[o]);a?i.$watch(r[o],function(){e.setCurrentLang(a)}):r.$$observers&&r.$observe(o,function(){e.setCurrentLang(r[o]||t.DEFAULT_LANG)})}}}}};i.directive("uiI18n",["i18nService","i18nConstants",n]);var r=function(t,i,n){return{restrict:"EA",compile:function(){return{pre:function(r,o,a){var l,s=e[0],d=e[1],c=a[s]||a[d]||o.html(),u=n.MISSING+c;if(a.$$observers){var g=a[s]?s:d;l=a.$observe(g,function(e){e&&o.html(t(e)(i.getCurrentLang())||u)})}var p=t(c),f=r.$on(n.UPDATE_EVENT,function(){l?l(a[s]||a[d]):o.html(p(i.get())||u)});r.$on("$destroy",f),o.html(p(i.get())||u)}}}}};angular.forEach(e,function(e){i.directive(e,["$parse","i18nService","i18nConstants",r])});var o=function(e,t,i){return function(n){var r=e(n);return r(t.get())||i.MISSING+n}};angular.forEach(t,function(e){i.filter(e,["$parse","i18nService","i18nConstants",o])})}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-cn",{headerCell:{aria:{defaultFilterLabel:"列过滤器",removeFilter:"移除过滤器",columnMenuButtonLabel:"列菜单"},priority:"优先级:",filterLabel:"列过滤器: "},aggregate:{label:"行"},groupPanel:{description:"拖曳表头到此处进行分组"},search:{placeholder:"查找",showingItems:"已显示行数：",selectedItems:"已选择行数：",totalItems:"总行数：",size:"每页显示行数：",first:"首页",next:"下一页",previous:"上一页",last:"末页"},menu:{text:"选择列："},sort:{ascending:"升序",descending:"降序",none:"无序",remove:"取消排序"},column:{hide:"隐藏列"},aggregation:{count:"计数：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左侧固定",pinRight:"右侧固定",unpin:"取消固定"},columnMenu:{close:"关闭"},gridMenu:{aria:{buttonLabel:"表格菜单"},columns:"列：",importerTitle:"导入文件",exporterAllAsCsv:"导出全部数据到CSV",exporterVisibleAsCsv:"导出可见数据到CSV",exporterSelectedAsCsv:"导出已选数据到CSV",exporterAllAsPdf:"导出全部数据到PDF",exporterVisibleAsPdf:"导出可见数据到PDF",exporterSelectedAsPdf:"导出已选数据到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"无法获取列名，确定文件包含表头？",noObjects:"无法获取数据，确定文件包含数据？",invalidCsv:"无法处理文件，确定是合法的CSV文件？",invalidJson:"无法处理文件，确定是合法的JSON文件？",jsonNotArray:"导入的文件不是JSON数组！"},pagination:{aria:{pageToFirst:"第一页",pageBack:"上一页",pageSelected:"当前页",pageForward:"下一页",pageToLast:"最后一页"},sizes:"行每页",totalItems:"行",through:"至",of:"共"},grouping:{group:"分组",ungroup:"取消分组",aggregate_count:"合计: 计数",aggregate_sum:"合计: 求和",aggregate_max:"合计: 最大",aggregate_min:"合计: 最小",aggregate_avg:"合计: 平均",aggregate_remove:"合计: 移除"}}),e}])}])}(),function(){angular.module("ui.grid").config(["$provide",function(e){e.decorator("i18nService",["$delegate",function(e){return e.add("zh-tw",{aggregate:{label:"行"},groupPanel:{description:"拖曳表頭到此處進行分組"},search:{placeholder:"查找",showingItems:"已顯示行數：",selectedItems:"已選擇行數：",totalItems:"總行數：",size:"每頁顯示行數：",first:"首頁",next:"下壹頁",previous:"上壹頁",last:"末頁"},menu:{text:"選擇列："},sort:{ascending:"升序",descending:"降序",remove:"取消排序"},column:{hide:"隱藏列"},aggregation:{count:"計數：",sum:"求和：",avg:"均值：",min:"最小值：",max:"最大值："},pinning:{pinLeft:"左側固定",pinRight:"右側固定",unpin:"取消固定"},gridMenu:{columns:"列：",importerTitle:"導入文件",exporterAllAsCsv:"導出全部數據到CSV",exporterVisibleAsCsv:"導出可見數據到CSV",exporterSelectedAsCsv:"導出已選數據到CSV",exporterAllAsPdf:"導出全部數據到PDF",exporterVisibleAsPdf:"導出可見數據到PDF",exporterSelectedAsPdf:"導出已選數據到PDF",clearAllFilters:"清除所有过滤器"},importer:{noHeaders:"無法獲取列名，確定文件包含表頭？",noObjects:"無法獲取數據，確定文件包含數據？",invalidCsv:"無法處理文件，確定是合法的CSV文件？",invalidJson:"無法處理文件，確定是合法的JSON文件？",jsonNotArray:"導入的文件不是JSON數組！"},pagination:{sizes:"行每頁",totalItems:"行"}}),e}])}])}(),function(){"use strict";var e=angular.module("ui.grid.autoResize",["ui.grid"]);e.directive("uiGridAutoResize",["$timeout","gridUtil",function(e,t){return{require:"uiGrid",scope:!1,link:function(e,i,n,r){function o(){s=t.elementHeight(i),l=t.elementWidth(i)}function a(){clearTimeout(d),d=setTimeout(function(){var n=t.elementHeight(i),d=t.elementWidth(i);n!==s||d!==l?(r.grid.gridHeight=n,r.grid.gridWidth=d,r.grid.api.core.raise.gridDimensionChanged(s,l,n,d),e.$apply(function(){r.grid.refresh().then(function(){o(),a()})})):a()},250)}var l,s;o();var d;a(),e.$on("$destroy",function(){clearTimeout(d)})}}}])}(),function(){"use strict";var e=angular.module("ui.grid.cellNav",["ui.grid"]);e.constant("uiGridCellNavConstants",{FEATURE_NAME:"gridCellNav",CELL_NAV_EVENT:"cellNav",direction:{LEFT:0,RIGHT:1,UP:2,DOWN:3,PG_UP:4,PG_DOWN:5},EVENT_TYPE:{KEYDOWN:0,CLICK:1,CLEAR:2}}),e.factory("uiGridCellNavFactory",["gridUtil","uiGridConstants","uiGridCellNavConstants","GridRowColumn","$q",function(e,t,i,n){var r=function(e,t,i,n){this.rows=e.visibleRowCache,this.columns=t.visibleColumnCache,this.leftColumns=i?i.visibleColumnCache:[],this.rightColumns=n?n.visibleColumnCache:[],this.bodyContainer=e};return r.prototype.getFocusableCols=function(){var e=this.leftColumns.concat(this.columns,this.rightColumns);return e.filter(function(e){return e.colDef.allowCellFocus})},r.prototype.getFocusableRows=function(){return this.rows.filter(function(e){return e.allowCellFocus!==!1})},r.prototype.getNextRowCol=function(e,t,n){switch(e){case i.direction.LEFT:return this.getRowColLeft(t,n);case i.direction.RIGHT:return this.getRowColRight(t,n);case i.direction.UP:return this.getRowColUp(t,n);case i.direction.DOWN:return this.getRowColDown(t,n);case i.direction.PG_UP:return this.getRowColPageUp(t,n);case i.direction.PG_DOWN:return this.getRowColPageDown(t,n)}},r.prototype.initializeSelection=function(){var e=this.getFocusableCols(),t=this.getFocusableRows();if(0===e.length||0===t.length)return null;return new n(t[0],e[0])},r.prototype.getRowColLeft=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=1);var l=0===o?i.length-1:o-1;return l>o?0===a?new n(e,i[l]):new n(r[a-1],i[l]):new n(e,i[l])},r.prototype.getRowColRight=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var l=o===i.length-1?0:o+1;return o>l?a===r.length-1?new n(e,i[l]):new n(r[a+1],i[l]):new n(e,i[l])},r.prototype.getRowColDown=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),a===r.length-1?new n(e,i[o]):new n(r[a+1],i[o])},r.prototype.getRowColPageDown=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return a>=r.length-l?new n(r[r.length-1],i[o]):new n(r[a+l],i[o])},r.prototype.getRowColUp=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);return-1===o&&(o=0),0===a?new n(e,i[o]):new n(r[a-1],i[o])},r.prototype.getRowColPageUp=function(e,t){var i=this.getFocusableCols(),r=this.getFocusableRows(),o=i.indexOf(t),a=r.indexOf(e);-1===o&&(o=0);var l=this.bodyContainer.minRowsToRender();return 0>a-l?new n(r[0],i[o]):new n(r[a-l],i[o])},r}]),e.service("uiGridCellNavService",["gridUtil","uiGridConstants","uiGridCellNavConstants","$q","uiGridCellNavFactory","GridRowColumn","ScrollEvent",function(e,t,i,n,r){var o={initializeGrid:function(e){e.registerColumnBuilder(o.cellNavColumnBuilder),e.cellNav={},e.cellNav.lastRowCol=null,e.cellNav.focusedCells=[],o.defaultGridOptions(e.options);var t={events:{cellNav:{navigate:function(){},viewPortKeyDown:function(){},viewPortKeyPress:function(){}}},methods:{cellNav:{scrollToFocus:function(t,i){return o.scrollToFocus(e,t,i)},getFocusedCell:function(){return e.cellNav.lastRowCol},getCurrentSelection:function(){return e.cellNav.focusedCells},rowColSelectIndex:function(t){for(var i=-1,n=0;n<e.cellNav.focusedCells.length;n++)if(e.cellNav.focusedCells[n].col.uid===t.col.uid&&e.cellNav.focusedCells[n].row.uid===t.row.uid){i=n;break}return i}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.modifierKeysToMultiSelectCells=e.modifierKeysToMultiSelectCells===!0},decorateRenderContainers:function(e){var t=e.hasRightContainer()?e.renderContainers.right:null,i=e.hasLeftContainer()?e.renderContainers.left:null;null!==i&&(e.renderContainers.left.cellNav=new r(e.renderContainers.body,i,t,e.renderContainers.body)),null!==t&&(e.renderContainers.right.cellNav=new r(e.renderContainers.body,t,e.renderContainers.body,i)),e.renderContainers.body.cellNav=new r(e.renderContainers.body,e.renderContainers.body,i,t)},getDirection:function(e){return e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey?i.direction.LEFT:e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB?i.direction.RIGHT:e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey?i.direction.UP:e.keyCode===t.keymap.PG_UP?i.direction.PG_UP:e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER&&!e.ctrlKey&&!e.altKey?i.direction.DOWN:e.keyCode===t.keymap.PG_DOWN?i.direction.PG_DOWN:null},cellNavColumnBuilder:function(e){var t=[];return e.allowCellFocus=void 0===e.allowCellFocus?!0:e.allowCellFocus,n.all(t)},scrollToFocus:function(e,t,i){var n=null,r=null;return"undefined"!=typeof t&&null!==t&&(n=e.getRow(t)),"undefined"!=typeof i&&null!==i&&(r=e.getColumn(i.name?i.name:i.field)),e.api.core.scrollToIfNecessary(n,r).then(function(){var t={row:n,col:r};null!==n&&null!==r&&e.cellNav.broadcastCellNav(t)})},getLeftWidth:function(e,t){var i=0;if(!t)return i;var n=e.renderContainers.body.visibleColumnCache.indexOf(t);e.renderContainers.body.visibleColumnCache.forEach(function(e,t){n>t&&(i+=e.drawnWidth)});var r=0===n?0:(n+1)/e.renderContainers.body.visibleColumnCache.length;return i+=t.drawnWidth*r}};return o}]),e.directive("uiGridCellnav",["gridUtil","uiGridCellNavService","uiGridCellNavConstants","uiGridConstants","GridRowColumn","$timeout","$compile",function(e,t,i,n,r,o,a){return{replace:!0,priority:-150,require:"^uiGrid",scope:!1,controller:function(){},compile:function(){return{pre:function(e,o,a,l){var s=e,d=l.grid;t.initializeGrid(d),l.cellNav={},l.cellNav.makeRowCol=function(e){return e instanceof r||(e=new r(e.row,e.col)),e},l.cellNav.getActiveCell=function(){var e=o[0].getElementsByClassName("ui-grid-cell-focus");return e.length>0?e[0]:void 0},l.cellNav.broadcastCellNav=d.cellNav.broadcastCellNav=function(e,t,n){t=!(void 0===t||!t),e=l.cellNav.makeRowCol(e),l.cellNav.broadcastFocus(e,t,n),s.$broadcast(i.CELL_NAV_EVENT,e,t,n)},l.cellNav.clearFocus=d.cellNav.clearFocus=function(){d.cellNav.focusedCells=[],s.$broadcast(i.CELL_NAV_EVENT)},l.cellNav.broadcastFocus=function(e,t){t=!(void 0===t||!t),e=l.cellNav.makeRowCol(e);var i=e.row,n=e.col,o=l.grid.api.cellNav.rowColSelectIndex(e);if(null===d.cellNav.lastRowCol||-1===o){var a=new r(i,n);(null===d.cellNav.lastRowCol||d.cellNav.lastRowCol.row!==a.row||d.cellNav.lastRowCol.col!==a.col)&&(d.api.cellNav.raise.navigate(a,d.cellNav.lastRowCol),d.cellNav.lastRowCol=a),l.grid.options.modifierKeysToMultiSelectCells&&t?d.cellNav.focusedCells.push(e):d.cellNav.focusedCells=[e]}else d.options.modifierKeysToMultiSelectCells&&t&&o>=0&&d.cellNav.focusedCells.splice(o,1)},l.cellNav.handleKeyDown=function(e){var r=t.getDirection(e);if(null===r)return null;var o="body";e.uiGridTargetRenderContainerId&&(o=e.uiGridTargetRenderContainerId);var a=l.grid.api.cellNav.getFocusedCell();if(a){var s=l.grid.renderContainers[o].cellNav.getNextRowCol(r,a.row,a.col),c=l.grid.renderContainers[o].cellNav.getFocusableCols(),u=l.grid.api.cellNav.rowColSelectIndex(s);return r===i.direction.LEFT&&s.col===c[c.length-1]&&s.row===a.row&&e.keyCode===n.keymap.TAB&&e.shiftKey?(d.cellNav.focusedCells.splice(u,1),l.cellNav.clearFocus(),!0):r!==i.direction.RIGHT||s.col!==c[0]||s.row!==a.row||e.keyCode!==n.keymap.TAB||e.shiftKey?(d.scrollToIfNecessary(s.row,s.col).then(function(){l.cellNav.broadcastCellNav(s)}),e.stopPropagation(),e.preventDefault(),!1):(d.cellNav.focusedCells.splice(u,1),l.cellNav.clearFocus(),!0)}}},post:function(e,t,n,r){function o(){var n='<div id="'+l.id+'-aria-speakable" class="ui-grid-a11y-ariascreenreader-speakable ui-grid-offscreen" aria-live="assertive" role="region" aria-atomic="true" aria-hidden="false" aria-relevant="additions" >&nbsp;</div>',r=a(n)(e);t.prepend(r),e.$on(i.CELL_NAV_EVENT,function(e,t,i,n){function o(e){e!==r.text()&&(r[0].style.clip="rect(0px,0px,0px,0px)",r[0].innerHTML="",r[0].style.visibility="hidden",r[0].style.visibility="visible",""!==e&&(r[0].style.clip="auto",r[0].appendChild(document.createTextNode(e+" ")),r[0].style.visibility="hidden",r[0].style.visibility="visible"))}if(!n||"focus"!==n.type){for(var a=[],s=l.api.cellNav.getCurrentSelection(),d=0;d<s.length;d++)a.push(l.getCellDisplayValue(s[d].row,s[d].col));var c=a.toString();o(c)}})}var l=r.grid;o()}}}}}]),e.directive("uiGridRenderContainer",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","$compile","uiGridCellNavConstants",function(e,t,i,n,r,o,a){return{replace:!0,priority:-99999,require:["^uiGrid","uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{post:function(t,n,l,s){var d=s[0],c=s[1],u=s[2];if(d.grid.api.cellNav){var g=c.containerId,p=d.grid;if(r.decorateRenderContainers(p),"body"===g){d.grid.options.modifierKeysToMultiSelectCells?n.attr("aria-multiselectable",!0):n.attr("aria-multiselectable",!1);var f=o('<div class="ui-grid-focuser" role="region" aria-live="assertive" aria-atomic="false" tabindex="0" aria-controls="'+p.id+"-aria-speakable "+p.id+'-grid-container" aria-owns="'+p.id+'-grid-container"></div>')(t);n.append(f),f.on("focus",function(e){e.uiGridTargetRenderContainerId=g;var t=d.grid.api.cellNav.getFocusedCell();null===t&&(t=d.grid.renderContainers[g].cellNav.getNextRowCol(a.direction.DOWN,null,null),t.row&&t.col&&d.cellNav.broadcastCellNav(t))}),u.setAriaActivedescendant=function(e){n.attr("aria-activedescendant",e)},u.removeAriaActivedescendant=function(e){n.attr("aria-activedescendant")===e&&n.attr("aria-activedescendant","")},d.focus=function(){i.focus.byElement(f[0])};var h=null;f.on("keydown",function(e){e.uiGridTargetRenderContainerId=g;var t=d.grid.api.cellNav.getFocusedCell(),i=d.cellNav.handleKeyDown(e);null===i&&(d.grid.api.cellNav.raise.viewPortKeyDown(e,t),h=t)}),f.on("keypress",function(t){h&&(e(function(){d.grid.api.cellNav.raise.viewPortKeyPress(t,h)},4),h=null)}),t.$on("$destroy",function(){f.off()})}}}}}}}]),e.directive("uiGridViewport",["$timeout","$document","gridUtil","uiGridConstants","uiGridCellNavService","uiGridCellNavConstants","$log","$compile",function(){return{replace:!0,priority:-99999,require:["^uiGrid","^uiGridRenderContainer","?^uiGridCellnav"],scope:!1,compile:function(){return{pre:function(){},post:function(e,t,i,n){var r=n[0],o=n[1];if(r.grid.api.cellNav){var a=o.containerId;if("body"===a){var l=r.grid;l.api.core.on.scrollBegin(e,function(){var e=r.grid.api.cellNav.getFocusedCell();null!==e&&o.colContainer.containsColumn(e.col)&&r.cellNav.clearFocus()}),l.api.core.on.scrollEnd(e,function(){var e=r.grid.api.cellNav.getFocusedCell();null!==e&&o.colContainer.containsColumn(e.col)&&r.cellNav.broadcastCellNav(e)}),l.api.cellNav.on.navigate(e,function(){r.focus()})}}}}}}}]),e.directive("uiGridCell",["$timeout","$document","uiGridCellNavService","gridUtil","uiGridCellNavConstants","uiGridConstants","GridRowColumn",function(e,t,i,n,r,o,a){return{priority:-150,restrict:"A",require:["^uiGrid","?^uiGridCellnav"],scope:!1,link:function(e,t,i,n){function o(e){e.preventDefault()}function l(){if(!e.focused){var i=t.find("div");i.addClass("ui-grid-cell-focus"),t.attr("aria-selected",!0),c.setAriaActivedescendant(t.attr("id")),e.focused=!0}}function s(){if(e.focused){var i=t.find("div");i.removeClass("ui-grid-cell-focus"),t.attr("aria-selected",!1),c.removeAriaActivedescendant(t.attr("id")),e.focused=!1}}var d=n[0],c=n[1];if(d.grid.api.cellNav&&e.col.colDef.allowCellFocus){var u=d.grid;e.focused=!1,t.attr("tabindex",-1),t.find("div").on("click",function(t){d.cellNav.broadcastCellNav(new a(e.row,e.col),t.ctrlKey||t.metaKey,t),t.stopPropagation(),e.$apply()
}),t.on("mousedown",o),d.grid.api.edit&&(d.grid.api.edit.on.beginCellEdit(e,function(){t.off("mousedown",o)}),d.grid.api.edit.on.afterCellEdit(e,function(){t.on("mousedown",o)}),d.grid.api.edit.on.cancelCellEdit(e,function(){t.on("mousedown",o)})),t.on("focus",function(t){d.cellNav.broadcastCellNav(new a(e.row,e.col),!1,t),t.stopPropagation(),e.$apply()}),e.$on(r.CELL_NAV_EVENT,function(){var t=u.cellNav.focusedCells.some(function(t){return t.row===e.row&&t.col===e.col});t?l():s()}),e.$on("$destroy",function(){t.find("div").off(),t.off()})}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.edit",["ui.grid"]);e.constant("uiGridEditConstants",{EDITABLE_CELL_TEMPLATE:/EDITABLE_CELL_TEMPLATE/g,EDITABLE_CELL_DIRECTIVE:/editable_cell_directive/g,events:{BEGIN_CELL_EDIT:"uiGridEventBeginCellEdit",END_CELL_EDIT:"uiGridEventEndCellEdit",CANCEL_CELL_EDIT:"uiGridEventCancelCellEdit"}}),e.service("uiGridEditService",["$q","uiGridConstants","gridUtil",function(e,t,i){var n={initializeGrid:function(e){n.defaultGridOptions(e.options),e.registerColumnBuilder(n.editColumnBuilder),e.edit={};var t={events:{edit:{afterCellEdit:function(){},beginCellEdit:function(){},cancelCellEdit:function(){}}},methods:{edit:{}}};e.api.registerEventsFromObject(t.events)},defaultGridOptions:function(e){e.cellEditableCondition=void 0===e.cellEditableCondition?!0:e.cellEditableCondition,e.enableCellEditOnFocus=void 0===e.enableCellEditOnFocus?!1:e.enableCellEditOnFocus},editColumnBuilder:function(t,n,r){var o=[];return t.enableCellEdit=void 0===t.enableCellEdit?void 0===r.enableCellEdit?"object"!==t.type:r.enableCellEdit:t.enableCellEdit,t.cellEditableCondition=void 0===t.cellEditableCondition?r.cellEditableCondition:t.cellEditableCondition,t.enableCellEdit&&(t.editableCellTemplate=t.editableCellTemplate||r.editableCellTemplate||"ui-grid/cellEditor",o.push(i.getTemplate(t.editableCellTemplate).then(function(e){n.editableCellTemplate=e},function(){throw new Error("Couldn't fetch/use colDef.editableCellTemplate '"+t.editableCellTemplate+"'")}))),t.enableCellEditOnFocus=void 0===t.enableCellEditOnFocus?r.enableCellEditOnFocus:t.enableCellEditOnFocus,e.all(o)},isStartEditKey:function(e){return e.metaKey||e.keyCode===t.keymap.ESC||e.keyCode===t.keymap.SHIFT||e.keyCode===t.keymap.CTRL||e.keyCode===t.keymap.ALT||e.keyCode===t.keymap.WIN||e.keyCode===t.keymap.CAPSLOCK||e.keyCode===t.keymap.LEFT||e.keyCode===t.keymap.TAB&&e.shiftKey||e.keyCode===t.keymap.RIGHT||e.keyCode===t.keymap.TAB||e.keyCode===t.keymap.UP||e.keyCode===t.keymap.ENTER&&e.shiftKey||e.keyCode===t.keymap.DOWN||e.keyCode===t.keymap.ENTER?!1:!0}};return n}]),e.directive("uiGridEdit",["gridUtil","uiGridEditService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["uiGridEditConstants",function(e){return{replace:!0,priority:-99998,require:["^uiGrid","^uiGridRenderContainer"],scope:!1,compile:function(){return{post:function(t,i,n,r){var o=r[0];if(o.grid.api.edit&&o.grid.api.cellNav){var a=r[1].containerId;"body"===a&&(t.$on(e.events.CANCEL_CELL_EDIT,function(){o.focus()}),t.$on(e.events.END_CELL_EDIT,function(){o.focus()}))}}}}}}]),e.directive("uiGridCell",["$compile","$injector","$timeout","uiGridConstants","uiGridEditConstants","gridUtil","$parse","uiGridEditService","$rootScope","$q",function(e,t,i,n,r,o,a,l,s,d){var c=500;if(t.has("uiGridCellNavService")){t.get("uiGridCellNavService")}return{priority:-100,restrict:"A",scope:!1,require:"?^uiGrid",link:function(t,u,g,p){function f(){u.on("dblclick",C),u.on("touchstart",h),p&&p.grid.api.cellNav&&(_=p.grid.api.cellNav.on.viewPortKeyDown(t,function(e,i){null!==i&&(i.row!==t.row||i.col!==t.col||t.col.colDef.enableCellEditOnFocus||w(e))}),D=p.grid.api.cellNav.on.navigate(t,function(e,n){t.col.colDef.enableCellEditOnFocus&&(n&&e.row===n.row&&e.col===n.col||e.row!==t.row||e.col!==t.col||i(function(){C()}))})),t.beginEditEventsWired=!0}function h(e){"undefined"!=typeof e.originalEvent&&void 0!==e.originalEvent&&(e=e.originalEvent),u.on("touchend",m),P=i(function(){},c),P.then(function(){setTimeout(C,0),u.off("touchend",m)})}function m(){i.cancel(P),u.off("touchend",m)}function v(){u.off("dblclick",C),u.off("keydown",w),u.off("touchstart",h),D(),_(),t.beginEditEventsWired=!1}function w(e){l.isStartEditKey(e)&&C(e)}function b(e,i){return!i.isSaving&&(angular.isFunction(e.colDef.cellEditableCondition)?e.colDef.cellEditableCondition(t):e.colDef.cellEditableCondition)}function C(e){t.grid.api.core.scrollToIfNecessary(t.row,t.col).then(function(){y(e)})}function y(l){if(!k&&b(t.col,t.row)){R=a(t.row.getQualifiedColField(t.col)),T=R(t),A=t.col.editableCellTemplate,A=t.col.colDef.editModelField?A.replace(n.MODEL_COL_FIELD,o.preEval("row.entity."+t.col.colDef.editModelField)):A.replace(n.MODEL_COL_FIELD,t.row.getQualifiedColField(t.col)),A=A.replace(n.COL_FIELD,"grid.getCellValue(row, col)");var c=t.col.colDef.editDropdownFilter?"|"+t.col.colDef.editDropdownFilter:"";A=A.replace(n.CUSTOM_FILTERS,c);var g="text";switch(t.col.colDef.type){case"boolean":g="checkbox";break;case"number":g="number";break;case"date":g="date"}A=A.replace("INPUT_TYPE",g);var p=t.col.colDef.editDropdownOptionsFunction;if(p)d.when(p(t.row.entity,t.col.colDef)).then(function(e){t.editDropdownOptionsArray=e});else{var f=t.col.colDef.editDropdownRowEntityOptionsArrayPath;t.editDropdownOptionsArray=f?E(t.row.entity,f):t.col.colDef.editDropdownOptionsArray}t.editDropdownIdLabel=t.col.colDef.editDropdownIdLabel?t.col.colDef.editDropdownIdLabel:"id",t.editDropdownValueLabel=t.col.colDef.editDropdownValueLabel?t.col.colDef.editDropdownValueLabel:"value";var h=function(){k=!0,v();var i=angular.element(A);u.append(i),$=t.$new(),e(i)($);var n=angular.element(u.children()[0]);n.addClass("ui-grid-cell-contents-hidden")};s.$$phase?h():t.$apply(h);var m=t.col.grid.api.core.on.scrollBegin(t,function(){t.grid.disableScrolling||(x(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,R(t),T),m(),w(),C())}),w=t.$on(r.events.END_CELL_EDIT,function(){x(),t.grid.api.edit.raise.afterCellEdit(t.row.entity,t.col.colDef,R(t),T),w(),m(),C()}),C=t.$on(r.events.CANCEL_CELL_EDIT,function(){S(),C(),m(),w()});t.$broadcast(r.events.BEGIN_CELL_EDIT,l),i(function(){t.grid.api.edit.raise.beginCellEdit(t.row.entity,t.col.colDef,l)})}}function x(){if(t.grid.disableScrolling=!1,k){p&&p.grid.api.cellNav&&p.focus();var e=angular.element(u.children()[0]);$.$destroy();for(var i=u.children(),r=1;r<i.length;r++)angular.element(i[r]).remove();e.removeClass("ui-grid-cell-contents-hidden"),k=!1,f(),t.grid.api.core.notifyDataChange(n.dataChange.EDIT)}}function S(){t.grid.disableScrolling=!1,k&&(R.assign(t,T),t.$apply(),t.grid.api.edit.raise.cancelCellEdit(t.row.entity,t.col.colDef),x())}function E(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split(".");i.length;){var n=i.shift();if(!(n in e))return;e=e[n]}return e}var A,T,R,P,$,k=!1;if(t.col.colDef.enableCellEdit){var D=function(){},_=function(){},F=function(){t.col.colDef.enableCellEdit&&t.row.enableCellEdit!==!1?t.beginEditEventsWired||f():t.beginEditEventsWired&&v()};F();var G=t.$watch("row",function(e,t){e!==t&&F()});t.$on("$destroy",G)}}}}]),e.directive("uiGridEditor",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout","uiGridEditService",function(e,t,i,n,r){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer","ngModel"],compile:function(){return{pre:function(){},post:function(e,o,a,l){var s,d,c;l[0]&&(s=l[0]),l[1]&&(d=l[1]),l[2]&&(c=l[2]),e.$on(i.events.BEGIN_CELL_EDIT,function(){if(n(function(){if(o[0].focus(),o[0].select&&e.col.colDef.enableCellEditOnFocus||!s||!s.grid.api.cellNav)o[0].select();else try{o[0].setSelectionRange(o[0].value.length,o[0].value.length)}catch(t){}}),s&&s.grid.api.cellNav)var t=s.grid.api.cellNav.on.viewPortKeyPress(e,function(e){r.isStartEditKey(e)&&(c.$setViewValue(String.fromCharCode("number"==typeof e.which?e.which:e.keyCode),e),c.$render()),t()});o.on("blur",function(t){e.stopEdit(t)})}),e.deepEdit=!1,e.stopEdit=function(t){e.inputForm&&!e.inputForm.$valid?(t.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)):e.$emit(i.events.END_CELL_EDIT),e.deepEdit=!1},o.on("click",function(){"checkbox"!==o[0].type&&(e.deepEdit=!0,n(function(){e.grid.disableScrolling=!0}))}),o.on("keydown",function(n){switch(n.keyCode){case t.keymap.ESC:n.stopPropagation(),e.$emit(i.events.CANCEL_CELL_EDIT)}if(!e.deepEdit||n.keyCode!==t.keymap.LEFT&&n.keyCode!==t.keymap.RIGHT&&n.keyCode!==t.keymap.UP&&n.keyCode!==t.keymap.DOWN)if(s&&s.grid.api.cellNav)n.uiGridTargetRenderContainerId=d.containerId,null!==s.cellNav.handleKeyDown(n)&&e.stopEdit(n);else switch(n.keyCode){case t.keymap.ENTER:case t.keymap.TAB:n.stopPropagation(),n.preventDefault(),e.stopEdit(n)}else n.stopPropagation();return!0})}}}}}]),e.directive("uiGridEditor",["$filter",function(e){function t(e){if("undefined"==typeof e||""===e)return null;var t=e.split("-");if(3!==t.length)return null;var i=parseInt(t[0],10),n=parseInt(t[1],10),r=parseInt(t[2],10);return 1>n||1>i||1>r?null:new Date(i,n-1,r)}return{priority:-100,require:"?ngModel",link:function(i,n,r,o){2===angular.version.minor&&r.type&&"date"===r.type&&o&&(o.$formatters.push(function(t){return o.$setValidity(null,!t||!isNaN(t.getTime())),e("date")(t,"yyyy-MM-dd")}),o.$parsers.push(function(e){if(e&&e.length>0){var i=t(e);return o.$setValidity(null,i&&!isNaN(i.getTime())),i}return o.$setValidity(null,!0),null}))}}}]),e.directive("uiGridEditDropdown",["uiGridConstants","uiGridEditConstants",function(e,t){return{require:["?^uiGrid","?^uiGridRenderContainer"],scope:!0,compile:function(){return{pre:function(){},post:function(i,n,r,o){var a=o[0],l=o[1];i.$on(t.events.BEGIN_CELL_EDIT,function(){n[0].focus(),n[0].style.width=n[0].parentElement.offsetWidth-1+"px",n.on("blur",function(e){i.stopEdit(e)})}),i.stopEdit=function(){i.$emit(t.events.END_CELL_EDIT)},n.on("keydown",function(n){switch(n.keyCode){case e.keymap.ESC:n.stopPropagation(),i.$emit(t.events.CANCEL_CELL_EDIT)}if(a&&a.grid.api.cellNav)n.uiGridTargetRenderContainerId=l.containerId,null!==a.cellNav.handleKeyDown(n)&&i.stopEdit(n);else switch(n.keyCode){case e.keymap.ENTER:case e.keymap.TAB:n.stopPropagation(),n.preventDefault(),i.stopEdit(n)}return!0})}}}}}]),e.directive("uiGridEditFileChooser",["gridUtil","uiGridConstants","uiGridEditConstants","$timeout",function(e,t,i){return{scope:!0,require:["?^uiGrid","?^uiGridRenderContainer"],compile:function(){return{pre:function(){},post:function(t,n,r,o){var a,l;o[0]&&(a=o[0]),o[1]&&(l=o[1]);var s=(a.grid,function(n){var r=n.srcElement||n.target;r&&r.files&&r.files.length>0?("function"==typeof t.col.colDef.editFileChooserCallback?t.col.colDef.editFileChooserCallback(t.row,t.col,r.files):e.logError("You need to set colDef.editFileChooserCallback to use the file chooser"),r.form.reset(),t.$emit(i.events.END_CELL_EDIT)):t.$emit(i.events.CANCEL_CELL_EDIT)});n[0].addEventListener("change",s,!1),t.$on(i.events.BEGIN_CELL_EDIT,function(){n[0].focus(),n[0].select(),n.on("blur",function(){t.$emit(i.events.END_CELL_EDIT)})})}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.expandable",["ui.grid"]);e.service("uiGridExpandableService",["gridUtil","$compile",function(e){var t={initializeGrid:function(i){i.expandable={},i.expandable.expandedAll=!1,i.options.enableExpandable=i.options.enableExpandable!==!1,i.options.expandableRowHeight=i.options.expandableRowHeight||150,i.options.expandableRowHeaderWidth=i.options.expandableRowHeaderWidth||40,i.options.enableExpandable&&!i.options.expandableRowTemplate&&(e.logError("You have not set the expandableRowTemplate, disabling expandable module"),i.options.enableExpandable=!1);var n={events:{expandable:{rowExpandedBeforeStateChanged:function(){},rowExpandedStateChanged:function(){}}},methods:{expandable:{toggleRowExpansion:function(e){var n=i.getRow(e);null!==n&&t.toggleRowExpansion(i,n)},expandAllRows:function(){t.expandAllRows(i)},collapseAllRows:function(){t.collapseAllRows(i)},toggleAllRows:function(){t.toggleAllRows(i)},expandRow:function(e){var n=i.getRow(e);null===n||n.isExpanded||t.toggleRowExpansion(i,n)},collapseRow:function(e){var n=i.getRow(e);null!==n&&n.isExpanded&&t.toggleRowExpansion(i,n)},getExpandedRows:function(){return t.getExpandedRows(i).map(function(e){return e.entity})}}}};i.api.registerEventsFromObject(n.events),i.api.registerMethodsFromObject(n.methods)},toggleRowExpansion:function(e,t){e.api.expandable.raise.rowExpandedBeforeStateChanged(t),t.isExpanded=!t.isExpanded,angular.isUndefined(t.expandedRowHeight)&&(t.expandedRowHeight=e.options.expandableRowHeight),t.isExpanded?t.height=t.grid.options.rowHeight+t.expandedRowHeight:(t.height=t.grid.options.rowHeight,e.expandable.expandedAll=!1),e.api.expandable.raise.rowExpandedStateChanged(t)},expandAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(i){i.isExpanded||t.toggleRowExpansion(e,i)}),e.expandable.expandedAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.renderContainers.body.visibleRowCache.forEach(function(i){i.isExpanded&&t.toggleRowExpansion(e,i)}),e.expandable.expandedAll=!1,e.queueGridRefresh()},toggleAllRows:function(e){e.expandable.expandedAll?t.collapseAllRows(e):t.expandAllRows(e)},getExpandedRows:function(e){return e.rows.filter(function(e){return e.isExpanded})}};return t}]),e.directive("uiGridExpandable",["uiGridExpandableService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,n,r,o){if(e.initializeGrid(o.grid),o.grid.options.enableExpandable&&o.grid.options.enableExpandableRowHeader!==!1){var a={name:"expandableButtons",displayName:"",exporterSuppressExport:!0,enableColumnResizing:!1,enableColumnMenu:!1,width:o.grid.options.expandableRowHeaderWidth||40};a.cellTemplate=t.get("ui-grid/expandableRowHeader"),a.headerCellTemplate=t.get("ui-grid/expandableTopRowHeader"),o.grid.addRowHeaderColumn(a,-90)}},post:function(){}}}}}]),e.directive("uiGrid",["uiGridExpandableService","$templateCache",function(){return{replace:!0,priority:599,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,t,i,n){n.grid.api.core.on.renderingComplete(e,function(){e.row&&e.row.grid&&e.row.grid.options&&e.row.grid.options.enableExpandable&&(n.grid.parentRow=e.row)})},post:function(){}}}}}]),e.directive("uiGridExpandableRow",["uiGridExpandableService","$timeout","$compile","uiGridConstants","gridUtil","$interval","$log",function(e,t,i,n,r){return{replace:!1,priority:0,scope:!1,compile:function(){return{pre:function(e,t){r.getTemplate(e.grid.options.expandableRowTemplate).then(function(n){if(e.grid.options.expandableRowScope){var r=e.grid.options.expandableRowScope;for(var o in r)r.hasOwnProperty(o)&&(e[o]=r[o])}var a=i(n)(e);t.append(a),e.row.expandedRendered=!0})},post:function(e){e.$on("$destroy",function(){e.row.expandedRendered=!1})}}}}}]),e.directive("uiGridRow",["$compile","gridUtil","$templateCache",function(){return{priority:-200,scope:!1,compile:function(){return{pre:function(e){e.grid.options.enableExpandable&&(e.expandableRow={},e.expandableRow.shouldRenderExpand=function(){var t="body"===e.colContainer.name&&e.grid.options.enableExpandable!==!1&&e.row.isExpanded&&(!e.grid.isScrollingVertically||e.row.expandedRendered);return t},e.expandableRow.shouldRenderFiller=function(){var t=e.row.isExpanded&&("body"!==e.colContainer.name||e.grid.isScrollingVertically&&!e.row.expandedRendered);return t})},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","gridUtil","$templateCache",function(e,t,i){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),n=i.get("ui-grid/expandableScrollFiller"),r=i.get("ui-grid/expandableRow");return t.append(r),t.append(n),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.exporter",["ui.grid"]);e.constant("uiGridExporterConstants",{featureName:"exporter",ALL:"all",VISIBLE:"visible",SELECTED:"selected",CSV_CONTENT:"CSV_CONTENT",BUTTON_LABEL:"BUTTON_LABEL",FILE_NAME:"FILE_NAME"}),e.service("uiGridExporterService",["$q","uiGridExporterConstants","gridUtil","$compile","$interval","i18nService",function(e,t,i,n,r,o){var a={delay:100,initializeGrid:function(e){e.exporter={},this.defaultGridOptions(e.options);var t={events:{exporter:{}},methods:{exporter:{csvExport:function(t,i){a.csvExport(e,t,i)},pdfExport:function(t,i){a.pdfExport(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods),e.api.core.addToGridMenu?a.addToMenu(e):r(function(){e.api.core.addToGridMenu&&a.addToMenu(e)},this.delay,1)},defaultGridOptions:function(e){e.exporterSuppressMenu=e.exporterSuppressMenu===!0,e.exporterMenuLabel=e.exporterMenuLabel?e.exporterMenuLabel:"Export",e.exporterSuppressColumns=e.exporterSuppressColumns?e.exporterSuppressColumns:[],e.exporterCsvColumnSeparator=e.exporterCsvColumnSeparator?e.exporterCsvColumnSeparator:",",e.exporterCsvFilename=e.exporterCsvFilename?e.exporterCsvFilename:"download.csv",e.exporterPdfFilename=e.exporterPdfFilename?e.exporterPdfFilename:"download.pdf",e.exporterOlderExcelCompatibility=e.exporterOlderExcelCompatibility===!0,e.exporterPdfDefaultStyle=e.exporterPdfDefaultStyle?e.exporterPdfDefaultStyle:{fontSize:11},e.exporterPdfTableStyle=e.exporterPdfTableStyle?e.exporterPdfTableStyle:{margin:[0,5,0,15]},e.exporterPdfTableHeaderStyle=e.exporterPdfTableHeaderStyle?e.exporterPdfTableHeaderStyle:{bold:!0,fontSize:12,color:"black"},e.exporterPdfHeader=e.exporterPdfHeader?e.exporterPdfHeader:null,e.exporterPdfFooter=e.exporterPdfFooter?e.exporterPdfFooter:null,e.exporterPdfOrientation=e.exporterPdfOrientation?e.exporterPdfOrientation:"landscape",e.exporterPdfPageSize=e.exporterPdfPageSize?e.exporterPdfPageSize:"A4",e.exporterPdfMaxGridWidth=e.exporterPdfMaxGridWidth?e.exporterPdfMaxGridWidth:720,e.exporterMenuAllData=void 0!==e.exporterMenuAllData?e.exporterMenuAllData:!0,e.exporterMenuVisibleData=void 0!==e.exporterMenuVisibleData?e.exporterMenuVisibleData:!0,e.exporterMenuSelectedData=void 0!==e.exporterMenuSelectedData?e.exporterMenuSelectedData:!0,e.exporterMenuCsv=void 0!==e.exporterMenuCsv?e.exporterMenuCsv:!0,e.exporterMenuPdf=void 0!==e.exporterMenuPdf?e.exporterMenuPdf:!0,e.exporterPdfCustomFormatter=e.exporterPdfCustomFormatter&&"function"==typeof e.exporterPdfCustomFormatter?e.exporterPdfCustomFormatter:function(e){return e},e.exporterHeaderFilterUseName=e.exporterHeaderFilterUseName===!0,e.exporterFieldCallback=e.exporterFieldCallback?e.exporterFieldCallback:function(e,t,i,n){return n},e.exporterAllDataFn=e.exporterAllDataFn?e.exporterAllDataFn:null,null==e.exporterAllDataFn&&e.exporterAllDataPromise&&(e.exporterAllDataFn=e.exporterAllDataPromise)},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:o.getSafeText("gridMenu.exporterAllAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuAllData},order:200},{title:o.getSafeText("gridMenu.exporterVisibleAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuVisibleData},order:201},{title:o.getSafeText("gridMenu.exporterSelectedAsCsv"),action:function(){this.grid.api.exporter.csvExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuCsv&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:202},{title:o.getSafeText("gridMenu.exporterAllAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.ALL,t.ALL)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuAllData},order:203},{title:o.getSafeText("gridMenu.exporterVisibleAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.VISIBLE,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuVisibleData},order:204},{title:o.getSafeText("gridMenu.exporterSelectedAsPdf"),action:function(){this.grid.api.exporter.pdfExport(t.SELECTED,t.VISIBLE)},shown:function(){return this.grid.options.exporterMenuPdf&&this.grid.options.exporterMenuSelectedData&&this.grid.api.selection&&this.grid.api.selection.getSelectedRows().length>0},order:205}])},csvExport:function(e,t,i){var n=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var r=e.options.showHeader?n.getColumnHeaders(e,i):[],o=n.getData(e,t,i),a=n.formatAsCsv(r,o,e.options.exporterCsvColumnSeparator);n.downloadFile(e.options.exporterCsvFilename,a,e.options.exporterCsvColumnSeparator,e.options.exporterOlderExcelCompatibility)})},loadAllDataIfNeeded:function(i,n){if(n===t.ALL&&i.rows.length!==i.options.totalItems&&i.options.exporterAllDataFn)return i.options.exporterAllDataFn().then(function(){i.modifyRows(i.options.data)});var r=e.defer();return r.resolve(),r.promise},getColumnHeaders:function(e,i){var n,r=[];if(i===t.ALL)n=e.columns;else{var o=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],a=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],l=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];n=o.concat(a,l)}return n.forEach(function(t){t.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(t.name)&&r.push({name:t.field,displayName:e.options.exporterHeaderFilter?e.options.exporterHeaderFilterUseName?e.options.exporterHeaderFilter(t.name):e.options.exporterHeaderFilter(t.displayName):t.displayName,width:t.drawnWidth?t.drawnWidth:t.width,align:"number"===t.colDef.type?"right":"left"})}),r},getData:function(e,n,r,o){var a,l,s=[];switch(n){case t.ALL:a=e.rows;break;case t.VISIBLE:a=e.getVisibleRows();break;case t.SELECTED:e.api.selection?a=e.api.selection.getSelectedGridRows():i.logError("selection feature must be enabled to allow selected rows to be exported")}if(r===t.ALL)l=e.columns;else{var d=e.renderContainers.left?e.renderContainers.left.visibleColumnCache.filter(function(e){return e.visible}):[],c=e.renderContainers.body?e.renderContainers.body.visibleColumnCache.filter(function(e){return e.visible}):[],u=e.renderContainers.right?e.renderContainers.right.visibleColumnCache.filter(function(e){return e.visible}):[];l=d.concat(c,u)}return a.forEach(function(i){if(i.exporterEnableExporting!==!1){var n=[];l.forEach(function(a){if((a.visible||r===t.ALL)&&a.colDef.exporterSuppressExport!==!0&&-1===e.options.exporterSuppressColumns.indexOf(a.name)){var l=o?e.getCellDisplayValue(i,a):e.getCellValue(i,a),s={value:e.options.exporterFieldCallback(e,i,a,l)};a.colDef.exporterPdfAlign&&(s.alignment=a.colDef.exporterPdfAlign),n.push(s)}}),s.push(n)}}),s},formatAsCsv:function(e,t,i){var n=this,r=e.map(function(e){return{value:e.displayName}}),o=r.length>0?n.formatRowAsCsv(this,i)(r)+"\n":"";return o+=t.map(this.formatRowAsCsv(this,i)).join("\n")},formatRowAsCsv:function(e,t){return function(i){return i.map(e.formatFieldAsCsv).join(t)}},formatFieldAsCsv:function(e){return null==e.value?"":"number"==typeof e.value?e.value:"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?'"'+e.value.replace(/"/g,'""')+'"':JSON.stringify(e.value)},isIE:function(){var e=navigator.userAgent.search(/(?:Edge|MSIE|Trident\/.*; rv:)/),t=!1;return-1!==e&&(t=!0),t},downloadFile:function(e,t,i,n){var r,o=document,a=o.createElement("a"),l="application/octet-stream;charset=utf-8",s=this.isIE();if(navigator.msSaveBlob)return navigator.msSaveOrOpenBlob(new Blob([n?"﻿":"",t],{type:l}),e);if(s){var d=o.createElement("iframe");return document.body.appendChild(d),d.contentWindow.document.open("text/html","replace"),d.contentWindow.document.write("sep="+i+"\r\n"+t),d.contentWindow.document.close(),d.contentWindow.focus(),d.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(d),!0}if("download"in a){var c=new Blob([n?"﻿":"",t],{type:l});r=URL.createObjectURL(c),a.setAttribute("download",e)}else r="data:"+l+","+encodeURIComponent(t),a.setAttribute("target","_blank");a.href=r,a.setAttribute("style","display:none;"),o.body.appendChild(a),setTimeout(function(){if(a.click)a.click();else if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),a.dispatchEvent(e)}o.body.removeChild(a)},this.delay)},pdfExport:function(e,t,i){var n=this;this.loadAllDataIfNeeded(e,t,i).then(function(){var r=n.getColumnHeaders(e,i),o=n.getData(e,t,i),a=n.prepareAsPdf(e,r,o);n.isIE()||-1!==navigator.appVersion.indexOf("Edge")?n.downloadPDF(e.options.exporterPdfFilename,a):pdfMake.createPdf(a).open()})},downloadPDF:function(e,t){{var i,n=document;n.createElement("a")}i=this.isIE();var r,o=pdfMake.createPdf(t);o.getBuffer(function(t){if(r=new Blob([t]),navigator.msSaveBlob)return navigator.msSaveBlob(r,e);if(i){var o=n.createElement("iframe");return document.body.appendChild(o),o.contentWindow.document.open("text/html","replace"),o.contentWindow.document.write(r),o.contentWindow.document.close(),o.contentWindow.focus(),o.contentWindow.document.execCommand("SaveAs",!0,e),document.body.removeChild(o),!0}})},prepareAsPdf:function(e,t,i){var n=this.calculatePdfHeaderWidths(e,t),r=t.map(function(e){return{text:e.displayName,style:"tableHeader"}}),o=i.map(this.formatRowAsPdf(this)),a=[r].concat(o),l={pageOrientation:e.options.exporterPdfOrientation,pageSize:e.options.exporterPdfPageSize,content:[{style:"tableStyle",table:{headerRows:1,widths:n,body:a}}],styles:{tableStyle:e.options.exporterPdfTableStyle,tableHeader:e.options.exporterPdfTableHeaderStyle},defaultStyle:e.options.exporterPdfDefaultStyle};return e.options.exporterPdfLayout&&(l.layout=e.options.exporterPdfLayout),e.options.exporterPdfHeader&&(l.header=e.options.exporterPdfHeader),e.options.exporterPdfFooter&&(l.footer=e.options.exporterPdfFooter),e.options.exporterPdfCustomFormatter&&(l=e.options.exporterPdfCustomFormatter(l)),l},calculatePdfHeaderWidths:function(e,t){var i=0;t.forEach(function(e){"number"==typeof e.width&&(i+=e.width)});var n=0;t.forEach(function(e){if("*"===e.width&&(n+=100),"string"==typeof e.width&&e.width.match(/(\d)*%/)){var t=parseInt(e.width.match(/(\d)*%/)[0]);e.width=i*t/100,n+=e.width}});var r=i+n;return t.map(function(t){return"*"===t.width?t.width:t.width*e.options.exporterPdfMaxGridWidth/r})},formatRowAsPdf:function(e){return function(t){return t.map(e.formatFieldAsPdfString)}},formatFieldAsPdfString:function(e){var t;return t=null==e.value?"":"number"==typeof e.value?e.value.toString():"boolean"==typeof e.value?e.value?"TRUE":"FALSE":"string"==typeof e.value?e.value.replace(/"/g,'""'):JSON.stringify(e.value).replace(/^"/,"").replace(/"$/,""),e.alignment&&"string"==typeof e.alignment&&(t={text:t,alignment:e.alignment}),t}};return a}]),e.directive("uiGridExporter",["uiGridExporterConstants","uiGridExporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,r){t.initializeGrid(r.grid),r.grid.exporter.$scope=e}}}])}(),function(){"use strict";var e=angular.module("ui.grid.grouping",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridGroupingConstants",{featureName:"grouping",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridGroupingService",["$q","uiGridGroupingConstants","gridUtil","rowSorter","GridRow","gridClassFactory","i18nService","uiGridConstants","uiGridTreeBaseService",function(e,t,i,n,r,o,a,l,s){var d={initializeGrid:function(e,t){s.initializeGrid(e,t),e.grouping={},e.grouping.groupHeaderCache={},d.defaultGridOptions(e.options),e.registerRowsProcessor(d.groupRows,400),e.registerColumnBuilder(d.groupingColumnBuilder),e.registerColumnsProcessor(d.groupingColumnProcessor,400);var i={events:{grouping:{aggregationChanged:{},groupingChanged:{}}},methods:{grouping:{getGrouping:function(t){var i=d.getGrouping(e);return i.grouping.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations.forEach(function(e){e.colName=e.col.name,delete e.col}),i.aggregations=i.aggregations.filter(function(e){return!e.aggregation.source||"grouping"!==e.aggregation.source}),t&&(i.rowExpandedStates=d.getRowExpandedStates(e.grouping.groupingHeaderCache)),i},setGrouping:function(t){d.setGrouping(e,t)},groupColumn:function(t){var i=e.getColumn(t);d.groupColumn(e,i)},ungroupColumn:function(t){var i=e.getColumn(t);d.ungroupColumn(e,i)},clearGrouping:function(){d.clearGrouping(e)},aggregateColumn:function(t,i,n){var r=e.getColumn(t);d.aggregateColumn(e,r,i,n)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods),e.api.core.on.sortChanged(t,d.tidyPriorities)},defaultGridOptions:function(e){e.enableGrouping=e.enableGrouping!==!1,e.groupingShowCounts=e.groupingShowCounts!==!1,e.groupingNullLabel="undefined"==typeof e.groupingNullLabel?"Null":e.groupingNullLabel,e.enableGroupHeaderSelection=e.enableGroupHeaderSelection===!0},groupingColumnBuilder:function(e,n,r){if(e.enableGrouping!==!1){"undefined"==typeof n.grouping&&"undefined"!=typeof e.grouping?(n.grouping=angular.copy(e.grouping),"undefined"!=typeof n.grouping.groupPriority&&n.grouping.groupPriority>-1&&(n.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn,n.treeAggregationFinalizerFn=d.groupedFinalizerFn)):"undefined"==typeof n.grouping&&(n.grouping={}),"undefined"!=typeof n.grouping&&"undefined"!=typeof n.grouping.groupPriority&&n.grouping.groupPriority>=0&&(n.suppressRemoveSort=!0);var o={name:"ui.grid.grouping.group",title:a.get().grouping.group,icon:"ui-grid-icon-indent-right",shown:function(){return"undefined"==typeof this.context.col.grouping||"undefined"==typeof this.context.col.grouping.groupPriority||this.context.col.grouping.groupPriority<0},action:function(){d.groupColumn(this.context.col.grid,this.context.col)}},l={name:"ui.grid.grouping.ungroup",title:a.get().grouping.ungroup,icon:"ui-grid-icon-indent-left",shown:function(){return"undefined"!=typeof this.context.col.grouping&&"undefined"!=typeof this.context.col.grouping.groupPriority&&this.context.col.grouping.groupPriority>=0},action:function(){d.ungroupColumn(this.context.col.grid,this.context.col)}},c={name:"ui.grid.grouping.aggregateRemove",title:a.get().grouping.aggregate_remove,shown:function(){return"undefined"!=typeof this.context.col.treeAggregationFn},action:function(){d.aggregateColumn(this.context.col.grid,this.context.col,null)}},u=function(e,t){t=t||a.get().grouping["aggregate_"+e]||e;var r={name:"ui.grid.grouping.aggregate"+e,title:t,shown:function(){return"undefined"==typeof this.context.col.treeAggregation||"undefined"==typeof this.context.col.treeAggregation.type||this.context.col.treeAggregation.type!==e},action:function(){d.aggregateColumn(this.context.col.grid,this.context.col,e)}};i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.aggregate"+e)||n.menuItems.push(r)};n.colDef.groupingShowGroupingMenu!==!1&&(i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.group")||n.menuItems.push(o),i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.ungroup")||n.menuItems.push(l)),n.colDef.groupingShowAggregationMenu!==!1&&(angular.forEach(s.nativeAggregations(),function(e,t){u(t)}),angular.forEach(r.treeCustomAggregations,function(e,t){u(t,e.menuTitle)}),i.arrayContainsObjectWithProperty(n.menuItems,"name","ui.grid.grouping.aggregateRemove")||n.menuItems.push(c))}},groupingColumnProcessor:function(e,t){return e=d.moveGroupColumns(this,e,t)},groupedFinalizerFn:function(e){var t=this;"undefined"!=typeof e.groupVal?(e.rendered=e.groupVal,t.grid.options.groupingShowCounts&&"date"!==t.colDef.type&&(e.rendered+=" ("+e.value+")")):e.rendered=null
},moveGroupColumns:function(e,t){return e.options.moveGroupColumns===!1?t:(t.forEach(function(e,t){e.groupingPosition=t}),t.sort(function(e,t){var i,n;return i=e.isRowHeader?e.headerPriority:"undefined"==typeof e.grouping||"undefined"==typeof e.grouping.groupPriority||e.grouping.groupPriority<0?null:e.grouping.groupPriority,n=t.isRowHeader?t.headerPriority:"undefined"==typeof t.grouping||"undefined"==typeof t.grouping.groupPriority||t.grouping.groupPriority<0?null:t.grouping.groupPriority,null!==i&&null===n?-1:null!==n&&null===i?1:null!==i&&null!==n?i-n:e.groupingPosition-t.groupingPosition}),t.forEach(function(e){delete e.groupingPosition}),t)},groupColumn:function(e,i){"undefined"==typeof i.grouping&&(i.grouping={});var n=d.getGrouping(e);i.grouping.groupPriority=n.grouping.length,i.sort?("undefined"==typeof i.sort.direction||null===i.sort.direction)&&(i.sort.direction=l.ASC):i.sort={direction:l.ASC},i.treeAggregation={type:t.aggregation.COUNT,source:"grouping"},i.treeAggregationFn=s.nativeAggregations()[t.aggregation.COUNT].aggregationFn,i.treeAggregationFinalizerFn=d.groupedFinalizerFn,e.api.grouping.raise.groupingChanged(i),e.api.core.raise.sortChanged(e,e.getColumnSorting()),e.queueGridRefresh()},ungroupColumn:function(e,t){"undefined"!=typeof t.grouping&&(delete t.grouping.groupPriority,delete t.treeAggregation,delete t.customTreeAggregationFinalizer,d.tidyPriorities(e),e.api.grouping.raise.groupingChanged(t),e.queueGridRefresh())},aggregateColumn:function(e,t,i){"undefined"!=typeof t.grouping&&"undefined"!=typeof t.grouping.groupPriority&&t.grouping.groupPriority>=0&&d.ungroupColumn(e,t);var n={};"undefined"!=typeof e.options.treeCustomAggregations[i]?n=e.options.treeCustomAggregations[i]:"undefined"!=typeof s.nativeAggregations()[i]&&(n=s.nativeAggregations()[i]),t.treeAggregation={type:i,label:a.get().aggregation[n.label]||n.label},t.treeAggregationFn=n.aggregationFn,t.treeAggregationFinalizerFn=n.finalizerFn,e.api.grouping.raise.aggregationChanged(t),e.queueGridRefresh()},setGrouping:function(e,t){"undefined"!=typeof t&&(d.clearGrouping(e),t.grouping&&t.grouping.length&&t.grouping.length>0&&t.grouping.forEach(function(t){var i=e.getColumn(t.colName);i&&d.groupColumn(e,i)}),t.aggregations&&t.aggregations.length&&t.aggregations.forEach(function(t){var i=e.getColumn(t.colName);i&&d.aggregateColumn(e,i,t.aggregation.type)}),t.rowExpandedStates&&d.applyRowExpandedStates(e.grouping.groupingHeaderCache,t.rowExpandedStates))},clearGrouping:function(e){var t=d.getGrouping(e);t.grouping.length>0&&t.grouping.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),d.ungroupColumn(e,t.col)}),t.aggregations.length>0&&t.aggregations.forEach(function(t){t.col||(t.col=e.getColumn(t.colName)),d.aggregateColumn(e,t.col,null)})},tidyPriorities:function(e){"undefined"!=typeof e&&"undefined"==typeof e.grid||"undefined"==typeof this.grid||(e=this.grid);var t=[],i=[];e.columns.forEach(function(e){"undefined"!=typeof e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0?t.push(e):"undefined"!=typeof e.sort&&"undefined"!=typeof e.sort.priority&&e.sort.priority>=0&&i.push(e)}),t.sort(function(e,t){return e.grouping.groupPriority-t.grouping.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.suppressRemoveSort=!0,"undefined"==typeof e.sort&&(e.sort={}),e.sort.priority=t});var n=t.length;i.sort(function(e,t){return e.sort.priority-t.sort.priority}),i.forEach(function(e){e.sort.priority=n,e.suppressRemoveSort=e.colDef.suppressRemoveSort,n++})},groupRows:function(e){if(0===e.length)return e;var t=this;t.grouping.oldGroupingHeaderCache=t.grouping.groupingHeaderCache||{},t.grouping.groupingHeaderCache={};for(var i=d.initialiseProcessingState(t),r=function(r,l){var s=t.getCellValue(a,r.col);r.initialised&&0===n.getSortFn(t,r.col,e)(s,r.currentValue)||(d.insertGroupHeader(t,e,o,i,l),o++)},o=0;o<e.length;o++){var a=e[o];a.visible&&i.forEach(r)}return delete t.grouping.oldGroupingHeaderCache,e},initialiseProcessingState:function(e){var t=[],i=d.getGrouping(e);return i.grouping.forEach(function(e){t.push({fieldName:e.field,col:e.col,initialised:!1,currentValue:null,currentRow:null})}),t},getGrouping:function(e){var t=[],i=[];return e.columns.forEach(function(e){e.grouping&&"undefined"!=typeof e.grouping.groupPriority&&e.grouping.groupPriority>=0&&t.push({field:e.field,col:e,groupPriority:e.grouping.groupPriority,grouping:e.grouping}),e.treeAggregation&&e.treeAggregation.type&&i.push({field:e.field,col:e,aggregation:e.treeAggregation})}),t.sort(function(e,t){return e.groupPriority-t.groupPriority}),t.forEach(function(e,t){e.grouping.groupPriority=t,e.groupPriority=t,delete e.grouping}),{grouping:t,aggregations:i}},insertGroupHeader:function(e,t,i,n,a){var l=(n[a].fieldName,n[a].col),s=e.getCellValue(t[i],l),c=s;("undefined"==typeof s||null===s)&&(c=e.options.groupingNullLabel);for(var u=function(e){return angular.isObject(e)?JSON.stringify(e):e},g=e.grouping.oldGroupingHeaderCache,p=0;a>p;p++)g&&g[u(n[p].currentValue)]&&(g=g[u(n[p].currentValue)].children);var f;for(g&&g[u(s)]?(f=g[u(s)].row,f.entity={}):(f=new r({},null,e),o.rowTemplateAssigner.call(e,f)),f.entity["$$"+n[a].col.uid]={groupVal:c},f.treeLevel=a,f.groupHeader=!0,f.internalRow=!0,f.enableCellEdit=!1,f.enableSelection=e.options.enableGroupHeaderSelection,n[a].initialised=!0,n[a].currentValue=s,n[a].currentRow=f,d.finaliseProcessingState(n,a+1),t.splice(i,0,f),g=e.grouping.groupingHeaderCache,p=0;a>p;p++)g=g[u(n[p].currentValue)].children;g[u(s)]={row:f,children:{}}},finaliseProcessingState:function(e,t){for(var i=t;i<e.length;i++)e[i].initialised=!1,e[i].currentRow=null,e[i].currentValue=null},getRowExpandedStates:function(e){if("undefined"==typeof e)return{};var t={};return angular.forEach(e,function(e,i){t[i]={state:e.row.treeNode.state},t[i].children=e.children?d.getRowExpandedStates(e.children):{}}),t},applyRowExpandedStates:function(e,t){"undefined"!=typeof t&&angular.forEach(t,function(t,i){e[i]&&(e[i].row.treeNode.state=t.state,t.children&&e[i].children&&d.applyRowExpandedStates(e[i].children,t.children))})}};return d}]),e.directive("uiGridGrouping",["uiGridGroupingConstants","uiGridGroupingService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){r.grid.options.enableGrouping!==!1&&t.initializeGrid(r.grid,e)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.importer",["ui.grid"]);e.constant("uiGridImporterConstants",{featureName:"importer"}),e.service("uiGridImporterService",["$q","uiGridConstants","uiGridImporterConstants","gridUtil","$compile","$interval","i18nService","$window",function(e,t,i,n,r,o,a,l){var s={initializeGrid:function(e,t){t.importer={$scope:e},this.defaultGridOptions(t.options);var i={events:{importer:{}},methods:{importer:{importFile:function(e){s.importThisFile(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.options.enableImporter&&t.options.importerShowMenu&&(t.api.core.addToGridMenu?s.addToMenu(t):o(function(){t.api.core.addToGridMenu&&s.addToMenu(t)},100,1))},defaultGridOptions:function(e){e.enableImporter||void 0===e.enableImporter?l.hasOwnProperty("File")&&l.hasOwnProperty("FileReader")&&l.hasOwnProperty("FileList")&&l.hasOwnProperty("Blob")?e.enableImporter=!0:(n.logError("The File APIs are not fully supported in this browser, grid importer cannot be used."),e.enableImporter=!1):e.enableImporter=!1,e.importerProcessHeaders=e.importerProcessHeaders||s.processHeaders,e.importerHeaderFilter=e.importerHeaderFilter||function(e){return e},e.importerErrorCallback&&"function"==typeof e.importerErrorCallback||delete e.importerErrorCallback,e.enableImporter!==!0||e.importerDataAddCallback||(n.logError("You have not set an importerDataAddCallback, importer is disabled"),e.enableImporter=!1),e.importerShowMenu=e.importerShowMenu!==!1,e.importerObjectCallback=e.importerObjectCallback||function(e,t){return t}},addToMenu:function(e){e.api.core.addToGridMenu(e,[{title:a.getSafeText("gridMenu.importerTitle"),order:150},{templateUrl:"ui-grid/importerMenuItemContainer",action:function(){this.grid.api.importer.importAFile(e)},order:151}])},importThisFile:function(e,t){if(!t)return n.logError("No file object provided to importThisFile, should be impossible, aborting"),void 0;var i=new FileReader;switch(t.type){case"application/json":i.onload=s.importJsonClosure(e);break;default:i.onload=s.importCsvClosure(e)}i.readAsText(t)},importJsonClosure:function(e){return function(t){var i,n=[],r=s.parseJson(e,t);null!==r&&(r.forEach(function(t){i=s.newObject(e),angular.extend(i,t),i=e.options.importerObjectCallback(e,i),n.push(i)}),s.addObjects(e,n))}},parseJson:function(e,t){var i;try{i=JSON.parse(t.target.result)}catch(n){return s.alertError(e,"importer.invalidJson","File could not be processed, is it valid json? Content was: ",t.target.result),void 0}return Array.isArray(i)?i:(s.alertError(e,"importer.jsonNotarray","Import failed, file is not an array, file was: ",t.target.result),[])},importCsvClosure:function(e){return function(t){var i=s.parseCsv(t);if(!i||i.length<1)return s.alertError(e,"importer.invalidCsv","File could not be processed, is it valid csv? Content was: ",t.target.result),void 0;var n=s.createCsvObjects(e,i);return n&&0!==n.length?(s.addObjects(e,n),void 0):(s.alertError(e,"importer.noObjects","Objects were not able to be derived, content was: ",t.target.result),void 0)}},parseCsv:function(e){var t=e.target.result;return CSV.parse(t)},createCsvObjects:function(e,t){var i=e.options.importerProcessHeaders(e,t.shift());if(!i||0===i.length)return s.alertError(e,"importer.noHeaders","Column names could not be derived, content was: ",t),[];var n,r=[];return t.forEach(function(t){n=s.newObject(e),null!==t&&t.forEach(function(e,t){null!==i[t]&&(n[i[t]]=e)}),n=e.options.importerObjectCallback(e,n),r.push(n)}),r},processHeaders:function(e,t){var i=[];if(e.options.columnDefs&&0!==e.options.columnDefs.length){var n=s.flattenColumnDefs(e,e.options.columnDefs);return t.forEach(function(e){n[e]?i.push(n[e]):n[e.toLowerCase()]?i.push(n[e.toLowerCase()]):i.push(null)}),i}return t.forEach(function(e){i.push(e.replace(/[^0-9a-zA-Z\-_]/g,"_"))}),i},flattenColumnDefs:function(e,t){var i={};return t.forEach(function(t){t.name&&(i[t.name]=t.field||t.name,i[t.name.toLowerCase()]=t.field||t.name),t.field&&(i[t.field]=t.field||t.name,i[t.field.toLowerCase()]=t.field||t.name),t.displayName&&(i[t.displayName]=t.field||t.name,i[t.displayName.toLowerCase()]=t.field||t.name),t.displayName&&e.options.importerHeaderFilter&&(i[e.options.importerHeaderFilter(t.displayName)]=t.field||t.name,i[e.options.importerHeaderFilter(t.displayName).toLowerCase()]=t.field||t.name)}),i},addObjects:function(e,i){if(e.api.rowEdit){var n=e.registerDataChangeCallback(function(){e.api.rowEdit.setRowsDirty(i),n()},[t.dataChange.ROW]);e.importer.$scope.$on("$destroy",n)}e.importer.$scope.$apply(e.options.importerDataAddCallback(e,i))},newObject:function(e){return"undefined"!=typeof e.options&&"undefined"!=typeof e.options.importerNewObject?new e.options.importerNewObject:{}},alertError:function(e,t,i,r){e.options.importerErrorCallback?e.options.importerErrorCallback(e,t,i,r):(l.alert(a.getSafeText(t)),n.logError(i+r))}};return s}]),e.directive("uiGridImporter",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,r){t.initializeGrid(e,r.grid)}}}]),e.directive("uiGridImporterMenuItem",["uiGridImporterConstants","uiGridImporterService","gridUtil","$compile",function(e,t,i){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,templateUrl:"ui-grid/importerMenuItem",link:function(e,n,r,o){var a=function(e){var i=e.srcElement||e.target;if(i&&i.files&&1===i.files.length){var n=i.files[0];t.importThisFile(s,n),i.form.reset()}},l=n[0].querySelectorAll(".ui-grid-importer-file-chooser"),s=o.grid;1!==l.length?i.logError("Found > 1 or < 1 file choosers within the menu item, error, cannot continue"):l[0].addEventListener("change",a,!1)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.infiniteScroll",["ui.grid"]);e.service("uiGridInfiniteScrollService",["gridUtil","$compile","$timeout","uiGridConstants","ScrollEvent","$q",function(e,t,i,n,r,o){var a={initializeGrid:function(e,t){if(a.defaultGridOptions(e.options),e.options.enableInfiniteScroll){e.infiniteScroll={dataLoading:!1},a.setScrollDirections(e,e.options.infiniteScrollUp,e.options.infiniteScrollDown),e.api.core.on.scrollEnd(t,a.handleScroll);var i={events:{infiniteScroll:{needLoadMoreData:function(){},needLoadMoreDataTop:function(){}}},methods:{infiniteScroll:{dataLoaded:function(t,i){a.setScrollDirections(e,t,i);var n=a.adjustScroll(e).then(function(){e.infiniteScroll.dataLoading=!1});return n},resetScroll:function(t,i){return a.setScrollDirections(e,t,i),a.adjustInfiniteScrollPosition(e,0)},saveScrollPercentage:function(){e.infiniteScroll.prevScrollTop=e.renderContainers.body.prevScrollTop,e.infiniteScroll.previousVisibleRows=e.getVisibleRowCount()},dataRemovedTop:function(t,i){a.dataRemovedTop(e,t,i)},dataRemovedBottom:function(t,i){a.dataRemovedBottom(e,t,i)},setScrollDirections:function(t,i){a.setScrollDirections(e,t,i)}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)}},defaultGridOptions:function(e){e.enableInfiniteScroll=e.enableInfiniteScroll!==!1,e.infiniteScrollRowsFromEnd=e.infiniteScrollRowsFromEnd||20,e.infiniteScrollUp=e.infiniteScrollUp===!0,e.infiniteScrollDown=e.infiniteScrollDown!==!1},setScrollDirections:function(e,t,i){e.infiniteScroll.scrollUp=t===!0,e.suppressParentScrollUp=t===!0,e.infiniteScroll.scrollDown=i!==!1,e.suppressParentScrollDown=i!==!1},handleScroll:function(e){if(!(e.grid.infiniteScroll&&e.grid.infiniteScroll.dataLoading||"ui.grid.adjustInfiniteScrollPosition"===e.source)&&e.y)if(0===e.y.percentage)e.grid.scrollDirection=n.scrollDirection.UP,a.loadData(e.grid);else if(1===e.y.percentage)e.grid.scrollDirection=n.scrollDirection.DOWN,a.loadData(e.grid);else{var t,i=e.grid.options.infiniteScrollRowsFromEnd/e.grid.renderContainers.body.visibleRowCache.length;e.grid.scrollDirection===n.scrollDirection.UP?(t=e.y.percentage,i>=t&&a.loadData(e.grid)):e.grid.scrollDirection===n.scrollDirection.DOWN&&(t=1-e.y.percentage,i>=t&&a.loadData(e.grid))}},loadData:function(e){e.infiniteScroll.previousVisibleRows=e.renderContainers.body.visibleRowCache.length,e.infiniteScroll.direction=e.scrollDirection,delete e.infiniteScroll.prevScrollTop,e.scrollDirection===n.scrollDirection.UP&&e.infiniteScroll.scrollUp?(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreDataTop()):e.scrollDirection===n.scrollDirection.DOWN&&e.infiniteScroll.scrollDown&&(e.infiniteScroll.dataLoading=!0,e.api.infiniteScroll.raise.needLoadMoreData())},adjustScroll:function(e){var t=o.defer();return i(function(){var r,o,l,s,d;r=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,o=e.options.rowHeight,void 0===e.infiniteScroll.direction&&a.adjustInfiniteScrollPosition(e,0),l=e.getVisibleRowCount();var c=o*l;e.infiniteScroll.scrollDown&&r>c&&e.api.infiniteScroll.raise.needLoadMoreData(),e.infiniteScroll.direction===n.scrollDirection.UP&&(s=e.infiniteScroll.prevScrollTop||0,d=s+(l-e.infiniteScroll.previousVisibleRows)*o,a.adjustInfiniteScrollPosition(e,d),i(function(){t.resolve()})),e.infiniteScroll.direction===n.scrollDirection.DOWN&&(d=e.infiniteScroll.prevScrollTop||e.infiniteScroll.previousVisibleRows*o-r,a.adjustInfiniteScrollPosition(e,d),i(function(){t.resolve()}))},0),t.promise},adjustInfiniteScrollPosition:function(e,t){var i=new r(e,null,null,"ui.grid.adjustInfiniteScrollPosition"),n=e.getVisibleRowCount(),o=e.getViewportHeight()+e.headerHeight-e.renderContainers.body.headerHeight-e.scrollbarHeight,a=e.options.rowHeight,l=n*a-o;i.y=0===t&&e.infiniteScroll.scrollUp?{percentage:1/l}:{percentage:t/l},e.scrollContainers("",i)},dataRemovedTop:function(e,t,i){var n,r,o,l;return a.setScrollDirections(e,t,i),n=e.renderContainers.body.visibleRowCache.length,r=e.infiniteScroll.prevScrollTop,l=e.options.rowHeight,o=r-(e.infiniteScroll.previousVisibleRows-n)*l,a.adjustInfiniteScrollPosition(e,o)},dataRemovedBottom:function(e,t,i){var n;return a.setScrollDirections(e,t,i),n=e.infiniteScroll.prevScrollTop,a.adjustInfiniteScrollPosition(e,n)}};return a}]),e.directive("uiGridInfiniteScroll",["uiGridInfiniteScrollService",function(e){return{priority:-200,scope:!1,require:"^uiGrid",compile:function(){return{pre:function(t,i,n,r){e.initializeGrid(r.grid,t)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.moveColumns",["ui.grid"]);e.service("uiGridMoveColumnService",["$q","$timeout","$log","ScrollEvent","uiGridConstants","gridUtil",function(e,t,i,n,r,o){var a={initializeGrid:function(e){var t=this;this.registerPublicApi(e),this.defaultGridOptions(e.options),e.moveColumns={orderCache:[]},e.registerColumnBuilder(t.movableColumnBuilder),e.registerDataChangeCallback(t.verifyColumnOrder,[r.dataChange.COLUMN])},registerPublicApi:function(e){var t=this,i={events:{colMovable:{columnPositionChanged:function(){}}},methods:{colMovable:{moveColumn:function(i,n){var r=e.columns;if(!angular.isNumber(i)||!angular.isNumber(n))return o.logError("MoveColumn: Please provide valid values for originalPosition and finalPosition"),void 0;for(var a=0,l=0;l<r.length;l++)(angular.isDefined(r[l].colDef.visible)&&r[l].colDef.visible===!1||r[l].isRowHeader===!0)&&a++;if(i>=r.length-a||n>=r.length-a)return o.logError("MoveColumn: Invalid values for originalPosition, finalPosition"),void 0;var s=function(e){for(var t=e,i=0;t>=i;i++)angular.isDefined(r[i])&&(angular.isDefined(r[i].colDef.visible)&&r[i].colDef.visible===!1||r[i].isRowHeader===!0)&&t++;return t};t.redrawColumnAtPosition(e,s(i),s(n))}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableColumnMoving=e.enableColumnMoving!==!1},movableColumnBuilder:function(t,i,n){var r=[];return t.enableColumnMoving=void 0===t.enableColumnMoving?n.enableColumnMoving:t.enableColumnMoving,e.all(r)},updateColumnCache:function(e){e.moveColumns.orderCache=e.getOnlyDataColumns()},verifyColumnOrder:function(e){var t,i=e.rowHeaderColumns.length;angular.forEach(e.moveColumns.orderCache,function(n,r){if(t=e.columns.indexOf(n),-1!==t&&t-i!==r){var o=e.columns.splice(t,1)[0];e.columns.splice(r+i,0,o)}})},redrawColumnAtPosition:function(e,i,n){var o=e.columns;if(i!==n){var l=Math.min(i,n);for(l;l<Math.max(i,n)&&!o[l].visible;l++);if(l!==Math.max(i,n)){var s=o[i];if(s.colDef.enableColumnMoving){if(i>n)for(var d=i;d>n;d--)o[d]=o[d-1];else if(n>i)for(var c=i;n>c;c++)o[c]=o[c+1];o[n]=s,a.updateColumnCache(e),e.queueGridRefresh(),t(function(){e.api.core.notifyDataChange(r.dataChange.COLUMN),e.api.colMovable.raise.columnPositionChanged(s.colDef,i,n)})}}}}};return a}]),e.directive("uiGridMoveColumns",["uiGridMoveColumnService",function(e){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(t,i,n,r){e.initializeGrid(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["$q","gridUtil","uiGridMoveColumnService","$document","$log","uiGridConstants","ScrollEvent",function(e,t,i,n,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,t,r,o){if(e.col.colDef.enableColumnMoving){var l,s,d,c,u,g,p=angular.element(t[0].querySelectorAll(".ui-grid-cell-contents")),f=!1,h=!1,m=function(t){l=e.grid.element[0].getBoundingClientRect().left,e.grid.hasLeftContainer()&&(l+=e.grid.renderContainers.left.header[0].getBoundingClientRect().width),s=t.pageX,d=0,c=l+e.grid.getViewportWidth(),"mousedown"===t.type?(n.on("mousemove",v),n.on("mouseup",w)):"touchstart"===t.type&&(n.on("touchmove",v),n.on("touchend",w))},v=function(e){var t=e.pageX-s;0!==t&&(document.onselectstart=function(){return!1},h=!0,f?f&&(x(t),s=e.pageX):y())},w=function(){if(document.onselectstart=null,u&&(u.remove(),f=!1),C(),b(),h){for(var t=e.grid.columns,n=0,r=0;r<t.length&&t[r].colDef.name!==e.col.colDef.name;r++)n++;var o;if(0>d){var a,l=0;if(e.grid.isRTL()){for(a=n+1;a<t.length;a++)if((angular.isUndefined(t[a].colDef.visible)||t[a].colDef.visible===!0)&&(l+=t[a].drawnWidth||t[a].width||t[a].colDef.width,l>Math.abs(d))){i.redrawColumnAtPosition(e.grid,n,a-1);break}}else for(a=n-1;a>=0;a--)if((angular.isUndefined(t[a].colDef.visible)||t[a].colDef.visible===!0)&&(l+=t[a].drawnWidth||t[a].width||t[a].colDef.width,l>Math.abs(d))){i.redrawColumnAtPosition(e.grid,n,a+1);break}l<Math.abs(d)&&(o=0,e.grid.isRTL()&&(o=t.length-1),i.redrawColumnAtPosition(e.grid,n,o))}else if(d>0){var s,c=0;if(e.grid.isRTL()){for(s=n-1;s>0;s--)if((angular.isUndefined(t[s].colDef.visible)||t[s].colDef.visible===!0)&&(c+=t[s].drawnWidth||t[s].width||t[s].colDef.width,c>d)){i.redrawColumnAtPosition(e.grid,n,s);break}}else for(s=n+1;s<t.length;s++)if((angular.isUndefined(t[s].colDef.visible)||t[s].colDef.visible===!0)&&(c+=t[s].drawnWidth||t[s].width||t[s].colDef.width,c>d)){i.redrawColumnAtPosition(e.grid,n,s-1);break}d>c&&(o=t.length-1,e.grid.isRTL()&&(o=0),i.redrawColumnAtPosition(e.grid,n,o))}}},b=function(){p.on("touchstart",m),p.on("mousedown",m)},C=function(){p.off("touchstart",m),p.off("mousedown",m),n.off("mousemove",v),n.off("touchmove",v),n.off("mouseup",w),n.off("touchend",w)};b();var y=function(){f=!0,u=t.clone(),t.parent().append(u),u.addClass("movingColumn");var i={};i.left=t[0].offsetLeft+"px";var n=e.grid.element[0].getBoundingClientRect().right,r=t[0].getBoundingClientRect().right;r>n&&(g=e.col.drawnWidth+(n-r),i.width=g+"px"),u.css(i)},x=function(t){for(var i=e.grid.columns,n=0,r=0;r<i.length;r++)(angular.isUndefined(i[r].colDef.visible)||i[r].colDef.visible===!0)&&(n+=i[r].drawnWidth||i[r].width||i[r].colDef.width);var s,p=u[0].getBoundingClientRect().left-1,f=u[0].getBoundingClientRect().right;if(s=p-l+t,s=c>s?s:c,(p>=l||t>0)&&(c>=f||0>t))u.css({visibility:"visible",left:u[0].offsetLeft+(c>s?t:c-p)+"px"});else if(n>Math.ceil(o.grid.gridWidth)){t*=8;var h=new a(e.col.grid,null,null,"uiGridHeaderCell.moveElement");h.x={pixels:t},h.grid.scrollContainers("",h)}for(var m=0,v=0;v<i.length;v++)if(angular.isUndefined(i[v].colDef.visible)||i[v].colDef.visible===!0){if(i[v].colDef.name===e.col.colDef.name)break;m+=i[v].drawnWidth||i[v].width||i[v].colDef.width}void 0===e.newScrollLeft?d+=t:d=e.newScrollLeft+s-m,g<e.col.drawnWidth&&(g+=Math.abs(t),u.css({width:g+"px"}))}}}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pagination",["ng","ui.grid"]);e.service("uiGridPaginationService",["gridUtil",function(e){var t={initializeGrid:function(e){t.defaultGridOptions(e.options);var i={events:{pagination:{paginationChanged:function(){}}},methods:{pagination:{getPage:function(){return e.options.enablePagination?e.options.paginationCurrentPage:null},getTotalPages:function(){return e.options.enablePagination?0===e.options.totalItems?1:Math.ceil(e.options.totalItems/e.options.paginationPageSize):null},nextPage:function(){e.options.enablePagination&&(e.options.totalItems>0?e.options.paginationCurrentPage=Math.min(e.options.paginationCurrentPage+1,i.methods.pagination.getTotalPages()):e.options.paginationCurrentPage++)},previousPage:function(){e.options.enablePagination&&(e.options.paginationCurrentPage=Math.max(e.options.paginationCurrentPage-1,1))},seek:function(t){if(e.options.enablePagination){if(!angular.isNumber(t)||1>t)throw"Invalid page number: "+t;e.options.paginationCurrentPage=Math.min(t,i.methods.pagination.getTotalPages())}}}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods);var n=function(t){if(e.options.useExternalPagination||!e.options.enablePagination)return t;var i=parseInt(e.options.paginationPageSize,10),n=parseInt(e.options.paginationCurrentPage,10),r=t.filter(function(e){return e.visible});e.options.totalItems=r.length;var o=(n-1)*i;return o>r.length&&(n=e.options.paginationCurrentPage=1,o=(n-1)*i),r.slice(o,o+i)};e.registerRowsProcessor(n,900)},defaultGridOptions:function(t){t.enablePagination=t.enablePagination!==!1,t.enablePaginationControls=t.enablePaginationControls!==!1,t.useExternalPagination=t.useExternalPagination===!0,e.isNullOrUndefined(t.totalItems)&&(t.totalItems=0),e.isNullOrUndefined(t.paginationPageSizes)&&(t.paginationPageSizes=[250,500,1e3]),e.isNullOrUndefined(t.paginationPageSize)&&(t.paginationPageSize=t.paginationPageSizes.length>0?t.paginationPageSizes[0]:0),e.isNullOrUndefined(t.paginationCurrentPage)&&(t.paginationCurrentPage=1),e.isNullOrUndefined(t.paginationTemplate)&&(t.paginationTemplate="ui-grid/pagination")},onPaginationChanged:function(e,t,i){e.api.pagination.raise.paginationChanged(t,i),e.options.useExternalPagination||e.queueGridRefresh()}};return t}]),e.directive("uiGridPagination",["gridUtil","uiGridPaginationService",function(e,t){return{priority:-200,scope:!1,require:"uiGrid",link:{pre:function(i,n,r,o){t.initializeGrid(o.grid),e.getTemplate(o.grid.options.paginationTemplate).then(function(e){var t=angular.element(e);n.append(t),o.innerCompile(t)})}}}}]),e.directive("uiGridPager",["uiGridPaginationService","uiGridConstants","gridUtil","i18nService",function(e,t,i,n){return{priority:-200,scope:!0,require:"^uiGrid",link:function(r,o,a,l){var s=".ui-grid-pager-control-input";r.aria=n.getSafeText("pagination.aria"),r.paginationApi=l.grid.api.pagination,r.sizesLabel=n.getSafeText("pagination.sizes"),r.totalItemsLabel=n.getSafeText("pagination.totalItems"),r.paginationOf=n.getSafeText("pagination.of"),r.paginationThrough=n.getSafeText("pagination.through");var d=l.grid.options;l.grid.renderContainers.body.registerViewportAdjuster(function(e){return e.height=e.height-i.elementHeight(o,"padding"),e});var c=l.grid.registerDataChangeCallback(function(e){e.options.useExternalPagination||(e.options.totalItems=e.rows.length)},[t.dataChange.ROW]);r.$on("$destroy",c);var u=function(){r.showingLow=(d.paginationCurrentPage-1)*d.paginationPageSize+1,r.showingHigh=Math.min(d.paginationCurrentPage*d.paginationPageSize,d.totalItems)},g=r.$watch("grid.options.totalItems + grid.options.paginationPageSize",u),p=r.$watch("grid.options.paginationCurrentPage + grid.options.paginationPageSize",function(t,i){if(t!==i&&void 0!==i){if(!angular.isNumber(d.paginationCurrentPage)||d.paginationCurrentPage<1)return d.paginationCurrentPage=1,void 0;if(d.totalItems>0&&d.paginationCurrentPage>r.paginationApi.getTotalPages())return d.paginationCurrentPage=r.paginationApi.getTotalPages(),void 0;u(),e.onPaginationChanged(r.grid,d.paginationCurrentPage,d.paginationPageSize)}});r.$on("$destroy",function(){g(),p()}),r.cantPageForward=function(){return d.totalItems>0?d.paginationCurrentPage>=r.paginationApi.getTotalPages():d.data.length<1},r.cantPageToLast=function(){return d.totalItems>0?r.cantPageForward():!0},r.cantPageBackward=function(){return d.paginationCurrentPage<=1};var f=function(e){e&&i.focus.bySelector(o,s)};r.pageFirstPageClick=function(){r.paginationApi.seek(1),f(r.cantPageBackward())},r.pagePreviousPageClick=function(){r.paginationApi.previousPage(),f(r.cantPageBackward())},r.pageNextPageClick=function(){r.paginationApi.nextPage(),f(r.cantPageForward())},r.pageLastPageClick=function(){r.paginationApi.seek(r.paginationApi.getTotalPages()),f(r.cantPageToLast())}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.pinning",["ui.grid"]);e.constant("uiGridPinningConstants",{container:{LEFT:"left",RIGHT:"right",NONE:""}}),e.service("uiGridPinningService",["gridUtil","GridRenderContainer","i18nService","uiGridPinningConstants",function(e,t,i,n){var r={initializeGrid:function(e){r.defaultGridOptions(e.options),e.registerColumnBuilder(r.pinningColumnBuilder);var t={events:{pinning:{columnPinned:function(){}}},methods:{pinning:{pinColumn:function(t,i){r.pinColumn(e,t,i)}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.enablePinning=e.enablePinning!==!1},pinningColumnBuilder:function(t,o,a){if(t.enablePinning=void 0===t.enablePinning?a.enablePinning:t.enablePinning,t.pinnedLeft?(o.renderContainer="left",o.grid.createLeftContainer()):t.pinnedRight&&(o.renderContainer="right",o.grid.createRightContainer()),t.enablePinning){var l={name:"ui.grid.pinning.pinLeft",title:i.get().pinning.pinLeft,icon:"ui-grid-icon-left-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"left"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,n.container.LEFT)}},s={name:"ui.grid.pinning.pinRight",title:i.get().pinning.pinRight,icon:"ui-grid-icon-right-open",shown:function(){return"undefined"==typeof this.context.col.renderContainer||!this.context.col.renderContainer||"right"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,n.container.RIGHT)}},d={name:"ui.grid.pinning.unpin",title:i.get().pinning.unpin,icon:"ui-grid-icon-cancel",shown:function(){return"undefined"!=typeof this.context.col.renderContainer&&null!==this.context.col.renderContainer&&"body"!==this.context.col.renderContainer},action:function(){r.pinColumn(this.context.col.grid,this.context.col,n.container.NONE)}};e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinLeft")||o.menuItems.push(l),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.pinRight")||o.menuItems.push(s),e.arrayContainsObjectWithProperty(o.menuItems,"name","ui.grid.pinning.unpin")||o.menuItems.push(d)}},pinColumn:function(e,t,i){i===n.container.NONE?(t.renderContainer=null,t.colDef.pinnedLeft=t.colDef.pinnedRight=!1):(t.renderContainer=i,i===n.container.LEFT?e.createLeftContainer():i===n.container.RIGHT&&e.createRightContainer()),e.refresh().then(function(){e.api.pinning.raise.columnPinned(t.colDef,i)})}};return r}]),e.directive("uiGridPinning",["gridUtil","uiGridPinningService",function(e,t){return{require:"uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(r.grid)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.resizeColumns",["ui.grid"]);e.service("uiGridResizeColumnsService",["gridUtil","$q","$timeout",function(e,t,i){var n={defaultGridOptions:function(e){e.enableColumnResizing=e.enableColumnResizing!==!1,e.enableColumnResize===!1&&(e.enableColumnResizing=!1)},colResizerColumnBuilder:function(e,i,n){var r=[];return e.enableColumnResizing=void 0===e.enableColumnResizing?n.enableColumnResizing:e.enableColumnResizing,e.enableColumnResize===!1&&(e.enableColumnResizing=!1),t.all(r)},registerPublicApi:function(e){var t={events:{colResizable:{columnSizeChanged:function(){}}}};e.api.registerEventsFromObject(t.events)},fireColumnSizeChanged:function(t,n,r){i(function(){t.api.colResizable?t.api.colResizable.raise.columnSizeChanged(n,r):e.logError("The resizeable api is not registered, this may indicate that you've included the module but not added the 'ui-grid-resize-columns' directive to your grid definition.  Cannot raise any events.")})},findTargetCol:function(e,t,i){var n=e.getRenderContainer();if("left"===t){var r=n.visibleColumnCache.indexOf(e);return n.visibleColumnCache[r-1*i]}return e}};return n}]),e.directive("uiGridResizeColumns",["gridUtil","uiGridResizeColumnsService",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.defaultGridOptions(r.grid.options),r.grid.registerColumnBuilder(t.colResizerColumnBuilder),t.registerPublicApi(r.grid)},post:function(){}}}}}]),e.directive("uiGridHeaderCell",["gridUtil","$templateCache","$compile","$q","uiGridResizeColumnsService","uiGridConstants","$timeout",function(e,t,i,n,r,o,a){return{priority:-10,require:"^uiGrid",compile:function(){return{post:function(e,n,l,s){var d=s.grid;
if(d.options.enableColumnResizing){var c=t.get("ui-grid/columnResizer"),u=1;d.isRTL()&&(e.position="left",u=-1);var g=function(){for(var t=n[0].getElementsByClassName("ui-grid-column-resizer"),o=0;o<t.length;o++)angular.element(t[o]).remove();var a=r.findTargetCol(e.col,"left",u),l=e.col.getRenderContainer();if(a&&0!==l.visibleColumnCache.indexOf(e.col)&&a.colDef.enableColumnResizing!==!1){var s=angular.element(c).clone();s.attr("position","left"),n.prepend(s),i(s)(e)}if(e.col.colDef.enableColumnResizing!==!1){var d=angular.element(c).clone();d.attr("position","right"),n.append(d),i(d)(e)}};g();var p=function(){a(g)},f=d.registerDataChangeCallback(p,[o.dataChange.COLUMN]);e.$on("$destroy",f)}}}}}}]),e.directive("uiGridColumnResizer",["$document","gridUtil","uiGridConstants","uiGridResizeColumnsService",function(e,t,i,n){var r=angular.element('<div class="ui-grid-resize-overlay"></div>'),o={priority:0,scope:{col:"=",position:"@",renderIndex:"="},require:"?^uiGrid",link:function(o,a,l,s){function d(){s.grid.refreshCanvas(!0).then(function(){s.grid.queueGridRefresh()})}function c(e,t){var i=t;return e.minWidth&&i<e.minWidth?i=e.minWidth:e.maxWidth&&i>e.maxWidth&&(i=e.maxWidth),i}function u(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),f=(e.targetTouches?e.targetTouches[0]:e).clientX-h,0>f?f=0:f>s.grid.gridWidth&&(f=s.grid.gridWidth);var t=n.findTargetCol(o.col,o.position,m);if(t.colDef.enableColumnResizing!==!1){s.grid.element.hasClass("column-resizing")||s.grid.element.addClass("column-resizing");var a=f-p,l=parseInt(t.drawnWidth+a*m,10);f+=(c(t,l)-l)*m,r.css({left:f+"px"}),s.fireEvent(i.events.ITEM_DRAGGING)}}function g(e){e.originalEvent&&(e=e.originalEvent),e.preventDefault(),s.grid.element.removeClass("column-resizing"),r.remove(),f=(e.changedTouches?e.changedTouches[0]:e).clientX-h;var t=f-p;if(0===t)return b(),w(),void 0;var i=n.findTargetCol(o.col,o.position,m);if(i.colDef.enableColumnResizing!==!1){var a=parseInt(i.drawnWidth+t*m,10);i.width=c(i,a),i.hasCustomWidth=!0,d(t),n.fireColumnSizeChanged(s.grid,i.colDef,t),b(),w()}}var p=0,f=0,h=0,m=1;s.grid.isRTL()&&(o.position="left",m=-1),"left"===o.position?a.addClass("left"):"right"===o.position&&a.addClass("right");var v=function(t){t.originalEvent&&(t=t.originalEvent),t.stopPropagation(),h=s.grid.element[0].getBoundingClientRect().left,p=(t.targetTouches?t.targetTouches[0]:t).clientX-h,s.grid.element.append(r),r.css({left:p}),"touchstart"===t.type?(e.on("touchend",g),e.on("touchmove",u),a.off("mousedown",v)):(e.on("mouseup",g),e.on("mousemove",u),a.off("touchstart",v))},w=function(){a.on("mousedown",v),a.on("touchstart",v)},b=function(){e.off("mouseup",g),e.off("touchend",g),e.off("mousemove",u),e.off("touchmove",u),a.off("mousedown",v),a.off("touchstart",v)};w();var C=function(e){e.stopPropagation();var r=n.findTargetCol(o.col,o.position,m);if(r.colDef.enableColumnResizing!==!1){var l=0,u=0,g=t.closestElm(a,".ui-grid-render-container"),p=g.querySelectorAll("."+i.COL_CLASS_PREFIX+r.uid+" .ui-grid-cell-contents");Array.prototype.forEach.call(p,function(e){var i;angular.element(e).parent().hasClass("ui-grid-header-cell")&&(i=angular.element(e).parent()[0].querySelectorAll(".ui-grid-column-menu-button")),t.fakeElement(e,{},function(e){var n=angular.element(e);n.attr("style","float: left");var r=t.elementWidth(n);if(i){var o=t.elementWidth(i);r+=o}r>l&&(l=r,u=l-r)})}),r.width=c(r,l),r.hasCustomWidth=!0,d(u),n.fireColumnSizeChanged(s.grid,r.colDef,u)}};a.on("dblclick",C),a.on("$destroy",function(){a.off("dblclick",C),b()})}};return o}])}(),function(){"use strict";var e=angular.module("ui.grid.rowEdit",["ui.grid","ui.grid.edit","ui.grid.cellNav"]);e.constant("uiGridRowEditConstants",{}),e.service("uiGridRowEditService",["$interval","$q","uiGridConstants","uiGridRowEditConstants","gridUtil",function(e,t,i,n,r){var o={initializeGrid:function(e,t){t.rowEdit={};var i={events:{rowEdit:{saveRow:function(){}}},methods:{rowEdit:{setSavePromise:function(e,i){o.setSavePromise(t,e,i)},getDirtyRows:function(){return t.rowEdit.dirtyRows?t.rowEdit.dirtyRows:[]},getErrorRows:function(){return t.rowEdit.errorRows?t.rowEdit.errorRows:[]},flushDirtyRows:function(){return o.flushDirtyRows(t)},setRowsDirty:function(e){o.setRowsDirty(t,e)},setRowsClean:function(e){o.setRowsClean(t,e)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.api.core.on.renderingComplete(e,function(){t.api.edit.on.afterCellEdit(e,o.endEditCell),t.api.edit.on.beginCellEdit(e,o.beginEditCell),t.api.edit.on.cancelCellEdit(e,o.cancelEditCell),t.api.cellNav&&t.api.cellNav.on.navigate(e,o.navigate)})},defaultGridOptions:function(){},saveRow:function(e,t){var i=this;return function(){if(t.isSaving=!0,t.rowEditSavePromise)return t.rowEditSavePromise;var n=e.api.rowEdit.raise.saveRow(t.entity);return t.rowEditSavePromise?t.rowEditSavePromise.then(i.processSuccessPromise(e,t),i.processErrorPromise(e,t)):r.logError("A promise was not returned when saveRow event was raised, either nobody is listening to event, or event handler did not return a promise"),n}},setSavePromise:function(e,t,i){var n=e.getRow(t);n.rowEditSavePromise=i},processSuccessPromise:function(e,t){var i=this;return function(){delete t.isSaving,delete t.isDirty,delete t.isError,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,i.removeRow(e.rowEdit.errorRows,t),i.removeRow(e.rowEdit.dirtyRows,t)}},processErrorPromise:function(e,t){return function(){delete t.isSaving,delete t.rowEditSaveTimer,delete t.rowEditSavePromise,t.isError=!0,e.rowEdit.errorRows||(e.rowEdit.errorRows=[]),o.isRowPresent(e.rowEdit.errorRows,t)||e.rowEdit.errorRows.push(t)}},removeRow:function(e,t){"undefined"!=typeof e&&null!==e&&e.forEach(function(i,n){i.uid===t.uid&&e.splice(n,1)})},isRowPresent:function(e,t){var i=!1;return e.forEach(function(e){e.uid===t.uid&&(i=!0)}),i},flushDirtyRows:function(e){var i=[];return e.api.rowEdit.getDirtyRows().forEach(function(t){o.saveRow(e,t)(),i.push(t.rowEditSavePromise)}),t.all(i)},endEditCell:function(e,t,i,n){var a=this.grid,l=a.getRow(e);return l?((i!==n||l.isDirty)&&(a.rowEdit.dirtyRows||(a.rowEdit.dirtyRows=[]),l.isDirty||(l.isDirty=!0,a.rowEdit.dirtyRows.push(l)),delete l.isError,o.considerSetTimer(a,l)),void 0):(r.logError("Unable to find rowEntity in grid data, dirty flag cannot be set"),void 0)},beginEditCell:function(e){var t=this.grid,i=t.getRow(e);return i?(o.cancelTimer(t,i),void 0):(r.logError("Unable to find rowEntity in grid data, timer cannot be cancelled"),void 0)},cancelEditCell:function(e){var t=this.grid,i=t.getRow(e);return i?(o.considerSetTimer(t,i),void 0):(r.logError("Unable to find rowEntity in grid data, timer cannot be set"),void 0)},navigate:function(e,t){var i=this.grid;e.row.rowEditSaveTimer&&o.cancelTimer(i,e.row),t&&t.row&&t.row!==e.row&&o.considerSetTimer(i,t.row)},considerSetTimer:function(t,i){if(o.cancelTimer(t,i),i.isDirty&&!i.isSaving&&-1!==t.options.rowEditWaitInterval){var n=t.options.rowEditWaitInterval?t.options.rowEditWaitInterval:2e3;i.rowEditSaveTimer=e(o.saveRow(t,i),n,1)}},cancelTimer:function(t,i){i.rowEditSaveTimer&&!i.isSaving&&(e.cancel(i.rowEditSaveTimer),delete i.rowEditSaveTimer)},setRowsDirty:function(e,t){var i;t.forEach(function(t){i=e.getRow(t),i?(e.rowEdit.dirtyRows||(e.rowEdit.dirtyRows=[]),i.isDirty||(i.isDirty=!0,e.rowEdit.dirtyRows.push(i)),delete i.isError,o.considerSetTimer(e,i)):r.logError("requested row not found in rowEdit.setRowsDirty, row was: "+t)})},setRowsClean:function(e,t){var i;t.forEach(function(t){i=e.getRow(t),i?(delete i.isDirty,o.removeRow(e.rowEdit.dirtyRows,i),o.cancelTimer(e,i),delete i.isError,o.removeRow(e.rowEdit.errorRows,i)):r.logError("requested row not found in rowEdit.setRowsClean, row was: "+t)})}};return o}]),e.directive("uiGridRowEdit",["gridUtil","uiGridRowEditService","uiGridEditConstants",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(e,r.grid)},post:function(){}}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),i=t.attr("ng-class"),n="";return n=i?i.slice(0,-1)+", 'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}":"{'ui-grid-row-dirty': row.isDirty, 'ui-grid-row-saving': row.isSaving, 'ui-grid-row-error': row.isError}",t.attr("ng-class",n),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.saveState",["ui.grid","ui.grid.selection","ui.grid.cellNav","ui.grid.grouping","ui.grid.pinning","ui.grid.treeView"]);e.constant("uiGridSaveStateConstants",{featureName:"saveState"}),e.service("uiGridSaveStateService",["$q","uiGridSaveStateConstants","gridUtil","$compile","$interval","uiGridConstants",function(){var e={initializeGrid:function(t){t.saveState={},this.defaultGridOptions(t.options);var i={events:{saveState:{}},methods:{saveState:{save:function(){return e.save(t)},restore:function(i,n){e.restore(t,i,n)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.saveWidths=e.saveWidths!==!1,e.saveOrder=e.saveOrder!==!1,e.saveScroll=e.saveScroll===!0,e.saveFocus=e.saveScroll!==!0&&e.saveFocus!==!1,e.saveVisible=e.saveVisible!==!1,e.saveSort=e.saveSort!==!1,e.saveFilter=e.saveFilter!==!1,e.saveSelection=e.saveSelection!==!1,e.saveGrouping=e.saveGrouping!==!1,e.saveGroupingExpandedStates=e.saveGroupingExpandedStates===!0,e.savePinning=e.savePinning!==!1,e.saveTreeView=e.saveTreeView!==!1},save:function(t){var i={};return i.columns=e.saveColumns(t),i.scrollFocus=e.saveScrollFocus(t),i.selection=e.saveSelection(t),i.grouping=e.saveGrouping(t),i.treeView=e.saveTreeView(t),i.pagination=e.savePagination(t),i},restore:function(t,i,n){n.columns&&e.restoreColumns(t,n.columns),n.scrollFocus&&e.restoreScrollFocus(t,i,n.scrollFocus),n.selection&&e.restoreSelection(t,n.selection),n.grouping&&e.restoreGrouping(t,n.grouping),n.treeView&&e.restoreTreeView(t,n.treeView),n.pagination&&e.restorePagination(t,n.pagination),t.refresh()},saveColumns:function(e){var t=[];return e.getOnlyDataColumns().forEach(function(i){var n={};n.name=i.name,e.options.saveVisible&&(n.visible=i.visible),e.options.saveWidths&&(n.width=i.width),e.options.saveSort&&(n.sort=angular.copy(i.sort)),e.options.saveFilter&&(n.filters=[],i.filters.forEach(function(e){var t={};angular.forEach(e,function(e,i){"condition"!==i&&"$$hashKey"!==i&&"placeholder"!==i&&(t[i]=e)}),n.filters.push(t)})),e.api.pinning&&e.options.savePinning&&(n.pinned=i.renderContainer?i.renderContainer:""),t.push(n)}),t},saveScrollFocus:function(t){if(!t.api.cellNav)return{};var i={};if(t.options.saveFocus){i.focus=!0;var n=t.api.cellNav.getFocusedCell();null!==n&&(null!==n.col&&(i.colName=n.col.colDef.name),null!==n.row&&(i.rowVal=e.getRowVal(t,n.row)))}return(t.options.saveScroll||t.options.saveFocus&&!i.colName&&!i.rowVal)&&(i.focus=!1,t.renderContainers.body.prevRowScrollIndex&&(i.rowVal=e.getRowVal(t,t.renderContainers.body.visibleRowCache[t.renderContainers.body.prevRowScrollIndex])),t.renderContainers.body.prevColScrollIndex&&(i.colName=t.renderContainers.body.visibleColumnCache[t.renderContainers.body.prevColScrollIndex].name)),i},saveSelection:function(t){if(!t.api.selection||!t.options.saveSelection)return[];var i=t.api.selection.getSelectedGridRows().map(function(i){return e.getRowVal(t,i)});return i},saveGrouping:function(e){return e.api.grouping&&e.options.saveGrouping?e.api.grouping.getGrouping(e.options.saveGroupingExpandedStates):{}},savePagination:function(e){return e.api.pagination&&e.options.paginationPageSize?{paginationCurrentPage:e.options.paginationCurrentPage,paginationPageSize:e.options.paginationPageSize}:{}},saveTreeView:function(e){return e.api.treeView&&e.options.saveTreeView?e.api.treeView.getTreeView():{}},getRowVal:function(e,t){if(!t)return null;var i={};return e.options.saveRowIdentity?(i.identity=!0,i.row=e.options.saveRowIdentity(t.entity)):(i.identity=!1,i.row=e.renderContainers.body.visibleRowCache.indexOf(t)),i},restoreColumns:function(e,t){var i=!1;t.forEach(function(t,n){var r=e.getColumn(t.name);if(r&&!e.isRowHeaderColumn(r)){!e.options.saveVisible||r.visible===t.visible&&r.colDef.visible===t.visible||(r.visible=t.visible,r.colDef.visible=t.visible,e.api.core.raise.columnVisibilityChanged(r)),e.options.saveWidths&&r.width!==t.width&&(r.width=t.width,r.hasCustomWidth=!0),!e.options.saveSort||angular.equals(r.sort,t.sort)||void 0===r.sort&&angular.isEmpty(t.sort)||(r.sort=angular.copy(t.sort),i=!0),e.options.saveFilter&&!angular.equals(r.filters,t.filters)&&(t.filters.forEach(function(e,t){angular.extend(r.filters[t],e),("undefined"==typeof e.term||null===e.term)&&delete r.filters[t].term}),e.api.core.raise.filterChanged()),e.api.pinning&&e.options.savePinning&&r.renderContainer!==t.pinned&&e.api.pinning.pinColumn(r,t.pinned);var o=e.getOnlyDataColumns().indexOf(r);if(-1!==o&&e.options.saveOrder&&o!==n){var a=e.columns.splice(o+e.rowHeaderColumns.length,1)[0];e.columns.splice(n+e.rowHeaderColumns.length,0,a)}}}),i&&e.api.core.raise.sortChanged(e,e.getColumnSorting())},restoreScrollFocus:function(t,i,n){if(t.api.cellNav){var r,o;if(n.colName){var a=t.options.columnDefs.filter(function(e){return e.name===n.colName});a.length>0&&(r=a[0])}n.rowVal&&n.rowVal.row&&(o=n.rowVal.identity?e.findRowByIdentity(t,n.rowVal):t.renderContainers.body.visibleRowCache[n.rowVal.row]);var l=o&&o.entity?o.entity:null;(r||l)&&(n.focus?t.api.cellNav.scrollToFocus(l,r):t.scrollTo(l,r))}},restoreSelection:function(t,i){t.api.selection&&(t.api.selection.clearSelectedRows(),i.forEach(function(i){if(i.identity){var n=e.findRowByIdentity(t,i);n&&t.api.selection.selectRow(n.entity)}else t.api.selection.selectRowByVisibleIndex(i.row)}))},restoreGrouping:function(e,t){e.api.grouping&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.grouping.setGrouping(t)},restoreTreeView:function(e,t){e.api.treeView&&"undefined"!=typeof t&&null!==t&&!angular.equals(t,{})&&e.api.treeView.setTreeView(t)},restorePagination:function(e,t){e.api.pagination&&e.options.paginationPageSize&&(e.options.paginationCurrentPage=t.paginationCurrentPage,e.options.paginationPageSize=t.paginationPageSize)},findRowByIdentity:function(e,t){if(!e.options.saveRowIdentity)return null;var i=e.rows.filter(function(i){return e.options.saveRowIdentity(i.entity)===t.row?!0:!1});return i.length>0?i[0]:null}};return e}]),e.directive("uiGridSaveState",["uiGridSaveStateConstants","uiGridSaveStateService","gridUtil","$compile",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,link:function(e,i,n,r){t.initializeGrid(r.grid)}}}])}(),function(){"use strict";var e=angular.module("ui.grid.selection",["ui.grid"]);e.constant("uiGridSelectionConstants",{featureName:"selection",selectionRowHeaderColName:"selectionRowHeaderCol"}),angular.module("ui.grid").config(["$provide",function(e){e.decorator("GridRow",["$delegate",function(e){return e.prototype.setSelected=function(e){this.isSelected=e,e?this.grid.selection.selectedCount++:this.grid.selection.selectedCount--},e}])}]),e.service("uiGridSelectionService",["$q","$templateCache","uiGridSelectionConstants","gridUtil",function(){var e={initializeGrid:function(t){t.selection={},t.selection.lastSelectedRow=null,t.selection.selectAll=!1,t.selection.selectedCount=0,e.defaultGridOptions(t.options);var i={events:{selection:{rowSelectionChanged:function(){},rowSelectionChangedBatch:function(){}}},methods:{selection:{toggleRowSelection:function(i,n){var r=t.getRow(i);null!==r&&e.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},selectRow:function(i,n){var r=t.getRow(i);null===r||r.isSelected||e.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},selectRowByVisibleIndex:function(i,n){var r=t.renderContainers.body.visibleRowCache[i];null===r||"undefined"==typeof r||r.isSelected||e.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},unSelectRow:function(i,n){var r=t.getRow(i);null!==r&&r.isSelected&&e.toggleRowSelection(t,r,n,t.options.multiSelect,t.options.noUnselect)},selectAllRows:function(i){if(t.options.multiSelect!==!1){var n=[];t.rows.forEach(function(r){r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(t,r,n,i))}),e.decideRaiseSelectionBatchEvent(t,n,i),t.selection.selectAll=!0}},selectAllVisibleRows:function(i){if(t.options.multiSelect!==!1){var n=[];t.rows.forEach(function(r){r.visible?r.isSelected||r.enableSelection===!1||(r.setSelected(!0),e.decideRaiseSelectionEvent(t,r,n,i)):r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(t,r,n,i))}),e.decideRaiseSelectionBatchEvent(t,n,i),t.selection.selectAll=!0}},clearSelectedRows:function(i){e.clearSelectedRows(t,i)},getSelectedRows:function(){return e.getSelectedRows(t).map(function(e){return e.entity})},getSelectedGridRows:function(){return e.getSelectedRows(t)},getSelectedCount:function(){return t.selection.selectedCount},setMultiSelect:function(e){t.options.multiSelect=e},setModifierKeysToMultiSelect:function(e){t.options.modifierKeysToMultiSelect=e},getSelectAllState:function(){return t.selection.selectAll}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableRowSelection=e.enableRowSelection!==!1,e.multiSelect=e.multiSelect!==!1,e.noUnselect=e.noUnselect===!0,e.modifierKeysToMultiSelect=e.modifierKeysToMultiSelect===!0,e.enableRowHeaderSelection=e.enableRowHeaderSelection!==!1,"undefined"==typeof e.enableFullRowSelection&&(e.enableFullRowSelection=!e.enableRowHeaderSelection),e.enableSelectAll=e.enableSelectAll!==!1,e.enableSelectionBatchEvent=e.enableSelectionBatchEvent!==!1,e.selectionRowHeaderWidth=angular.isDefined(e.selectionRowHeaderWidth)?e.selectionRowHeaderWidth:30,e.enableFooterTotalSelected=e.enableFooterTotalSelected!==!1,e.isRowSelectable=angular.isDefined(e.isRowSelectable)?e.isRowSelectable:angular.noop},toggleRowSelection:function(t,i,n,r,o){var a=i.isSelected;if(i.enableSelection!==!1||a){var l;r||a?!r&&a&&(l=e.getSelectedRows(t),l.length>1&&(a=!1,e.clearSelectedRows(t,n))):e.clearSelectedRows(t,n),a&&o||(i.setSelected(!a),i.isSelected===!0&&(t.selection.lastSelectedRow=i),l=e.getSelectedRows(t),t.selection.selectAll=t.rows.length===l.length,t.api.selection.raise.rowSelectionChanged(i,n))}},shiftSelect:function(t,i,n,r){if(r){var o=e.getSelectedRows(t),a=o.length>0?t.renderContainers.body.visibleRowCache.indexOf(t.selection.lastSelectedRow):0,l=t.renderContainers.body.visibleRowCache.indexOf(i);if(a>l){var s=a;a=l,l=s}for(var d=[],c=a;l>=c;c++){var u=t.renderContainers.body.visibleRowCache[c];u&&(u.isSelected||u.enableSelection===!1||(u.setSelected(!0),t.selection.lastSelectedRow=u,e.decideRaiseSelectionEvent(t,u,d,n)))}e.decideRaiseSelectionBatchEvent(t,d,n)}},getSelectedRows:function(e){return e.rows.filter(function(e){return e.isSelected})},clearSelectedRows:function(t,i){var n=[];e.getSelectedRows(t).forEach(function(r){r.isSelected&&(r.setSelected(!1),e.decideRaiseSelectionEvent(t,r,n,i))}),e.decideRaiseSelectionBatchEvent(t,n,i),t.selection.selectAll=!1,t.selection.selectedCount=0},decideRaiseSelectionEvent:function(e,t,i,n){e.options.enableSelectionBatchEvent?i.push(t):e.api.selection.raise.rowSelectionChanged(t,n)},decideRaiseSelectionBatchEvent:function(e,t,i){t.length>0&&e.api.selection.raise.rowSelectionChangedBatch(t,i)}};return e}]),e.directive("uiGridSelection",["uiGridSelectionConstants","uiGridSelectionService","$templateCache","uiGridConstants",function(e,t,i,n){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(i,r,o,a){if(t.initializeGrid(a.grid),a.grid.options.enableRowHeaderSelection){var l={name:e.selectionRowHeaderColName,displayName:"",width:a.grid.options.selectionRowHeaderWidth,minWidth:10,cellTemplate:"ui-grid/selectionRowHeader",headerCellTemplate:"ui-grid/selectionHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};a.grid.addRowHeaderColumn(l,0)}var s=!1,d=function(e){return e.forEach(function(e){e.enableSelection=a.grid.options.isRowSelectable(e)}),e},c=function(){a.grid.options.isRowSelectable!==angular.noop&&s!==!0&&(a.grid.registerRowsProcessor(d,500),s=!0)};c();var u=a.grid.registerDataChangeCallback(c,[n.dataChange.OPTIONS]);i.$on("$destroy",u)},post:function(){}}}}}]),e.directive("uiGridSelectionRowHeaderButtons",["$templateCache","uiGridSelectionService","gridUtil",function(e,t,i){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,n,r,o){function a(e,i){i.stopPropagation(),i.shiftKey?t.shiftSelect(s,e,i,s.options.multiSelect):i.ctrlKey||i.metaKey?t.toggleRowSelection(s,e,i,s.options.multiSelect,s.options.noUnselect):t.toggleRowSelection(s,e,i,s.options.multiSelect&&!s.options.modifierKeysToMultiSelect,s.options.noUnselect)}function l(e){(e.ctrlKey||e.shiftKey)&&(e.target.onselectstart=function(){return!1},window.setTimeout(function(){e.target.onselectstart=null},0))}var s=o.grid;e.selectButtonClick=a,"ie"===i.detectBrowser()&&n.on("mousedown",l)}}}]),e.directive("uiGridSelectionSelectAllButtons",["$templateCache","uiGridSelectionService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/selectionSelectAllButtons"),scope:!1,link:function(e){var i=e.col.grid;e.headerButtonClick=function(e,n){i.selection.selectAll?(t.clearSelectedRows(i,n),i.options.noUnselect&&i.api.selection.selectRowByVisibleIndex(0,n),i.selection.selectAll=!1):i.options.multiSelect&&(i.api.selection.selectAllVisibleRows(n),i.selection.selectAll=!0)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),i=t.attr("ng-class"),n="";return n=i?i.slice(0,-1)+",'ui-grid-row-selected': row.isSelected}":"{'ui-grid-row-selected': row.isSelected}",t.attr("ng-class",n),{pre:function(){},post:function(){}}}}}]),e.directive("uiGridCell",["$compile","uiGridConstants","uiGridSelectionConstants","gridUtil","$parse","uiGridSelectionService","$timeout",function(e,t,i,n,r,o,a){return{priority:-200,restrict:"A",require:"?^uiGrid",scope:!1,link:function(e,i,n,r){function l(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&(i.addClass("ui-grid-disable-selection"),i.on("touchstart",g),i.on("touchend",p),i.on("click",u),e.registered=!0)}function s(){e.registered&&(i.removeClass("ui-grid-disable-selection"),i.off("touchstart",g),i.off("touchend",p),i.off("click",u),e.registered=!1)}var d=0,c=300;r.grid.api.cellNav&&r.grid.api.cellNav.on.viewPortKeyDown(e,function(t,i){null!==i&&i.row===e.row&&i.col===e.col&&32===t.keyCode&&"selectionRowHeaderCol"===e.col.colDef.name&&(o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply())});var u=function(t){i.off("touchend",p),t.shiftKey?o.shiftSelect(e.grid,e.row,t,e.grid.options.multiSelect):t.ctrlKey||t.metaKey?o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect,e.grid.options.noUnselect):o.toggleRowSelection(e.grid,e.row,t,e.grid.options.multiSelect&&!e.grid.options.modifierKeysToMultiSelect,e.grid.options.noUnselect),e.$apply(),a(function(){i.on("touchend",p)},c)},g=function(){d=(new Date).getTime(),i.off("click",u)},p=function(e){var t=(new Date).getTime(),n=t-d;c>n&&u(e),a(function(){i.on("click",u)},c)};l();var f=e.grid.registerDataChangeCallback(function(){e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection&&!e.registered?l():e.grid.options.enableRowSelection&&e.grid.options.enableFullRowSelection||!e.registered||s()},[t.dataChange.OPTIONS]);i.on("$destroy",f)}}}]),e.directive("uiGridGridFooter",["$compile","uiGridConstants","gridUtil",function(e,t,i){return{restrict:"EA",replace:!0,priority:-1e3,require:"^uiGrid",scope:!0,compile:function(){return{pre:function(t,n,r,o){o.grid.options.showGridFooter&&i.getTemplate("ui-grid/gridFooterSelectedItems").then(function(i){var r=angular.element(i),o=e(r)(t);angular.element(n[0].getElementsByClassName("ui-grid-grid-footer")[0]).append(o)})},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeBase",["ui.grid"]);e.constant("uiGridTreeBaseConstants",{featureName:"treeBase",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeBaseService",["$q","uiGridTreeBaseConstants","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants","rowSorter",function(e,t,i,n,r,o,a,l){var s={initializeGrid:function(e){e.treeBase={},e.treeBase.numberLevels=0,e.treeBase.expandAll=!1,e.treeBase.tree=[],s.defaultGridOptions(e.options),e.registerRowsProcessor(s.treeRows,410),e.registerColumnBuilder(s.treeBaseColumnBuilder),s.createRowHeader(e);var t={events:{treeBase:{rowExpanded:{},rowCollapsed:{}}},methods:{treeBase:{expandAllRows:function(){s.expandAllRows(e)},collapseAllRows:function(){s.collapseAllRows(e)},toggleRowTreeState:function(t){s.toggleRowTreeState(e,t)},expandRow:function(t){s.expandRow(e,t)},expandRowChildren:function(t){s.expandRowChildren(e,t)},collapseRow:function(t){s.collapseRow(e,t)},collapseRowChildren:function(t){s.collapseRowChildren(e,t)},getTreeExpandedState:function(){return{expandedState:s.getTreeState(e)}},setTreeState:function(t){s.setTreeState(e,t)},getRowChildren:function(e){return e.treeNode.children.map(function(e){return e.row})}}}};e.api.registerEventsFromObject(t.events),e.api.registerMethodsFromObject(t.methods)},defaultGridOptions:function(e){e.treeRowHeaderBaseWidth=e.treeRowHeaderBaseWidth||30,e.treeIndent=e.treeIndent||10,e.showTreeRowHeader=e.showTreeRowHeader!==!1,e.showTreeExpandNoChildren=e.showTreeExpandNoChildren!==!1,e.treeRowHeaderAlwaysVisible=e.treeRowHeaderAlwaysVisible!==!1,e.treeCustomAggregations=e.treeCustomAggregations||{},e.enableExpandAll=e.enableExpandAll!==!1},treeBaseColumnBuilder:function(e,t,i){"undefined"!=typeof e.customTreeAggregationFn&&(t.treeAggregationFn=e.customTreeAggregationFn),"undefined"!=typeof e.treeAggregationType&&(t.treeAggregation={type:e.treeAggregationType},"undefined"!=typeof i.treeCustomAggregations[e.treeAggregationType]?(t.treeAggregationFn=i.treeCustomAggregations[e.treeAggregationType].aggregationFn,t.treeAggregationFinalizerFn=i.treeCustomAggregations[e.treeAggregationType].finalizerFn,t.treeAggregation.label=i.treeCustomAggregations[e.treeAggregationType].label):"undefined"!=typeof s.nativeAggregations()[e.treeAggregationType]&&(t.treeAggregationFn=s.nativeAggregations()[e.treeAggregationType].aggregationFn,t.treeAggregation.label=s.nativeAggregations()[e.treeAggregationType].label)),"undefined"!=typeof e.treeAggregationLabel&&("undefined"==typeof t.treeAggregation&&(t.treeAggregation={}),t.treeAggregation.label=e.treeAggregationLabel),t.treeAggregationUpdateEntity=e.treeAggregationUpdateEntity!==!1,"undefined"==typeof t.customTreeAggregationFinalizerFn&&(t.customTreeAggregationFinalizerFn=e.customTreeAggregationFinalizerFn)},createRowHeader:function(e){var i={name:t.rowHeaderColName,displayName:"",width:e.options.treeRowHeaderBaseWidth,minWidth:10,cellTemplate:"ui-grid/treeBaseRowHeader",headerCellTemplate:"ui-grid/treeBaseHeaderCell",enableColumnResizing:!1,enableColumnMenu:!1,exporterSuppressExport:!0,allowCellFocus:!0};i.visible=e.options.treeRowHeaderAlwaysVisible,e.addRowHeaderColumn(i,-100)},expandAllRows:function(e){e.treeBase.tree.forEach(function(i){s.setAllNodes(e,i,t.EXPANDED)}),e.treeBase.expandAll=!0,e.queueGridRefresh()},collapseAllRows:function(e){e.treeBase.tree.forEach(function(i){s.setAllNodes(e,i,t.COLLAPSED)}),e.treeBase.expandAll=!1,e.queueGridRefresh()},setAllNodes:function(e,i,n){"undefined"!=typeof i.state&&i.state!==n&&(i.state=n,n===t.EXPANDED?e.api.treeBase.raise.rowExpanded(i.row):e.api.treeBase.raise.rowCollapsed(i.row)),i.children&&i.children.forEach(function(t){s.setAllNodes(e,t,n)})},toggleRowTreeState:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(i.treeNode.state===t.EXPANDED?s.collapseRow(e,i):s.expandRow(e,i),e.queueGridRefresh())},expandRow:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.EXPANDED&&(i.treeNode.state=t.EXPANDED,e.api.treeBase.raise.rowExpanded(i),e.treeBase.expandAll=s.allExpanded(e.treeBase.tree),e.queueGridRefresh())},expandRowChildren:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(s.setAllNodes(e,i.treeNode,t.EXPANDED),e.treeBase.expandAll=s.allExpanded(e.treeBase.tree),e.queueGridRefresh())},collapseRow:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||i.treeNode.state!==t.COLLAPSED&&(i.treeNode.state=t.COLLAPSED,e.treeBase.expandAll=!1,e.api.treeBase.raise.rowCollapsed(i),e.queueGridRefresh())},collapseRowChildren:function(e,i){"undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0||(s.setAllNodes(e,i.treeNode,t.COLLAPSED),e.treeBase.expandAll=!1,e.queueGridRefresh())},allExpanded:function(e){var t=!0;return e.forEach(function(e){s.allExpandedInternal(e)||(t=!1)}),t},allExpandedInternal:function(e){if(e.children&&e.children.length>0){if(e.state===t.COLLAPSED)return!1;var i=!0;return e.children.forEach(function(e){s.allExpandedInternal(e)||(i=!1)}),i}return!0},treeRows:function(e){if(0===e.length)return e;{var i=this;t.EXPANDED}return i.treeBase.tree=s.createTree(i,e),s.updateRowHeaderWidth(i),s.sortTree(i),s.fixFilter(i),s.renderTree(i.treeBase.tree)},updateRowHeaderWidth:function(e){var i=e.getColumn(t.rowHeaderColName),n=e.options.treeRowHeaderBaseWidth+e.options.treeIndent*Math.max(e.treeBase.numberLevels-1,0);i&&n!==i.width&&(i.width=n,e.queueRefresh());var r=!0;e.options.showTreeRowHeader===!1&&(r=!1),e.options.treeRowHeaderAlwaysVisible===!1&&e.treeBase.numberLevels<=0&&(r=!1),i.visible!==r&&(i.visible=r,i.colDef.visible=r,e.queueGridRefresh())},renderTree:function(e){var i=[];return e.forEach(function(e){e.row.visible&&i.push(e.row),e.state===t.EXPANDED&&e.children&&e.children.length>0&&(i=i.concat(s.renderTree(e.children)))}),i},createTree:function(e,i){var n,r=-1,o=[];e.treeBase.tree=[],e.treeBase.numberLevels=0;var a=s.getAggregations(e),l=function(i){if("undefined"!=typeof i.entity.$$treeLevel&&i.treeLevel!==i.entity.$$treeLevel&&(i.treeLevel=i.entity.$$treeLevel),i.treeLevel<=r){for(;i.treeLevel<=r;){var l=o.pop();s.finaliseAggregations(l),r--}n=o.length>0?s.setCurrentState(o):t.EXPANDED}("undefined"==typeof i.treeLevel||null===i.treeLevel||i.treeLevel<0)&&i.visible&&s.aggregate(e,i,o),s.addOrUseNode(e,i,o,a),"undefined"!=typeof i.treeLevel&&null!==i.treeLevel&&i.treeLevel>=0&&(o.push(i),r++,n=s.setCurrentState(o)),e.treeBase.numberLevels<i.treeLevel+1&&(e.treeBase.numberLevels=i.treeLevel+1)};for(i.forEach(l);o.length>0;){var d=o.pop();s.finaliseAggregations(d)}return e.treeBase.tree},addOrUseNode:function(e,i,n,r){var o=[];r.forEach(function(e){o.push(s.buildAggregationObject(e.col))});var a={state:t.COLLAPSED,row:i,parentRow:null,aggregations:o,children:[]};i.treeNode&&(a.state=i.treeNode.state),n.length>0&&(a.parentRow=n[n.length-1]),i.treeNode=a,0===n.length?e.treeBase.tree.push(a):n[n.length-1].treeNode.children.push(a)},setCurrentState:function(e){var i=t.EXPANDED;return e.forEach(function(e){e.treeNode.state===t.COLLAPSED&&(i=t.COLLAPSED)}),i},sortTree:function(e){e.columns.forEach(function(e){e.sort&&e.sort.ignoreSort&&delete e.sort.ignoreSort}),e.treeBase.tree=s.sortInternal(e,e.treeBase.tree)},sortInternal:function(e,i){var n=i.map(function(e){return e.row
});n=l.sort(e,n,e.columns);var r=n.map(function(e){return e.treeNode});return r.forEach(function(i){i.state===t.EXPANDED&&i.children&&i.children.length>0&&(i.children=s.sortInternal(e,i.children))}),r},fixFilter:function(e){var t;e.treeBase.tree.forEach(function(e){e.children&&e.children.length>0&&(t=e.row.visible,s.fixFilterInternal(e.children,t))})},fixFilterInternal:function(e,t){return e.forEach(function(e){e.row.visible&&!t&&(s.setParentsVisible(e),t=!0),e.children&&e.children.length>0&&s.fixFilterInternal(e.children,t&&e.row.visible)&&(t=!0)}),t},setParentsVisible:function(e){for(;e.parentRow;)e.parentRow.visible=!0,e=e.parentRow.treeNode},buildAggregationObject:function(e){var t={col:e};return e.treeAggregation&&e.treeAggregation.type&&(t.type=e.treeAggregation.type),e.treeAggregation&&e.treeAggregation.label&&(t.label=e.treeAggregation.label),t},getAggregations:function(e){var t=[];return e.columns.forEach(function(i){"undefined"!=typeof i.treeAggregationFn&&(t.push(s.buildAggregationObject(i)),e.options.showColumnFooter&&"undefined"==typeof i.colDef.aggregationType&&i.treeAggregation&&(i.treeFooterAggregation=s.buildAggregationObject(i),i.aggregationType=s.treeFooterAggregationType))}),t},aggregate:function(e,t,i){0===i.length&&t.treeNode&&t.treeNode.aggregations&&t.treeNode.aggregations.forEach(function(i){if("undefined"!=typeof i.col.treeFooterAggregation){var n=e.getCellValue(t,i.col),r=Number(n);i.col.treeAggregationFn(i.col.treeFooterAggregation,n,r,t)}}),i.forEach(function(i,n){i.treeNode.aggregations&&i.treeNode.aggregations.forEach(function(i){var r=e.getCellValue(t,i.col),o=Number(r);i.col.treeAggregationFn(i,r,o,t),0===n&&"undefined"!=typeof i.col.treeFooterAggregation&&i.col.treeAggregationFn(i.col.treeFooterAggregation,r,o,t)})})},nativeAggregations:function(){var e={count:{label:o.get().aggregation.count,menuTitle:o.get().grouping.aggregate_count,aggregationFn:function(e){"undefined"==typeof e.value?e.value=1:e.value++}},sum:{label:o.get().aggregation.sum,menuTitle:o.get().grouping.aggregate_sum,aggregationFn:function(e,t,i){isNaN(i)||("undefined"==typeof e.value?e.value=i:e.value+=i)}},min:{label:o.get().aggregation.min,menuTitle:o.get().grouping.aggregate_min,aggregationFn:function(e,t){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t<e.value||null===e.value)&&(e.value=t)}},max:{label:o.get().aggregation.max,menuTitle:o.get().grouping.aggregate_max,aggregationFn:function(e,t){"undefined"==typeof e.value?e.value=t:"undefined"!=typeof t&&null!==t&&(t>e.value||null===e.value)&&(e.value=t)}},avg:{label:o.get().aggregation.avg,menuTitle:o.get().grouping.aggregate_avg,aggregationFn:function(e,t,i){"undefined"==typeof e.count?e.count=1:e.count++,isNaN(i)||("undefined"==typeof e.value||"undefined"==typeof e.sum?(e.value=i,e.sum=i):(e.sum+=i,e.value=e.sum/e.count))}}};return e},finaliseAggregation:function(e,t){t.col.treeAggregationUpdateEntity&&"undefined"!=typeof e&&"undefined"!=typeof e.entity["$$"+t.col.uid]&&angular.extend(t,e.entity["$$"+t.col.uid]),"function"==typeof t.col.treeAggregationFinalizerFn&&t.col.treeAggregationFinalizerFn(t),"function"==typeof t.col.customTreeAggregationFinalizerFn&&t.col.customTreeAggregationFinalizerFn(t),"undefined"==typeof t.rendered&&(t.rendered=t.label?t.label+t.value:t.value)},finaliseAggregations:function(e){null!=e&&"undefined"!=typeof e.treeNode.aggregations&&e.treeNode.aggregations.forEach(function(t){if(s.finaliseAggregation(e,t),t.col.treeAggregationUpdateEntity){var i={};angular.forEach(t,function(e,n){t.hasOwnProperty(n)&&"col"!==n&&(i[n]=e)}),e.entity["$$"+t.col.uid]=i}})},treeFooterAggregationType:function(e,t){return s.finaliseAggregation(void 0,t.treeFooterAggregation),"undefined"==typeof t.treeFooterAggregation.value||null===t.treeFooterAggregation.rendered?"":t.treeFooterAggregation.rendered}};return s}]),e.directive("uiGridTreeBaseRowHeaderButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseRowHeaderButtons"),scope:!0,require:"^uiGrid",link:function(e,i,n,r){var o=r.grid;e.treeButtonClick=function(e,i){t.toggleRowTreeState(o,e,i)}}}}]),e.directive("uiGridTreeBaseExpandAllButtons",["$templateCache","uiGridTreeBaseService",function(e,t){return{replace:!0,restrict:"E",template:e.get("ui-grid/treeBaseExpandAllButtons"),scope:!1,link:function(e){var i=e.col.grid;e.headerButtonClick=function(e,n){i.treeBase.expandAll?t.collapseAllRows(i,n):t.expandAllRows(i,n)}}}}]),e.directive("uiGridViewport",["$compile","uiGridConstants","gridUtil","$parse",function(){return{priority:-200,scope:!1,compile:function(e){var t=angular.element(e.children().children()[0]),i=t.attr("ng-class"),n="";return n=i?i.slice(0,-1)+",'ui-grid-tree-header-row': row.treeLevel > -1}":"{'ui-grid-tree-header-row': row.treeLevel > -1}",t.attr("ng-class",n),{pre:function(){},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.treeView",["ui.grid","ui.grid.treeBase"]);e.constant("uiGridTreeViewConstants",{featureName:"treeView",rowHeaderColName:"treeBaseRowHeaderCol",EXPANDED:"expanded",COLLAPSED:"collapsed",aggregation:{COUNT:"count",SUM:"sum",MAX:"max",MIN:"min",AVG:"avg"}}),e.service("uiGridTreeViewService",["$q","uiGridTreeViewConstants","uiGridTreeBaseConstants","uiGridTreeBaseService","gridUtil","GridRow","gridClassFactory","i18nService","uiGridConstants",function(e,t,i,n){var r={initializeGrid:function(e,t){n.initializeGrid(e,t),e.treeView={},e.registerRowsProcessor(r.adjustSorting,60);var i={events:{treeView:{}},methods:{treeView:{}}};e.api.registerEventsFromObject(i.events),e.api.registerMethodsFromObject(i.methods)},defaultGridOptions:function(e){e.enableTreeView=e.enableTreeView!==!1},adjustSorting:function(e){var t=this;return t.columns.forEach(function(e){e.sort&&(e.sort.ignoreSort=!0)}),e}};return r}]),e.directive("uiGridTreeView",["uiGridTreeViewConstants","uiGridTreeViewService","$templateCache",function(e,t){return{replace:!0,priority:0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){r.grid.options.enableTreeView!==!1&&t.initializeGrid(r.grid,e)},post:function(){}}}}}])}(),function(){"use strict";var e=angular.module("ui.grid.validate",["ui.grid"]);e.service("uiGridValidateService",["$sce","$q","$http","i18nService","uiGridConstants",function(e,t,i,n){var r={validatorFactories:{},setExternalFactoryFunction:function(e){r.externalFactoryFunction=e},clearExternalFactory:function(){delete r.externalFactoryFunction},getValidatorFromExternalFactory:function(e,t){return r.externalFactoryFunction(e,t).validatorFactory(t)},getMessageFromExternalFactory:function(e,t){return r.externalFactoryFunction(e,t).messageFunction(t)},setValidator:function(e,t,i){r.validatorFactories[e]={validatorFactory:t,messageFunction:i}},getValidator:function(e,t){if(r.externalFactoryFunction){var i=r.getValidatorFromExternalFactory(e,t);if(i)return i}if(!r.validatorFactories[e])throw"Invalid validator name: "+e;return r.validatorFactories[e].validatorFactory(t)},getMessage:function(e,t){if(r.externalFactoryFunction){var i=r.getMessageFromExternalFactory(e,t);if(i)return i}return r.validatorFactories[e].messageFunction(t)},isInvalid:function(e,t){return e["$$invalid"+t.name]},setInvalid:function(e,t){e["$$invalid"+t.name]=!0},setValid:function(e,t){delete e["$$invalid"+t.name]},setError:function(e,t,i){e["$$errors"+t.name]||(e["$$errors"+t.name]={}),e["$$errors"+t.name][i]=!0},clearError:function(e,t,i){e["$$errors"+t.name]&&i in e["$$errors"+t.name]&&delete e["$$errors"+t.name][i]},getErrorMessages:function(e,t){var i=[];return e["$$errors"+t.name]&&0!==Object.keys(e["$$errors"+t.name]).length?(Object.keys(e["$$errors"+t.name]).sort().forEach(function(e){i.push(r.getMessage(e,t.validators[e]))}),i):i},getFormattedErrors:function(t,i){var o="",a=r.getErrorMessages(t,i);return a.length?(a.forEach(function(e){o+=e+"<br/>"}),e.trustAsHtml("<p><b>"+n.getSafeText("validate.error")+"</b></p>"+o)):void 0},getTitleFormattedErrors:function(t,i){var o="\n",a="",l=r.getErrorMessages(t,i);return l.length?(l.forEach(function(e){a+=e+o}),e.trustAsHtml(n.getSafeText("validate.error")+o+a)):void 0},runValidators:function(e,i,n,o,a){if(n!==o){if("undefined"==typeof i.name||!i.name)throw new Error("colDef.name is required to perform validation");r.setValid(e,i);var l=function(e,t,i){return function(l){l||(r.setInvalid(e,t),r.setError(e,t,i),a&&a.api.validate.raise.validationFailed(e,t,n,o))}};for(var s in i.validators){r.clearError(e,i,s);var d=r.getValidator(s,i.validators[s]);t.when(d(o,n,e,i)).then(l(e,i,s))}}},createDefaultValidators:function(){r.setValidator("minLength",function(e){return function(t,i){return void 0===i||null===i||""===i?!0:i.length>=e}},function(e){return n.getSafeText("validate.minLength").replace("THRESHOLD",e)}),r.setValidator("maxLength",function(e){return function(t,i){return void 0===i||null===i||""===i?!0:i.length<=e}},function(e){return n.getSafeText("validate.maxLength").replace("THRESHOLD",e)}),r.setValidator("required",function(e){return function(t,i){return e?!(void 0===i||null===i||""===i):!0}},function(){return n.getSafeText("validate.required")})},initializeGrid:function(e,t){t.validate={isInvalid:r.isInvalid,getFormattedErrors:r.getFormattedErrors,getTitleFormattedErrors:r.getTitleFormattedErrors,runValidators:r.runValidators};var i={events:{validate:{validationFailed:function(){}}},methods:{validate:{isInvalid:function(e,i){return t.validate.isInvalid(e,i)},getErrorMessages:function(e,i){return t.validate.getErrorMessages(e,i)},getFormattedErrors:function(e,i){return t.validate.getFormattedErrors(e,i)},getTitleFormattedErrors:function(e,i){return t.validate.getTitleFormattedErrors(e,i)}}}};t.api.registerEventsFromObject(i.events),t.api.registerMethodsFromObject(i.methods),t.edit&&t.api.edit.on.afterCellEdit(e,function(e,i,n,r){t.validate.runValidators(e,i,n,r,t)}),r.createDefaultValidators()}};return r}]),e.directive("uiGridValidate",["gridUtil","uiGridValidateService",function(e,t){return{priority:0,replace:!0,require:"^uiGrid",scope:!1,compile:function(){return{pre:function(e,i,n,r){t.initializeGrid(e,r.grid)},post:function(){}}}}}])}(),angular.module("ui.grid").run(["$templateCache",function(e){"use strict";e.put("ui-grid/ui-grid-filter",'<div class="ui-grid-filter-container" ng-repeat="colFilter in col.filters" ng-class="{\'ui-grid-filter-cancel-button-hidden\' : colFilter.disableCancelFilterButton === true }"><div ng-if="colFilter.type !== \'select\'"><input type="text" class="ui-grid-filter-input ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || \'\'}}" aria-label="{{colFilter.ariaLabel || aria.defaultFilterLabel}}"><div role="button" class="ui-grid-filter-button" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term !== null && colFilter.term !== \'\'"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div><div ng-if="colFilter.type === \'select\'"><select class="ui-grid-filter-select ui-grid-filter-input-{{$index}}" ng-model="colFilter.term" ng-attr-placeholder="{{colFilter.placeholder || aria.defaultFilterLabel}}" aria-label="{{colFilter.ariaLabel || \'\'}}" ng-options="option.value as option.label for option in colFilter.selectOptions"><option value=""></option></select><div role="button" class="ui-grid-filter-button-select" ng-click="removeFilter(colFilter, $index)" ng-if="!colFilter.disableCancelFilterButton" ng-disabled="colFilter.term === undefined || colFilter.term === null || colFilter.term === \'\'" ng-show="colFilter.term !== undefined && colFilter.term != null"><i class="ui-grid-icon-cancel" ui-grid-one-bind-aria-label="aria.removeFilter">&nbsp;</i></div></div></div>'),e.put("ui-grid/ui-grid-footer",'<div class="ui-grid-footer-panel ui-grid-footer-aggregates-row"><!-- tfooter --><div class="ui-grid-footer ui-grid-footer-viewport"><div class="ui-grid-footer-canvas"><div class="ui-grid-footer-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-footer-cell-row"><div ui-grid-footer-cell role="gridcell" ng-repeat="col in colContainer.renderedColumns track by col.uid" col="col" render-index="$index" class="ui-grid-footer-cell ui-grid-clearfix"></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-grid-footer",'<div class="ui-grid-footer-info ui-grid-grid-footer"><span>{{\'search.totalItems\' | t}} {{grid.rows.length}}</span> <span ng-if="grid.renderContainers.body.visibleRowCache.length !== grid.rows.length" class="ngLabel">({{"search.showingItems" | t}} {{grid.renderContainers.body.visibleRowCache.length}})</span></div>'),e.put("ui-grid/ui-grid-group-panel",'<div class="ui-grid-group-panel"><div ui-t="groupPanel.description" class="description" ng-show="groupings.length == 0"></div><ul ng-show="groupings.length > 0" class="ngGroupList"><li class="ngGroupItem" ng-repeat="group in configGroups"><span class="ngGroupElement"><span class="ngGroupName">{{group.displayName}} <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span></span> <span ng-hide="$last" class="ngGroupArrow"></span></span></li></ul></div>'),e.put("ui-grid/ui-grid-header",'<div role="rowgroup" class="ui-grid-header"><!-- theader --><div class="ui-grid-top-panel"><div class="ui-grid-header-viewport"><div class="ui-grid-header-canvas"><div class="ui-grid-header-cell-wrapper" ng-style="colContainer.headerCellWrapperStyle()"><div role="row" class="ui-grid-header-cell-row"><div class="ui-grid-header-cell ui-grid-clearfix" ng-repeat="col in colContainer.renderedColumns track by col.uid" ui-grid-header-cell col="col" render-index="$index"></div></div></div></div></div></div></div>'),e.put("ui-grid/ui-grid-menu-button",'<div class="ui-grid-menu-button"><div role="button" ui-grid-one-bind-id-grid="\'grid-menu\'" class="ui-grid-icon-container" ng-click="toggleMenu()" aria-haspopup="true"><i class="ui-grid-icon-menu" ui-grid-one-bind-aria-label="i18n.aria.buttonLabel">&nbsp;</i></div><div ui-grid-menu menu-items="menuItems"></div></div>'),e.put("ui-grid/ui-grid-no-header",'<div class="ui-grid-top-panel"></div>'),e.put("ui-grid/ui-grid-row","<div ng-repeat=\"(colRenderIndex, col) in colContainer.renderedColumns track by col.uid\" ui-grid-one-bind-id-grid=\"rowRenderIndex + '-' + col.uid + '-cell'\" class=\"ui-grid-cell\" ng-class=\"{ 'ui-grid-row-header-cell': col.isRowHeader }\" role=\"{{col.isRowHeader ? 'rowheader' : 'gridcell'}}\" ui-grid-cell></div>"),e.put("ui-grid/ui-grid",'<div ui-i18n="en" class="ui-grid"><!-- TODO (c0bra): add "scoped" attr here, eventually? --><style ui-grid-style>.grid{{ grid.id }} {\n      /* Styles for the grid */\n    }\n\n    .grid{{ grid.id }} .ui-grid-row, .grid{{ grid.id }} .ui-grid-cell, .grid{{ grid.id }} .ui-grid-cell .ui-grid-vertical-bar {\n      height: {{ grid.options.rowHeight }}px;\n    }\n\n    .grid{{ grid.id }} .ui-grid-row:last-child .ui-grid-cell {\n      border-bottom-width: {{ ((grid.getTotalRowHeight() < grid.getViewportHeight()) && \'1\') || \'0\' }}px;\n    }\n\n    {{ grid.verticalScrollbarStyles }}\n    {{ grid.horizontalScrollbarStyles }}\n\n    /*\n    .ui-grid[dir=rtl] .ui-grid-viewport {\n      padding-left: {{ grid.verticalScrollbarWidth }}px;\n    }\n    */\n\n    {{ grid.customStyles }}</style><div class="ui-grid-contents-wrapper"><div ui-grid-menu-button ng-if="grid.options.enableGridMenu"></div><div ng-if="grid.hasLeftContainer()" style="width: 0" ui-grid-pinned-container="\'left\'"></div><div ui-grid-render-container container-id="\'body\'" col-container-name="\'body\'" row-container-name="\'body\'" bind-scroll-horizontal="true" bind-scroll-vertical="true" enable-horizontal-scrollbar="grid.options.enableHorizontalScrollbar" enable-vertical-scrollbar="grid.options.enableVerticalScrollbar"></div><div ng-if="grid.hasRightContainer()" style="width: 0" ui-grid-pinned-container="\'right\'"></div><div ui-grid-grid-footer ng-if="grid.options.showGridFooter"></div><div ui-grid-column-menu ng-if="grid.options.enableColumnMenus"></div><div ng-transclude></div></div></div>'),e.put("ui-grid/uiGridCell",'<div class="ui-grid-cell-contents" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/uiGridColumnMenu",'<div class="ui-grid-column-menu"><div ui-grid-menu menu-items="menuItems"><!-- <div class="ui-grid-column-menu">\n    <div class="inner" ng-show="menuShown">\n      <ul>\n        <div ng-show="grid.options.enableSorting">\n          <li ng-click="sortColumn($event, asc)" ng-class="{ \'selected\' : col.sort.direction == asc }"><i class="ui-grid-icon-sort-alt-up"></i> Sort Ascending</li>\n          <li ng-click="sortColumn($event, desc)" ng-class="{ \'selected\' : col.sort.direction == desc }"><i class="ui-grid-icon-sort-alt-down"></i> Sort Descending</li>\n          <li ng-show="col.sort.direction" ng-click="unsortColumn()"><i class="ui-grid-icon-cancel"></i> Remove Sort</li>\n        </div>\n      </ul>\n    </div>\n  </div> --></div></div>'),e.put("ui-grid/uiGridFooterCell",'<div class="ui-grid-cell-contents" col-index="renderIndex"><div>{{ col.getAggregationText() + ( col.getAggregationValue() CUSTOM_FILTERS ) }}</div></div>'),e.put("ui-grid/uiGridHeaderCell",'<div role="columnheader" ng-class="{ \'sortable\': sortable }" ui-grid-one-bind-aria-labelledby-grid="col.uid + \'-header-text \' + col.uid + \'-sortdir-text\'" aria-sort="{{col.sort.direction == asc ? \'ascending\' : ( col.sort.direction == desc ? \'descending\' : (!col.sort.direction ? \'none\' : \'other\'))}}"><div role="button" tabindex="0" class="ui-grid-cell-contents ui-grid-header-cell-primary-focus" col-index="renderIndex" title="TOOLTIP"><span class="ui-grid-header-cell-label" ui-grid-one-bind-id-grid="col.uid + \'-header-text\'">{{ col.displayName CUSTOM_FILTERS }}</span> <span ui-grid-one-bind-id-grid="col.uid + \'-sortdir-text\'" ui-grid-visible="col.sort.direction" aria-label="{{getSortDirectionAriaLabel()}}"><i ng-class="{ \'ui-grid-icon-up-dir\': col.sort.direction == asc, \'ui-grid-icon-down-dir\': col.sort.direction == desc, \'ui-grid-icon-blank\': !col.sort.direction }" title="{{isSortPriorityVisible() ? i18n.headerCell.priority + \' \' + ( col.sort.priority + 1 )  : null}}" aria-hidden="true"></i> <sub ui-grid-visible="isSortPriorityVisible()" class="ui-grid-sort-priority-number">{{col.sort.priority + 1}}</sub></span></div><div role="button" tabindex="0" ui-grid-one-bind-id-grid="col.uid + \'-menu-button\'" class="ui-grid-column-menu-button" ng-if="grid.options.enableColumnMenus && !col.isRowHeader  && col.colDef.enableColumnMenu !== false" ng-click="toggleMenu($event)" ng-class="{\'ui-grid-column-menu-button-last-col\': isLastCol}" ui-grid-one-bind-aria-label="i18n.headerCell.aria.columnMenuButtonLabel" aria-haspopup="true"><i class="ui-grid-icon-angle-down" aria-hidden="true">&nbsp;</i></div><div ui-grid-filter></div></div>'),e.put("ui-grid/uiGridMenu",'<div class="ui-grid-menu" ng-if="shown"><style ui-grid-style>{{dynamicStyles}}</style><div class="ui-grid-menu-mid" ng-show="shownMid"><div class="ui-grid-menu-inner"><ul role="menu" class="ui-grid-menu-items"><li ng-repeat="item in menuItems" role="menuitem" ui-grid-menu-item ui-grid-one-bind-id="\'menuitem-\'+$index" action="item.action" name="item.title" active="item.active" icon="item.icon" shown="item.shown" context="item.context" template-url="item.templateUrl" leave-open="item.leaveOpen" screen-reader-only="item.screenReaderOnly"></li></ul></div></div></div>'),e.put("ui-grid/uiGridMenuItem",'<button type="button" class="ui-grid-menu-item" ng-click="itemAction($event, title)" ng-show="itemShown()" ng-class="{ \'ui-grid-menu-item-active\': active(), \'ui-grid-sr-only\': (!focus && screenReaderOnly) }" aria-pressed="{{active()}}" tabindex="0" ng-focus="focus=true" ng-blur="focus=false"><i ng-class="icon" aria-hidden="true">&nbsp;</i> {{ name }}</button>'),e.put("ui-grid/uiGridRenderContainer","<div role=\"grid\" ui-grid-one-bind-id-grid=\"'grid-container'\" class=\"ui-grid-render-container\" ng-style=\"{ 'margin-left': colContainer.getMargin('left') + 'px', 'margin-right': colContainer.getMargin('right') + 'px' }\"><!-- All of these dom elements are replaced in place --><div ui-grid-header></div><div ui-grid-viewport></div><div ng-if=\"colContainer.needsHScrollbarPlaceholder()\" class=\"ui-grid-scrollbar-placeholder\" ng-style=\"{height:colContainer.grid.scrollbarHeight + 'px'}\"></div><ui-grid-footer ng-if=\"grid.options.showColumnFooter\"></ui-grid-footer></div>"),e.put("ui-grid/uiGridViewport",'<div role="rowgroup" class="ui-grid-viewport" ng-style="colContainer.getViewportStyle()"><!-- tbody --><div class="ui-grid-canvas"><div ng-repeat="(rowRenderIndex, row) in rowContainer.renderedRows track by $index" class="ui-grid-row" ng-style="Viewport.rowStyle(rowRenderIndex)"><div role="row" ui-grid-row="row" row-render-index="rowRenderIndex"></div></div></div></div>'),e.put("ui-grid/cellEditor",'<div><form name="inputForm"><input type="INPUT_TYPE" ng-class="\'colt\' + col.uid" ui-grid-editor ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/dropdownEditor",'<div><form name="inputForm"><select ng-class="\'colt\' + col.uid" ui-grid-edit-dropdown ng-model="MODEL_COL_FIELD" ng-options="field[editDropdownIdLabel] as field[editDropdownValueLabel] CUSTOM_FILTERS for field in editDropdownOptionsArray"></select></form></div>'),e.put("ui-grid/fileChooserEditor",'<div><form name="inputForm"><input ng-class="\'colt\' + col.uid" ui-grid-edit-file-chooser type="file" id="files" name="files[]" ng-model="MODEL_COL_FIELD"></form></div>'),e.put("ui-grid/expandableRow",'<div ui-grid-expandable-row ng-if="expandableRow.shouldRenderExpand()" class="expandableRow" style="float:left; margin-top: 1px; margin-bottom: 1px" ng-style="{width: (grid.renderContainers.body.getCanvasWidth()) + \'px\', height: row.expandedRowHeight + \'px\'}"></div>'),e.put("ui-grid/expandableRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-if="!row.groupHeader==true" ng-class="{ \'ui-grid-icon-plus-squared\' : !row.isExpanded, \'ui-grid-icon-minus-squared\' : row.isExpanded }" ng-click="grid.api.expandable.toggleRowExpansion(row.entity)"></i></div></div>'),e.put("ui-grid/expandableScrollFiller","<div ng-if=\"expandableRow.shouldRenderFiller()\" ng-class=\"{scrollFiller:true, scrollFillerClass:(colContainer.name === 'body')}\" ng-style=\"{ width: (grid.getViewportWidth()) + 'px', height: row.expandedRowHeight + 2 + 'px', 'margin-left': grid.options.rowHeader.rowHeaderWidth + 'px' }\"><i class=\"ui-grid-icon-spin5 ui-grid-animate-spin\" ng-style=\"{'margin-top': ( row.expandedRowHeight/2 - 5) + 'px', 'margin-left' : ((grid.getViewportWidth() - grid.options.rowHeader.rowHeaderWidth)/2 - 5) + 'px'}\"></i></div>"),e.put("ui-grid/expandableTopRowHeader",'<div class="ui-grid-row-header-cell ui-grid-expandable-buttons-cell"><div class="ui-grid-cell-contents"><i ng-class="{ \'ui-grid-icon-plus-squared\' : !grid.expandable.expandedAll, \'ui-grid-icon-minus-squared\' : grid.expandable.expandedAll }" ng-click="grid.api.expandable.toggleAllRows()"></i></div></div>'),e.put("ui-grid/csvLink",'<span class="ui-grid-exporter-csv-link-span"><a href="data:text/csv;charset=UTF-8,CSV_CONTENT" download="FILE_NAME">LINK_LABEL</a></span>'),e.put("ui-grid/importerMenuItem",'<li class="ui-grid-menu-item"><form><input class="ui-grid-importer-file-chooser" type="file" id="files" name="files[]"></form></li>'),e.put("ui-grid/importerMenuItemContainer","<div ui-grid-importer-menu-item></div>"),e.put("ui-grid/pagination",'<div role="contentinfo" class="ui-grid-pager-panel" ui-grid-pager ng-show="grid.options.enablePaginationControls"><div role="navigation" class="ui-grid-pager-container"><div role="menubar" class="ui-grid-pager-control"><button type="button" role="menuitem" class="ui-grid-pager-first" ui-grid-one-bind-title="aria.pageToFirst" ui-grid-one-bind-aria-label="aria.pageToFirst" ng-click="pageFirstPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle\' : \'first-triangle\'"><div ng-class="grid.isRTL() ? \'last-bar-rtl\' : \'first-bar\'"></div></div></button> <button type="button" role="menuitem" class="ui-grid-pager-previous" ui-grid-one-bind-title="aria.pageBack" ui-grid-one-bind-aria-label="aria.pageBack" ng-click="pagePreviousPageClick()" ng-disabled="cantPageBackward()"><div ng-class="grid.isRTL() ? \'last-triangle prev-triangle\' : \'first-triangle prev-triangle\'"></div></button> <input type="number" ui-grid-one-bind-title="aria.pageSelected" ui-grid-one-bind-aria-label="aria.pageSelected" class="ui-grid-pager-control-input" ng-model="grid.options.paginationCurrentPage" min="1" max="{{ paginationApi.getTotalPages() }}" required> <span class="ui-grid-pager-max-pages-number" ng-show="paginationApi.getTotalPages() > 0"><abbr ui-grid-one-bind-title="paginationOf">/</abbr> {{ paginationApi.getTotalPages() }}</span> <button type="button" role="menuitem" class="ui-grid-pager-next" ui-grid-one-bind-title="aria.pageForward" ui-grid-one-bind-aria-label="aria.pageForward" ng-click="pageNextPageClick()" ng-disabled="cantPageForward()"><div ng-class="grid.isRTL() ? \'first-triangle next-triangle\' : \'last-triangle next-triangle\'"></div></button> <button type="button" role="menuitem" class="ui-grid-pager-last" ui-grid-one-bind-title="aria.pageToLast" ui-grid-one-bind-aria-label="aria.pageToLast" ng-click="pageLastPageClick()" ng-disabled="cantPageToLast()"><div ng-class="grid.isRTL() ? \'first-triangle\' : \'last-triangle\'"><div ng-class="grid.isRTL() ? \'first-bar-rtl\' : \'last-bar\'"></div></div></button></div><div class="ui-grid-pager-row-count-picker" ng-if="grid.options.paginationPageSizes.length > 1"><select ui-grid-one-bind-aria-labelledby-grid="\'items-per-page-label\'" ng-model="grid.options.paginationPageSize" ng-options="o as o for o in grid.options.paginationPageSizes"></select><span ui-grid-one-bind-id-grid="\'items-per-page-label\'" class="ui-grid-pager-row-count-label">&nbsp;{{sizesLabel}}</span></div><span ng-if="grid.options.paginationPageSizes.length <= 1" class="ui-grid-pager-row-count-label">{{grid.options.paginationPageSize}}&nbsp;{{sizesLabel}}</span></div><div class="ui-grid-pager-count-container"><div class="ui-grid-pager-count"><span ng-show="grid.options.totalItems > 0">{{showingLow}} <abbr ui-grid-one-bind-title="paginationThrough">-</abbr> {{showingHigh}} {{paginationOf}} {{grid.options.totalItems}} {{totalItemsLabel}}</span></div></div></div>'),e.put("ui-grid/columnResizer",'<div ui-grid-column-resizer ng-if="grid.options.enableColumnResizing" class="ui-grid-column-resizer" col="col" position="right" render-index="renderIndex" unselectable="on"></div>'),e.put("ui-grid/gridFooterSelectedItems",'<span ng-if="grid.selection.selectedCount !== 0 && grid.options.enableFooterTotalSelected">({{"search.selectedItems" | t}} {{grid.selection.selectedCount}})</span>'),e.put("ui-grid/selectionHeaderCell",'<div><!-- <div class="ui-grid-vertical-bar">&nbsp;</div> --><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-selection-select-all-buttons ng-if="grid.options.enableSelectAll"></ui-grid-selection-select-all-buttons></div></div>'),e.put("ui-grid/selectionRowHeader",'<div class="ui-grid-disable-selection"><div class="ui-grid-cell-contents"><ui-grid-selection-row-header-buttons></ui-grid-selection-row-header-buttons></div></div>'),e.put("ui-grid/selectionRowHeaderButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-row-selected\': row.isSelected}" ng-click="selectButtonClick(row, $event)">&nbsp;</div>'),e.put("ui-grid/selectionSelectAllButtons",'<div class="ui-grid-selection-row-header-buttons ui-grid-icon-ok" ng-class="{\'ui-grid-all-selected\': grid.selection.selectAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseExpandAllButtons",'<div class="ui-grid-tree-base-row-header-buttons" ng-class="{\'ui-grid-icon-minus-squared\': grid.treeBase.numberLevels > 0 && grid.treeBase.expandAll, \'ui-grid-icon-plus-squared\': grid.treeBase.numberLevels > 0 && !grid.treeBase.expandAll}" ng-click="headerButtonClick($event)"></div>'),e.put("ui-grid/treeBaseHeaderCell",'<div><div class="ui-grid-cell-contents" col-index="renderIndex"><ui-grid-tree-base-expand-all-buttons ng-if="grid.options.enableExpandAll"></ui-grid-tree-base-expand-all-buttons></div></div>'),e.put("ui-grid/treeBaseRowHeader",'<div class="ui-grid-cell-contents"><ui-grid-tree-base-row-header-buttons></ui-grid-tree-base-row-header-buttons></div>'),e.put("ui-grid/treeBaseRowHeaderButtons","<div class=\"ui-grid-tree-base-row-header-buttons\" ng-class=\"{'ui-grid-tree-base-header': row.treeLevel > -1 }\" ng-click=\"treeButtonClick(row, $event)\"><i ng-class=\"{'ui-grid-icon-minus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'expanded', 'ui-grid-icon-plus-squared': ( ( grid.options.showTreeExpandNoChildren && row.treeLevel > -1 ) || ( row.treeNode.children && row.treeNode.children.length > 0 ) ) && row.treeNode.state === 'collapsed'}\" ng-style=\"{'padding-left': grid.options.treeIndent * row.treeLevel + 'px'}\"></i> &nbsp;</div>"),e.put("ui-grid/cellTitleValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" title="{{grid.validate.getTitleFormattedErrors(row.entity,col.colDef)}}">{{COL_FIELD CUSTOM_FILTERS}}</div>'),e.put("ui-grid/cellTooltipValidator",'<div class="ui-grid-cell-contents" ng-class="{invalid:grid.validate.isInvalid(row.entity,col.colDef)}" tooltip-html-unsafe="{{grid.validate.getFormattedErrors(row.entity,col.colDef)}}" tooltip-enable="grid.validate.isInvalid(row.entity,col.colDef)" tooltip-append-to-body="true" tooltip-placement="top" title="TOOLTIP">{{COL_FIELD CUSTOM_FILTERS}}</div>')}]),function(e,t){"use strict";t.module("dist.ui.formElement",[])}(window,window.angular),function(e,t){"use strict";t.module("dist.ui.wiTab",[]).directive("wiPageTab",["$rootScope",function(){return{restrict:"EA",replace:!0,scope:{tabConfig:"=?",itemclick:"&"},templateUrl:"template/wiTab/wiPageTab-template-tab.html",compile:function(){return{pre:function(){},post:function(e){e.itemclick=e.itemclick()||t.noop,e.currentTab=0,e.tabConfig.lists=e.tabConfig.lists||[],t.forEach(e.tabConfig.lists,function(t,i){t.active&&(e.currentTab=i)}),e.tabs=function(t){return t===e.currentTab},e.tab=function(t,i){e.itemclick(i,t),e.currentTab=i}}}}}}])}(window,window.angular),angular.module("template/accordion/wi-accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/wi-accordion-group.html",'<div class="wi-accordion-group" ng-class="{\'open\': isOpen}">\n  <div class="wi-accordion-head"  ng-click="toggleOpen()" ng-class="{\'wi-accordion-disabled\': isDisabled}"\n       ng-style="{\'height\': style.headheight, \'line-height\': style.headheight}"\n       wi-accordion-transclude="heading">{{heading}}</div>\n  <div class="wi-accordion-panel" wi-collapse="!isOpen">\n      <div class="wi-accordion-cont" ng-style="{\'height\':panelStyle.cheight}" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/wi-accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/wi-accordion.html",'<div class="wi-accordion" ng-transclude></div>')}]),angular.module("template/camerascanner/camerascannerTemplate.html",[]).run(["$templateCache",function(e){e.put("template/camerascanner/camerascannerTemplate.html",'<div>\n    <div>\n        <a href="javascript:void(0);" class="wi-btn icon-picture" ng-click="open()">\n            <span ng-transclude></span>\n        </a>\n    </div>\n\n    <div class="wi-camerascanner wi-camerascanner-hide">\n\n        <div class="wi-camerascanner-main wi-clearf" style="width: 792px;height: 592px;">\n            <div class="wi-dialog-head">\n                拍照上传\n                <span style="margin-left: 130px; visibility: hidden;" class="wi-camerascanner-head-select">\n                    请选择视频设备:\n                </span>\n                <span class="wi-dialog-close icon-remove" ng-click="close()"></span>\n            </div>\n            <div class="wi-camerascanner-opt">\n                <object id="XwebcamXobjectX"\n                        type="application/x-shockwave-flash"\n                        data="demo/camerascanner/docs/jscam.swf"\n                        width="500"\n                        height="500">\n                    <param name="movie" value="demo/camerascanner/docs/jscam.swf" />\n                    <param name="FlashVars" value="cw=1200&ch=1600&vw=375&vh=500" />\n                    <param name="allowScriptAccess" value="always" />\n                    <param name="bgcolor" value="#FFFFCC" />\n                    <!--<param name="wmode" value="Opaque">-->\n                </object>\n                <div class="wi-camerascanner-toolbar">\n                    <a ng-click="rotate(-90)" href="javascript:void(0);" class="wi-camerascanner-left" title="逆时针旋转"></a>\n                    <a ng-click="rotate(90)" href="javascript:void(0);" class="wi-camerascanner-right" title="顺时针旋转"></a>\n                    <a ng-click="resetCut()" href="javascript:void(0);" class="wi-camerascanner-reset" title="重新裁剪"></a>\n                </div>\n            </div>\n\n            <div class="wi-camerascanner-list" style="width: 260px; height:465px;">\n            </div>\n\n            <div class="wi-camerascanner-qulitity">\n                图片质量:\n                <select ng-model="camResolution" ng-change="resolution()">\n                    <option value ="1200*1600">1200*1600(约1.92MB)</option>\n                    <option value ="960*1280">960*1280(约1.23MB)</option>\n                    <option value ="600*800">600*800(约480KB)</option>\n                </select>\n            </div>\n            <div class="wi-camerascanner-btns">\n                <a class="wi-camerascanner-btn" href="javascript:void(0);">拍照</a>\n                <a class="wi-btn" href="javascript:void(0);" ng-click="upload()">上传</a>\n            </div>\n\n        </div>\n\n        <wi-imageview width="800" height="600" adaptive="true" imagedata="imagedata" previous="previous()" next="next()" close="viewClose()"></wi-imageview>\n\n        <script type="text/ng-template" id="cameraScannerConfirm">\n            <div>\n                <div style="margin: 20px 30px;">\n                    文件名：<input ng-model="filename"/><br>\n                </div>\n                <div class="wi-alert-toolbar">\n                    <button class="wi-btn"  ng-click="closeThisDialog()">取消</button>\n                    <button class="wi-btn"  ng-click="confirm(filename)">确认</button>\n                </div>\n            </div>\n        </script>\n\n    </div>\n\n</div>\n')
}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="wi-carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ul class="wi-carousel-ul" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{\'wi-carousel-active\': isActive(slide)}" ng-click="select(slide)"></li>\n    </ul>\n    <div class="wi-carousel-inner" ng-transclude></div>\n    <a class="wi-carousel-ctrl wi-carousel-ctrl-left" ng-click="prev()" ng-show="slides.length > 1"><span class="icon-chevron-left"></span></a>\n    <a class="wi-carousel-ctrl wi-carousel-ctrl-right" ng-click="next()" ng-show="slides.length > 1"><span class="icon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html","<div ng-class=\"{\n    'wi-slide-active': leaving || (active && !entering),\n    'wi-slide-prev': (next || active) && direction=='prev',\n    'wi-slide-next': (next || active) && direction=='next',\n    'wi-slide-right': direction=='prev',\n    'wi-slide-left': direction=='next'\n  }\" class=\"wi-slide\" ng-transclude></div>\n")}]),angular.module("template/combobox/comboboxTemplate.html",[]).run(["$templateCache",function(e){e.put("template/combobox/comboboxTemplate.html",'<div class="wi-popup wi-combobox"\n     ng-keydown="vm.keydownHandler($event)"\n     ng-click="vm.clickHandler($event)"\n     is-open="vm.isopen" ng-disabled="vm.enable">\n    <div class="wi-popup-menu wi-combobox-menu">\n        <ul>\n            <li ng-repeat="data in vm.dataprovider"\n                ng-class="{\'wi-combobox-selected\':($index===vm.selectedindex&&!data[\'isGroup\']) || data[\'_checked\'],\'wi-combobox-option\':!data[\'isGroup\']}"\n                ng-click="vm.itemClickHandler(data,$event)"\n                ng-style="{\'padding-left\': (groupfield&&!data[\'isGroup\']?15 : 5)+\'px\',\'font-weight\':data[\'isGroup\']?\'bold\':\'normal\'}">\n                <input ng-if="multiselect" class="wi-checkbox" type="checkbox" ng-click="checkAll()" ng-checked="data[\'_checked\']" />\n                {{data[vm.labelfield]}}\n            </li>\n        </ul>\n    </div>\n    <input type="text" ng-model="vm._text" ng-change="vm.inputChange()" ng-disabled="vm.enable"/>\n    <span class="icon-chevron-down"></span>\n</div>')}]),angular.module("template/datagrid/datagridTemplate.html",[]).run(["$templateCache",function(e){e.put("template/datagrid/datagridTemplate.html",'<div class="wi-datagrid" ng-class="{\'wi-datagrid-wordWrap\':!_wordwrap}">\n    <div class="wi-datagrid-ltop" >\n        <table ng-if="lockcolumns">\n            <colgroup>\n                <col ng-if="showno">\n                <col ng-if="multiselect">\n                <col ng-repeat="columnItem in columnDefs track by $index" ng-if="$index<lockcolumns"\n                     width="{{columnItem.width+\'px\'}}">\n            </colgroup>\n            <tbody>\n            <tr ng-repeat="head in headarray track by $index">\n                <td ng-if="$index==0 && showno" class="wi-datagrid-keycol" rowspan="{{::maxLevel}}"></td>\n                <td ng-if="$index==0 && multiselect" class="wi-datagrid-keycol" rowspan="{{::maxLevel}}">\n                    <input type="checkbox" class="wi-checkbox" ng-click="checkAll()" ng-checked="isCheckAll"  />\n                </td>\n                <td ng-repeat="child in head track by $index" ng-if="child.colindex<lockcolumns" colspan="{{::child.colspan}}" rowspan="{{::child.rowspan}}" ng-click="sort(child.colindex)" ng-mousemove="headMousemove($event)" ng-mouseleave="headMouseleave()" ng-mousedown="startColumnDrag($event,child,true)">\n                    <div class="wi-datagrid-headdiv">\n                        <div ng-if="child.headrenderer" ng-include src="child.headrenderer" class="wi-display-inlineb"></div>\n                        <span ng-if="!child.headrenderer">{{child.text}}</span>\n                        <span ng-if="sortcolumn.datafield==child.datafield" class="wi-datagrid-caret{{sortcolumn.direction}}"></span>\n                    </div>\n                </td>\n                <td>&nbsp;</td><!-- 防止合并行高度自适应 -->\n            </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class="wi-datagrid-rtop">\n        <table ng-style="{width: (rightW + 17) + \'px\'}">\n            <colgroup>\n                <col ng-if="showno && !lockcolumns">\n                <col ng-if="multiselect && !lockcolumns">\n                <col ng-repeat="columnItem in columnDefs track by $index" ng-if="!lockcolumns||$index>=lockcolumns"\n                     width="{{columnItem.width+\'px\'}}">\n                <col width="17px">\n            </colgroup>\n            <tbody>\n            <tr ng-repeat="head in headarray track by $index">\n                <td ng-if="$index==0 && showno && !lockcolumns" class="wi-datagrid-keycol" rowspan="{{::maxLevel}}"></td>\n                <td ng-if="$index==0 && multiselect && !lockcolumns" class="wi-datagrid-keycol" rowspan="{{::maxLevel}}">\n                    <input type="checkbox" class="wi-checkbox" ng-click="checkAll()" ng-checked="isCheckAll" />\n                </td>\n                <td ng-repeat="child in head track by $index" ng-if="!lockcolumns||child.colindex>=lockcolumns" colspan="{{::child.colspan}}" rowspan="{{::child.rowspan}}" ng-click="sort(child.colindex)" ng-mousemove="headMousemove($event)" ng-mouseleave="headMouseleave()" ng-mousedown="startColumnDrag($event,child,false)">\n                    <div class="wi-datagrid-headdiv">\n                        <div ng-if="child.headrenderer" ng-include src="child.headrenderer" class="wi-display-inlineb"></div>\n                        <span ng-if="!child.headrenderer">{{child.text}}</span>\n                        <span ng-if="sortcolumn.datafield==child.datafield" class="wi-datagrid-caret{{sortcolumn.direction}}"></span>\n                    </div>\n                </td>\n                <td style="border-color: transparent; cursor: default;">&nbsp;</td><!-- 防止合并行高度自适应 -->\n            </tr>\n            </tbody>\n        </table>\n    </div>\n\n    <div class="wi-datagrid-lbottom">\n        <table id="lBottomTable">\n            <col ng-if="showno">\n            <col ng-if="multiselect">\n            <col ng-repeat="columnItem in columnDefs track by $index" ng-if="$index<lockcolumns"\n                 width="{{columnItem.width+\'px\'}}">\n            <tr id="lBottomTR{{::$index}}" ng-style="{\'background-color\':pdata.__rowcolor,\'height\':_rowheight+\'px\'}" ng-class="{\'wi-datagrid-row-selected\':pdata.__ischecked}">\n\n            </tr>\n            <tr class="wi-datagrid-cover"><td></td></tr>\n        </table>\n    </div>\n\n    <div class="wi-datagrid-rbottom">\n        <table id="rBottomTable" ng-style="{width: rightW + \'px\'}">\n            <col ng-if="showno && !lockcolumns">\n            <col ng-if="multiselect && !lockcolumns">\n            <col ng-repeat="columnItem in columnDefs track by $index" ng-if="!lockcolumns||$index>=lockcolumns"\n                 width="{{columnItem.width+\'px\'}}" >\n            <tr id="rBottomTR{{::$index}}" ng-style="{\'background-color\':pdata.__rowcolor,\'height\':_rowheight+\'px\'}" ng-class="{\'wi-datagrid-row-selected\':pdata.__ischecked}">\n\n            </tr>\n        </table>\n    </div>\n\n    <div class="wi-datagrid-pagebar">\n        <div class="wi-datagrid-page-left" ng-if="pagemode!==\'none\'">\n            <span>\n                每页\n                <select id="pageSizeSel" ng-model="$parent.selectedPageSize"  ng-options="op for op in pageselect||[20,30,40,50,60]">\n                </select>\n                条&nbsp;,&nbsp;共{{dataCount}}条\n            </span>\n            <span>\n                <a href="#" ng-click="pageNum===1?null:doPage(1)" title="首页"><span class="icon-step-backward"></span></a>\n                <a href="#" ng-click="pageNum===1?null:doPage(pageNum-1)" title="上一页"><span class="icon-backward"></span></a>\n                &nbsp;&nbsp;{{pageNum}}/{{pageCount}}&nbsp;&nbsp;\n                <a href="#" ng-click="pageNum===pageCount?null:doPage(pageNum+1)" title="下一页"><span class="icon-forward"></span></a>\n                <a href="#" ng-click="pageNum===pageCount?null:doPage(pageCount)" title="尾页"><span class="icon-step-forward"></span></a>\n                <input type="text" class="wi-datagrid-page-num" onclick="javascript:this.select()" ng-keydown="gotoPage($event)" />\n            </span>\n        </div>\n        <div class="wi-datagrid-page-right">\n            <span ng-if="pagebarrenderer" ng-include src="pagebarrenderer"/>\n            <span ng-if="!(showrefresh==\'false\')">\n                <a href="#" ng-click="dorefresh()"><span class="icon-refresh"></span> 刷新</a>\n            </span>\n            <span ng-if="showexcel">\n                <a href="#" download="导出文件.xls" ng-click="export2excel($event)"><span class="icon-share-alt"></span> 导出excel</a>\n            </span>\n        </div>\n    </div>\n\n    <div class="wi-datagrid-followbar" style=\'display: none; left: 0;\'></div>\n\n    <div class=\'wi-datagrid-maskdiv\' style=\'visibility: hidden\'></div>\n    <div id="ngTranscludeDiv" ng-transclude></div>\n</div>')}]),angular.module("template/dividedbox/wi-dividedbox-group.html",[]).run(["$templateCache",function(e){e.put("template/dividedbox/wi-dividedbox-group.html","<div class=\"wi-dividedbox-group\"\n     ng-style=\"{ width:dividedboxG.type=='h'?'calc('+ dividedboxG.size +' + '+ dividedboxG.resize +'px)':'',\n        height:dividedboxG.type=='v'?'calc('+dividedboxG.size+' + '+dividedboxG.resize+'px)':''}\">\n    <div class=\"wi-dividedbox-head wi-clearf\" ng-class=\"{'wi-dividedbox-colled':dividedboxG.collapsed}\">\n        <span class=\"wi-dividedbox-title\">\n"+'            <img class="wi-dividedbox-icon" ng-if="dividedboxG.icon" ng-src="{{dividedboxG.icon}}" />\n            {{dividedboxG.title}}\n        </span>\n        <div ng-class="\'wi-display-none wi-dividedbox-collctrl-\'+dividedboxG.collapseto" ng-click="doCollapse()"></div>\n    </div>\n    <div class="wi-dividedbox-cont" ng-transclude></div>\n    <div class="wi-dividedbox-bar" ng-mousedown="startResize()"></div>\n</div>')}]),angular.module("template/dividedbox/wi-dividedbox.html",[]).run(["$templateCache",function(e){e.put("template/dividedbox/wi-dividedbox.html","<div class=\"wi-dividedbox wi-clearf\"\n     ng-class=\"{'wi-unselectable':resizeConf.resizing,'wi-dividedbox-resizing':resizeConf.resizing,'wi-dividedbox-resizable': resizeConf.resizable}\" ng-transclude>\n</div>")}]),angular.module("template/fileupload/wi-fileupload.html",[]).run(["$templateCache",function(e){e.put("template/fileupload/wi-fileupload.html",'<ul class="wi-fileupload" ng-style="{display: files.length>0 && !fileULOptions.modal ? \'\' : \'none\'}">\n    <li ng-repeat="file in files track by file.id">\n        <span class="wi-fileupload-info" ng-style="{cursor: file.stat==3 ? \'pointer\': \'\'}" ng-click="getResponse(file)">\n            <span class="wi-fileupload-icon icon-{{file.type}}"></span>\n            {{file.name}}\n            <span class="wi-fileupload-tip">({{file.size}})</span>\n        </span>\n        <span class="wi-fileupload-completed" ng-style="{display: file.stat==3 ? \'\' : \'none\'}">完成</span>\n        <span class="wi-fileupload-queued" ng-style="{display: file.stat==1 ? \'\' : \'none\'}">等待上传</span>\n        <!--<span class="wi-fileupload-uploading" ng-style="{display: file.stat==2 ? \'\' : \'none\'}">\n            <span class="wi-fileupload-bar">\n                <div class="wi-fileupload-progress" ng-style="{\'width\': file.percent + \'%\'}"></div>\n            </span>\n            {{file.percent}}%\n        </span>-->\n        <wi-progress ng-style="{display: file.stat==2 ? \'\' : \'none\'}" label="file.progressLabel" value="file.percent"></wi-progress>\n        <span class="wi-fileupload-error" ng-style="{display: file.stat==4 ? \'\' : \'none\'}">上传失败</span>\n        <span class="wi-fileupload-del" ng-click="removeFile(file)">删除</span>\n    </li>\n</ul>')}]),angular.module("template/imageview/imageviewTemplate.html",[]).run(["$templateCache",function(e){e.put("template/imageview/imageviewTemplate.html",'<div class="wi-imageview" ng-style="{\'display\':isopen?\'block\':\'none\'}">\n    <div class="wi-imageview-picbox" ng-style="{\'top\':top,\'left\':left}">\n        <div class="wi-imageview-pic" ng-style="{\'width\':+_width+\'px\',\'height\':+_height+\'px\'}"  ng-class="img_exclass" ng-mouseenter="mouseenter()" ng-mouseleave="mouseleave()" ng-mousedown="mousedown($event)"></div>\n        <div class="wi-imageview-ctrl wi-imageview-ctrl-prev" ng-click="previous()" title="上一张" ng-if="_show_previous"></div>\n        <div class="wi-imageview-ctrl wi-imageview-ctrl-next" ng-click="next()" title="下一张" ng-if="_show_next"></div>\n        <div class="wi-imageview-toolbar wi-unselectable">\n            <a class="wi-imageview-zoomout" ng-click="zoomout()" title="放大"></a>\n            <a class="wi-imageview-zoomin" ng-click="zoomin()" title="缩小"></a>\n            <a class="wi-imageview-reset" ng-click="reset()" title="重置"></a>\n            <a class="wi-imageview-toleft" ng-click="toright()" title="逆时针旋转"></a>\n            <a class="wi-imageview-toright" ng-click="toleft()" title="顺时针旋转"></a>\n            <a class="wi-imageview-save" style="text-decoration:none;" href="{{img_src}}" title="本地保存" ng-if="_show_save"></a>\n            <a class="wi-imageview-full" ng-click="full()" title="全屏" ng-if="!isfull"></a>\n            <a class="wi-imageview-origin" ng-click="origin()" title="退出全屏" ng-if="isfull"></a>\n        </div>\n        <div class="wi-imageview-close" ng-click="close()"></div>\n    </div>\n</div>\n\n\n')}]),angular.module("template/menu/wi-menu.html",[]).run(["$templateCache",function(e){e.put("template/menu/wi-menu.html",'<div class="wi-menu" ng-class="{\'wi-menu-open\': isOpen, \'wi-menu-root\': menutype != \'sub\'}">\n    <div class="wi-menu-toolbar wi-clearf" ng-style="{display: conf.filterable || groupsBackward.length || groupsForward.length ? \'block\':\'none\'}">\n        <span class="wi-menu-backward" ng-class="{\'wi-menu-page\': groupsBackward.length}" ng-click="backwardClick($event)">\n            <span class="icon-arrow-left"></span></span>\n        <input type="text" class="wi-menu-filter" ng-style="{display: conf.filterable ? \'inline-block\' : \'none\'}" ng-model="filterval" onclick="event.stopPropagation()" placeholder="检索关键字" />\n        <span class="wi-menu-forward" ng-class="{\'wi-menu-page\': groupsForward.length}" ng-click="forwardClick($event)">\n            <span class="icon-arrow-right"></span></span>\n    </div>\n    <ul ng-repeat="data in datagroups">\n        <li ng-repeat="item in data"\n            ng-class="{\'wi-menu-children\': item.children, \'wi-menu-disabled\': item.enabled == false, \'wi-menu-highlight\': item.highlight, \'wi-menu-item-open\': item.childopen}"\n            ng-mouseenter="mouseenter(item)" ng-mouseleave="mouseleave(item)" ng-click="clickLi($event, item)">\n            <img ng-if="item.icon" class="wi-menu-icon" ng-src="{{item.icon}}" />\n            <span class="wi-menu-content">{{item.label}}</span>\n            <wi-menu ng-if="item.children"\n                     adaptable="true"\n                     position="right-top"\n                     filterable="{{item.filterable}}"\n                     dataprovider="item.children"\n                     is-open="{{item.childopen}}">\n            </wi-menu>\n        </li>\n    </ul>\n</div>')}]),angular.module("template/pagination/wi-pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/wi-pagination.html",'<li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first">\n   <a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a>\n</li>\n\n <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev">\n   <a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a>\n </li>\n \n <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page">\n   <a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a>\n </li>\n \n <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next">\n   <a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a>\n </li>\n \n <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last">\n    <a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a>\n</li>')}]),angular.module("template/panel/wi-panel.html",[]).run(["$templateCache",function(e){e.put("template/panel/wi-panel.html",'<div class="wi-panel" ng-class="{\'wi-panel-close\': !isOpen}"\n     ng-style="{\'width\': width}">\n    <div class="wi-panel-head" ng-click="collbyHead()">\n        <div wi-panel-transclude="headingEl">\n            <img ng-if="headicon" class="wi-panel-icon" ng-src="{{headicon}}" />\n            {{heading}}\n        </div>\n        <div ng-if="headTools.visible" class="wi-panel-tools"><!--span首尾相连，避免换行产生空格-->\n            <span ng-repeat="tool in headTools.custom track by tool.name"\n                  ng-click="tool.opt($event)" class="{{tool.cls}}"></span\n            ><span ng-if="headTools[\'collapse\']"\n                  ng-click="collbyTool($event)"\n                  ng-class="{\'icon-chevron-down\':collapsed, \'icon-chevron-up\':!collapsed}"></span\n            ><span ng-if="headTools[\'close\']" class="icon-remove"\n                  ng-click="closebyTool($event)"></span>\n        </div>\n    </div>\n    <div class="wi-panel-box" wi-collapse="collapsed" ng-transclude></div>\n</div>')}]),angular.module("template/popupbutton/popupbuttonTemplate.html",[]).run(["$templateCache",function(e){e.put("template/popupbutton/popupbuttonTemplate.html",'<div class="wi-popup wi-popupbutton"\n     is-open="isopen">\n    <div class="wi-popup-menu wi-popupbutton-menu" ng-transclude></div>\n    <input class="wi-btn wi-popupbutton-content" type="button" value="{{label}}"/>\n    <button class="wi-btn wi-popupbutton-arrow"><span class="icon-chevron-down"></span></button>\n</div>')}]),angular.module("template/progress/wi-progress.html",[]).run(["$templateCache",function(e){e.put("template/progress/wi-progress.html",'<div class="wi-progress">\n    <span class="wi-progress-bar" ng-style="{\'width\': width}">\n        <div class="wi-progress-value" ng-style="{\'width\': percent + \'%\'}"></div>\n        <div class="wi-progress-remain"></div>\n    </span>\n</div>')}]),angular.module("template/searchinput/wi-searchinput.html",[]).run(["$templateCache",function(e){e.put("template/searchinput/wi-searchinput.html",'<span class="wi-searchinput">\n    <input type="text" ng-model="value" placeholder="{{tips}}" />\n    <span class="icon-search" ng-click="search()"></span>\n</span>\n')}]),angular.module("template/tebset/tabsetTemplate.html",[]).run(["$templateCache",function(e){e.put("template/tebset/tabsetTemplate.html","<div ng-style=\"{'width': conf.width,'height': conf.height}\" class=\"wi-tabset\"\n     ng-class=\"{'h':'wi-tabset-h','v':'wi-tabset-v wi-clearf','vh':'wi-tabset-vh wi-clearf'}[conf.vertical?conf.height?'vh':'v':'h']\">\n    <div class=\"wi-tabhead\"\n         ng-style=\"{'height':!conf.vertical?conf.tabheadsize+'px':'','line-height': !conf.vertical?conf.tabheadsize+'px':'',\n            'width': conf.vertical?conf.tabheadsize+'px':''}\">\n"+'        <span ng-if="scrollable" ng-click="backward()" class="wi-unselectable wi-tabctrl-ver icon-chevron-up"></span><!-- 横向超出才显示 -->\n        <span ng-if="scrollable" ng-click="forward()" class="wi-unselectable wi-tabctrl-ver icon-chevron-down"></span>\n        <span ng-if="scrollable" ng-click="backward()" class="wi-unselectable wi-tabctrl-hor icon-chevron-left"></span><!-- 纵向超出才显示 -->\n        <span ng-if="scrollable" ng-click="forward()" class="wi-unselectable wi-tabctrl-hor icon-chevron-right"></span>\n        <div class="wi-tabstage">\n            <ul ng-class="{true:\'wi-tabul-ver\',false:\'wi-tabul-hor wi-clearf\'}[conf.vertical]"\n                ng-style="ulStyle" style="overflow: visible;"\n                ng-transclude></ul>\n            <wi-menu ng-show="conf.enablerightmenu" wi-right-menu dataprovider="menudata" onselect="rightmenuselect"></wi-menu>\n        </div>\n    </div>\n    <div class="wi-tabcont"\n         ng-style="{\'height\':(conf.height&&!conf.vertical)?\'calc(100% - \'+conf.tabheadsize+\'px )\':\'\',\'margin-left\':conf.vertical?conf.tabheadsize+\'px\':\'\'}">\n        <div ng-repeat="tab in tabs"\n             class="wi-tabpane"\n             ng-show="tab.active"\n             ng-style = "{\'height\':(conf.height||conf.vertical)?\'100%\':\'\'}"\n             wi-tab-content-transclude="tab">\n            <div ng-if="tab.data.src"  ng-include="tab.data.src"></div>\n        </div>\n    </div>\n</div>\n')}]),angular.module("template/tebset/tabTemplate.html",[]).run(["$templateCache",function(e){e.put("template/tebset/tabTemplate.html",'<li class="wi-tab"\n    ng-class="{\'wi-tab-active\': active, \'wi-tab-disabled\': disable, \'wi-tab-hasclose\': _closeable}"\n    ng-click="select()">\n    <span class="icon-remove" ng-click="close($event)"></span>\n    <div class="wi-tabhead-cont" wi-tab-heading-transclude>\n        <img class="wi-tab-icon" ng-src="{{data.icon}}" ng-if="data.icon"/>{{heading}}\n    </div>\n</li>')}]),angular.module("template/tilelist/tilelistTemplate.html",[]).run(["$templateCache",function(e){e.put("template/tilelist/tilelistTemplate.html",'<div class="wi-titlelist">\n    <table class="wi-titlelist-table" cellspacing="0" cellpadding="0" ng-style="{\'width\': tableW,\'height\': tableH}">\n        <tr ng-repeat="rowItem in dataTable">\n            <td class="wi-titlelist-td" ng-repeat="data in rowItem track by $index" ng-style="{\'width\': colW,\'height\': rowH}">\n                <div class="wi-titlelist-cont" ng-if="itemrender" ng-include src="itemrender"></div>\n            </td>\n        </tr>\n    </table>\n</div>\n')}]),angular.module("template/tree/treeTemplate.html",[]).run(["$templateCache",function(e){e.put("template/tree/treeTemplate.html","<ul class=\"wi-tree\">\n    <li ng-repeat=\"data in vm._data | orderBy : conf.orderby\">\n        <div class=\"wi-tree-item\" ng-class=\"{'wi-tree-current':data['__current']}\"\n             ng-style=\"{'padding-left': 16*(data['__level']+(data['children']?0:1))+'px'}\"\n             ng-click=\"handler.clickRow(data)\"\n             ng-mouseenter=\"handler.toggleHover(data)\" ng-mouseleave=\"handler.toggleHover(data)\">\n            <span class=\"icon-{{data['__closed']?'plus':'minus'}}\"\n                  ng-if=\"!!data['children']\"\n                  ng-click=\"handler.toggleNode($event,data)\"></span>\n            <!-- 选中或半选 -->\n            <input type=\"checkbox\" class=\"wi-checkbox\"\n                   ng-class=\"{'wi-tree-transparent-50':data['__semi']}\"\n                   ng-if=\"conf.multiselect\"\n                   ng-checked=\"data['__selected']||data['__semi']\" />\n            <span class=\"wi-tree-loading\" ng-if=\"data['__loading']\"></span>\n            <!-- 优先级：数据项中 cls，根节点定义的 pCls 或 cCls，默认图标 -->\n            <span class=\"wi-tree-icon {{data['cls']||(data['children']?\n                conf.pCls||'icon-folder-'+(data['__closed']?'close':'open'):\n                conf.cCls)}}\" ng-if=\"!data['__loading']\"></span>\n            <span>{{data[conf.labelfield]}}</span>\n            <span ng-if=\"conf.itemrenderer\"\n                  ng-include src=\"conf.itemrenderer\"></span>\n        </div>\n        <wi-tree ng-if=\"data['children'] && !data['__closed']\"\n                 dataProvider=\"data['children']\">\n        </wi-tree>\n    </li>\n</ul>")}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="wi-tooltip {{\'wi-tooltip-\' + placement}}" ng-class="{ \'wi-tooltip-in\': isOpen() }">\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="wi-tooltip {{\'wi-tooltip-\' + placement}}" ng-class="{ \'wi-tooltip-in\': isOpen(),\'wi-fade\': animation() }">\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/wiTab/wiPageTab-template-tab.html",[]).run(["$templateCache",function(e){e.put("template/wiTab/wiPageTab-template-tab.html",'<div class="nav-tabs-alt">\n    <ul class="nav nav-tabs">\n		<li ng-repeat="list in tabConfig.lists track by $index" ng-class="{\'active\':$index==currentTab}">\n			<a href ng-click="tab(list,$index)">{{list.name}}</a>\n		</li>\n    </ul>\n</div>')}]);